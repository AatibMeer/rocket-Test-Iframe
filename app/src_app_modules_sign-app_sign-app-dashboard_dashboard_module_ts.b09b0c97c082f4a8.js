(self.webpackChunkrl_docman_app=self.webpackChunkrl_docman_app||[]).push([["src_app_modules_sign-app_sign-app-dashboard_dashboard_module_ts"],{5439:(Kt,dt,w)=>{"use strict";w.d(dt,{N:()=>p,s:()=>S});var M=w(9039);class S{constructor(i,F){this.elementRef=i,this.renderer=F}static MakeClassDictionary(i){return"string"==typeof i?this.MakeClassDictionary(i.split(" ")):Array.isArray(i)?i.reduce((F,nt)=>(nt&&(F[nt]=!0),F),{}):i}setClassnames(i,F={}){return"object"!=typeof i||Array.isArray(i)?this.setClassnames(S.MakeClassDictionary(i||{}),F):"string"==typeof F||Array.isArray(F)?this.setClassnames(i,S.MakeClassDictionary(F)):(Object.keys(i).forEach(nt=>{i[nt]&&(F[nt]?F[nt]=!1:nt&&this.renderer.addClass(this.elementRef.nativeElement,nt))}),void Object.keys(F).forEach(nt=>{F[nt]&&nt&&this.renderer.removeClass(this.elementRef.nativeElement,nt)}))}}let p=(()=>{class W{constructor(F,nt){this.helper=new S(F,nt)}ngOnChanges({classes:F}){F&&!F.firstChange&&this.helper.setClassnames(F.currentValue,F.previousValue)}ngOnInit(){this.classes&&this.helper.setClassnames(this.classes)}static#t=this.\u0275fac=function(nt){return new(nt||W)(M.Y36(M.SBq),M.Y36(M.Qsj))};static#e=this.\u0275dir=M.lG2({type:W,selectors:[["","rl-class",""]],inputs:{classes:[M.lbL.None,"rl-class","classes"]},features:[M.TTD]})}return W})()},2342:(Kt,dt,w)=>{"use strict";w.d(dt,{s:()=>i});var M=w(7290),S=w(9039);const p=["*"],W="rl-lightbox";let i=(()=>{class F{constructor(){this.bem=(0,M.aP)(W),this._visible=!1}get baseClassnames(){return(0,M.PH)(W,{visible:this.visible})}get visible(){return this._visible}set visible(ct){this._visible=!!ct}static#t=this.\u0275fac=function(Mt){return new(Mt||F)};static#e=this.\u0275cmp=S.Xpm({type:F,selectors:[["rl-lightbox"]],hostVars:2,hostBindings:function(Mt,P){2&Mt&&S.Tol(P.baseClassnames)},inputs:{visible:"visible"},ngContentSelectors:p,decls:2,vars:2,template:function(Mt,P){1&Mt&&(S.F$t(),S.TgZ(0,"div"),S.Hsn(1),S.qZA()),2&Mt&&S.Tol(P.bem("wrapper"))},styles:[".rl-lightbox[_nghost-%COMP%]{align-items:center;background-color:#3339;display:none;justify-content:center;inset:0;overflow:auto;overflow-x:hidden;position:fixed;z-index:7}.rl-lightbox--visible[_nghost-%COMP%]{display:flex}.rl-lightbox__wrapper[_ngcontent-%COMP%]{box-sizing:border-box;margin:auto}"]})}return F})()},7290:(Kt,dt,w)=>{"use strict";function M(P,q,rt){const J=q&&"string"==typeof q?`${P}__${q}`:P,it=void 0===q||"string"==typeof q?rt:q;return it?Object.keys(it).reduce((at,_t)=>it[_t]?`${at} ${J}--${_t}`:at,J):J}function S(P){return(q,rt)=>M(P,q,rt)}function Mt(P,q){const rt={en:{D:["D","d"],M:["M","m"],Y:["Y","y"]},rlus:{D:["D","d"],M:["M","m"],Y:["Y","y"]},fr:{D:["J","j"],M:["M","m"],Y:["A","a"]},pt:{D:["D","d"],M:["M","m"],Y:["A","a"]},nl:{D:["D","d"],M:["M","m"],Y:["J","j"]},es:{D:["D","d"],M:["M","m"],Y:["A","a"]}},J=["D","M","Y","d","m","y"];let it="";for(let at=0;at<P.length;at++){const _t=P.charAt(at),Tt=J.find(T=>T===_t),z=_t===_t.toUpperCase()?0:1;it+=Tt?rt[q][_t.toUpperCase()][z]:_t}return it}w.d(dt,{PH:()=>M,aP:()=>S,tu:()=>Mt})},7441:(Kt,dt,w)=>{"use strict";w.d(dt,{i:()=>S});var M=w(9039);let S=(()=>{class p{static#t=this.\u0275fac=function(F){return new(F||p)};static#e=this.\u0275mod=M.oAB({type:p});static#n=this.\u0275inj=M.cJS({})}return p})()},7886:(Kt,dt,w)=>{"use strict";w.d(dt,{R:()=>Mt});var M=w(6575),S=w(5939),p=w(1839),W=w(405),i=w(5366),F=w(6626),nt=w(6321),ct=w(9039);let Mt=(()=>{class P{static#t=this.\u0275fac=function(J){return new(J||P)};static#e=this.\u0275mod=ct.oAB({type:P});static#n=this.\u0275inj=ct.cJS({providers:[M.H9],imports:[M.ez,W.d,S.aw,p.z,i.G,F.Z,nt.j]})}return P})()},6925:(Kt,dt,w)=>{"use strict";w.d(dt,{I:()=>nt});var M=w(7542),S=w(8849),p=w(6575),W=w(7441),i=w(9039);let F=(()=>{class ct{static#t=this.\u0275fac=function(q){return new(q||ct)};static#e=this.\u0275mod=i.oAB({type:ct});static#n=this.\u0275inj=i.cJS({})}return ct})(),nt=(()=>{class ct{static#t=this.\u0275fac=function(q){return new(q||ct)};static#e=this.\u0275mod=i.oAB({type:ct});static#n=this.\u0275inj=i.cJS({imports:[S.u5,p.ez,M._7,W.i,F,S.UX]})}return ct})()},2252:(Kt,dt,w)=>{"use strict";w.d(dt,{_:()=>ct,w:()=>Mt});var M=w(9039),S=w(6575),p=w(9877),W=w(9016),i=w(4520),F=w(274),nt=w(1527);let ct=(()=>{class P{static mouseEventIsInsideElement(rt,J){return J.contains(rt.target)}constructor(rt,J){this.clickOutsideChange=new M.vpe,this.destroy=new p.x,this.document=rt,this.elementRef=J,this.mouseEventIsOutsideElement=it=>!P.mouseEventIsInsideElement(it,this.elementRef.nativeElement)}ngOnDestroy(){this.destroy.next()}ngOnInit(){(0,W.R)(this.document,"mousedown").pipe((0,i.h)(this.mouseEventIsOutsideElement),(0,F.R)(this.destroy)).subscribe(()=>{(0,W.R)(this.document,"mouseup").pipe((0,nt.q)(1),(0,F.R)(this.destroy)).subscribe(rt=>{this.mouseEventIsOutsideElement(rt)&&this.clickOutsideChange.emit(rt)})})}static#t=this.\u0275fac=function(J){return new(J||P)(M.Y36(S.K0),M.Y36(M.SBq))};static#e=this.\u0275dir=M.lG2({type:P,selectors:[["","rl-clickOutside",""]],outputs:{clickOutsideChange:"rl-clickOutside"}})}return P})(),Mt=(()=>{class P{static#t=this.\u0275fac=function(J){return new(J||P)};static#e=this.\u0275mod=M.oAB({type:P});static#n=this.\u0275inj=M.cJS({})}return P})()},9935:(Kt,dt,w)=>{"use strict";w.d(dt,{g:()=>p});var M=w(9877),S=w(9039);let p=(()=>{class W{constructor(){this.shouldHighlightInputsSource$=new M.x,this.highlightingInputsConfirmedSource$=new M.x,this.highlightNextInputSource$=new M.x,this.shouldHighlight$=this.shouldHighlightInputsSource$.asObservable(),this.highlightConfirmed$=this.highlightingInputsConfirmedSource$.asObservable(),this.highlightedNextInput$=new M.x}highlightInputs(){this.shouldHighlightInputsSource$.next()}confirmHighlightedInputs(){this.highlightingInputsConfirmedSource$.next()}highlightNextInput(){this.highlightNextInputSource$.next()}static#t=this.\u0275fac=function(nt){return new(nt||W)};static#e=this.\u0275prov=S.Yz7({token:W,factory:W.\u0275fac})}return W})()},7017:(Kt,dt,w)=>{"use strict";w.d(dt,{D:()=>nt,p:()=>F});var M=w(9039),S=w(9877),p=w(274),W=w(4997),i=w(9257);let F=(()=>{class ct{set transition(P){this._transition=P}constructor(P,q){this.modalControlService=P,this.eventTracker=q,this.onHideComplete=new M.vpe,this.destroy=new S.x}ngOnDestroy(){this.destroy.next()}ngOnInit(){this.modalControlService.close$.pipe((0,p.R)(this.destroy)).subscribe(P=>{P.data.nextModal?this.to=P.data.nextModal:P.data.reason===W.G.UserNavigatedBack?this.to="back":P.data.reason===W.G.UserNavigatedNext?this.to="next":(P.data.reason===W.G.UserTerminated?this.eventTracker.userTerminatedModal({}):(P.data.reason===W.G.CompletedSuccessfully||P.data.reason===W.G.CompletedWithError)&&this.eventTracker.modalClosed(),this.to="end")})}onAnimationComplete(P){"void"!==P.fromState&&this.onHideComplete.emit({nextModal:this.to})}static#t=this.\u0275fac=function(q){return new(q||ct)(M.Y36(W.e),M.Y36(i.a))};static#e=this.\u0275dir=M.lG2({type:ct,selectors:[["","rl-modal-transition",""]],hostVars:1,hostBindings:function(q,rt){1&q&&M.WFA("@showModal.done",function(it){return rt.onAnimationComplete(it)}),2&q&&M.d8E("@showModal",rt._transition)},inputs:{transition:[M.lbL.None,"rl-modal-transition","transition"]},outputs:{onHideComplete:"rl-modal-transition-onHide"}})}return ct})(),nt=(()=>{class ct{get direction(){return this._direction}constructor(P,q){this.modalControlService=P,this.changeDetectorRef=q,this.destroy=new S.x,this._direction="endA",this.modalControlService.close$.pipe((0,p.R)(this.destroy)).subscribe(rt=>{switch(rt.data.reason){case W.G.UserNavigatedNext:this.forwardDirection();break;case W.G.UserNavigatedBack:this.backwardDirection();break;default:this.endDirection()}this.changeDetectorRef.detectChanges()})}end(P){this.modalControlService.close(P)}endDirection(){this._direction="endA"!==this._direction?"endA":"endB"}backward(P){this.modalControlService.close(W.G.UserNavigatedBack,{nextModal:P})}backwardDirection(){this._direction="backA"!==this._direction?"backA":"backB"}forward(P){this.modalControlService.close(W.G.UserNavigatedNext,{nextModal:P})}forwardDirection(){this._direction="forwardA"!==this._direction?"forwardA":"forwardB"}ngOnDestroy(){this.destroy.next()}static#t=this.\u0275fac=function(q){return new(q||ct)(M.LFG(W.e),M.LFG(M.sBO))};static#e=this.\u0275prov=M.Yz7({token:ct,factory:ct.\u0275fac})}return ct})()},1191:(Kt,dt,w)=>{"use strict";w.d(dt,{K4:()=>K,Wb:()=>zt,vP:()=>bt,zS:()=>pt});var M=w(9877),S=w(2501),p=w(6575),W=w(4997),i=w(9039),F=w(9257),nt=w(5939),ct=w(8336),Mt=w(6518),P=w(2342);const q=["*"],J="150ms",it=".rl-modal, .modal-wrapper";function at(...ft){let de={};const gt=[];let Ot={};const Qt=[];let ye={};return ft.forEach(ee=>{if(Array.isArray(ee.animation)){const mt=ee.animation.find(pe=>pe.type===S.mo.Style).styles;de={...de,...mt},mt.transform&&"*"!==mt.transform&&gt.push(mt.transform);const ze=ee.animation.find(pe=>pe.type===S.mo.Animate).styles.styles;Ot={...Ot,...ze},ze.transform&&"*"!==ze.transform&&Qt.push(ze.transform)}ee.options&&ee.options.params&&(ye={...ye,...ee.options.params})}),de.transform=gt.join(" ")||"*",Ot.transform=Qt.join(" ")||"*",(0,S.oQ)([(0,S.oB)(de),(0,S.jt)("{{ timing }}",(0,S.oB)(Ot))],{params:ye})}const _t=(0,S.oQ)([(0,S.oB)({opacity:"{{ minOpacity }}"}),(0,S.jt)("{{ timing }}",(0,S.oB)({opacity:"*"}))],{params:{minOpacity:"0",timing:`${J} ease-out`}}),Tt=(0,S.oQ)([(0,S.oB)({opacity:"*"}),(0,S.jt)("{{ timing }}",(0,S.oB)({opacity:"{{ minOpacity }}"}))],{params:{minOpacity:"0",timing:`${J} ease-in`}}),z=(0,S.oQ)([(0,S.oB)({transform:"scale({{ scale }})"}),(0,S.jt)("{{ timing }}",(0,S.oB)({transform:"*"}))],{params:{timing:`${J} ease-in`,scale:"0.5"}}),T=(0,S.oQ)([(0,S.oB)({transform:"*"}),(0,S.jt)("{{ timing }}",(0,S.oB)({transform:"scale({{ scale }})"}))],{params:{timing:`${J} ease-in`,scale:"0.5"}}),O=(0,S.oQ)([(0,S.oB)({transform:"{{ from }}"}),(0,S.jt)("{{ timing }}",(0,S.oB)({transform:"{{ to }}"}))],{params:{from:"*",to:"*"}}),U=ft=>`void => ${ft}A, void => ${ft}B`,B=ft=>["end","forward","back"].filter(de=>de!==ft).reduce((de,gt)=>`${de}, ${gt}A => ${ft}A, ${gt}B => ${ft}A`,`${ft}A <=> ${ft}B`),K=(0,S.X$)("showModal",[(0,S.eR)(B("end"),[(0,S.IO)(it,[(0,S.ru)([(0,S._7)(T),(0,S._7)(Tt)])])]),(0,S.eR)(U("end"),[(0,S.IO)(it,[(0,S.ru)([(0,S._7)(z),(0,S._7)(_t)])])]),(0,S.eR)(B("forward"),[(0,S.IO)(it,[(0,S.ru)([(0,S._7)(at(O,T),{params:{to:"translateX(-224px)",timing:`${J} ease-in`}}),(0,S._7)(Tt)])])]),(0,S.eR)(U("forward"),[(0,S.IO)(it,[(0,S.ru)([(0,S._7)(at(O,z),{params:{from:"translateX(224px)",timing:`${J} ease-out`}}),(0,S._7)(_t)])])]),(0,S.eR)(B("back"),[(0,S.IO)(it,[(0,S.ru)([(0,S._7)(at(O,T),{params:{to:"translateX(224px)",timing:`${J} ease-in`}}),(0,S._7)(Tt)])])]),(0,S.eR)(U("back"),[(0,S.IO)(it,[(0,S.ru)([(0,S._7)(at(O,z),{params:{from:"translateX(-224px)",timing:`${J} ease-out`}}),(0,S._7)(_t)])])])]);let vt=(()=>{class ft{get id(){return this._id}set id(gt){this._id=gt}ngOnChanges({id:gt}){gt&&!gt.currentValue&&this.setRandomID()}ngOnInit(){this._id||this.setRandomID()}setRandomID(){const gt=new Array(12);for(let Ot=0;Ot<gt.length;Ot+=1)gt[Ot]=(16*Math.random()|0).toString(16);this._id=`${this.prefix}${gt.join("")}`}static#t=this.\u0275fac=function(Ot){return new(Ot||ft)};static#e=this.\u0275dir=i.lG2({type:ft,hostVars:1,hostBindings:function(Ot,Qt){2&Ot&&i.Ikx("id",Qt._id)},inputs:{id:"id"},features:[i.TTD]})}return ft})(),bt=(()=>{class ft extends vt{constructor(){super(...arguments),this.prefix="rlModalTitle"}static#t=this.\u0275fac=(()=>{let gt;return function(Qt){return(gt||(gt=i.n5z(ft)))(Qt||ft)}})();static#e=this.\u0275dir=i.lG2({type:ft,selectors:[["","rl-modal-title",""]],features:[i.qOj]})}return ft})(),zt=(()=>{class ft extends vt{constructor(){super(...arguments),this.prefix="rlModalDescription"}static#t=this.\u0275fac=(()=>{let gt;return function(Qt){return(gt||(gt=i.n5z(ft)))(Qt||ft)}})();static#e=this.\u0275dir=i.lG2({type:ft,selectors:[["","rl-modal-description",""]],features:[i.qOj]})}return ft})(),pt=(()=>{class ft{static getIDsFromDirectives(gt){return gt&&0!==gt.length?gt.reduce((Qt,ye)=>`${Qt} ${ye.id}`,"").trim():void 0}constructor(gt,Ot,Qt,ye,ee){this.eventTracker=gt,this.modalControlService=Ot,this.translateService=Qt,this.document=ye,this.rootClassnames="rl-modal",this.destroy=new M.x,this.binderID=ee.getState().binder.id}close(gt=W.G.UserTerminated){this.modalControlService.close(gt)}ngAfterContentInit(){this.setLabelledBy(),this.labelledByDirectives.changes.subscribe(()=>this.setLabelledBy()),this.setDescribedBy(),this.describedByDirectives.changes.subscribe(()=>this.setDescribedBy())}ngAfterViewInit(){this.trackVirtualPageView()}ngOnChanges({describedByInput:gt,labelledByInput:Ot}){gt&&this.setDescribedBy(),Ot&&this.setLabelledBy()}setDescribedBy(){this.describedBy=ft.getIDsFromDirectives(this.describedByDirectives)||this.describedByInput}setLabelledBy(){this.labelledBy=ft.getIDsFromDirectives(this.labelledByDirectives)||this.labelledByInput}makeFakeModalURL(){const gt=new URL(window.location?.href);return void 0===this.fakePath||(gt.pathname.includes(this.binderID)?gt.pathname=gt.pathname.replace(this.binderID,this.fakePath):gt.pathname+=`/${this.fakePath}`),gt}getTitle(){return this.labelledBy&&0!==this.labelledBy.trim().length?[...this.labelledBy.split(" ").map(Ot=>this.document.getElementById(Ot)?.textContent).filter(Ot=>!!(Ot&&Ot.trim().length>0)&&!this.translateService.store.translations[this.translateService.currentLang][Ot]),"RocketLawyer"].join(" | "):""}trackVirtualPageView(){const gt=this.makeFakeModalURL(),Ot=this.getTitle();this.document.title=Ot,this.eventTracker.virtualPageView({location:gt.toString(),pageTitle:Ot})}static#t=this.\u0275fac=function(Ot){return new(Ot||ft)(i.Y36(F.a),i.Y36(W.e),i.Y36(nt.sK),i.Y36(p.K0),i.Y36(ct.y))};static#e=this.\u0275cmp=i.Xpm({type:ft,selectors:[["rl-modal"]],contentQueries:function(Ot,Qt,ye){if(1&Ot&&(i.Suo(ye,zt,5),i.Suo(ye,bt,5)),2&Ot){let ee;i.iGM(ee=i.CRH())&&(Qt.describedByDirectives=ee),i.iGM(ee=i.CRH())&&(Qt.labelledByDirectives=ee)}},inputs:{describedByInput:[i.lbL.None,"describedBy","describedByInput"],fakePath:"fakePath",labelledByInput:[i.lbL.None,"labelledBy","labelledByInput"]},features:[i.TTD],ngContentSelectors:q,decls:3,vars:6,consts:[[3,"visible"],["rl-test","modal","role","dialog"]],template:function(Ot,Qt){1&Ot&&(i.F$t(),i.TgZ(0,"rl-lightbox",0)(1,"div",1),i.Hsn(2),i.qZA()()),2&Ot&&(i.Q6J("visible",!0),i.xp6(),i.Tol(Qt.rootClassnames),i.uIk("aria-modal",!0)("aria-labelledby",Qt.labelledBy)("aria-describedby",Qt.describedBy))},dependencies:[Mt.$m,P.s],styles:[".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.header-image[_ngcontent-%COMP%]{max-height:100%;max-width:100%;width:auto;height:auto;position:absolute;inset:0;margin:auto}.sign-icon[_ngcontent-%COMP%]{min-height:40px;margin:0 auto;width:40px;display:block}.default-icon[_ngcontent-%COMP%]{font-size:39px;width:40px;height:40px}.rl-modal[_ngcontent-%COMP%]{background-color:#fff;border-radius:9px;box-shadow:0 0 8px #1a1a261a;box-sizing:border-box;margin:16px;padding:0 16px 32px;width:calc(100vw - 32px)}@media (min-width: 480px){.rl-modal[_ngcontent-%COMP%]{margin:16px auto;padding:0 24px 32px;width:448px}}@media (min-width: 768px){.rl-modal[_ngcontent-%COMP%]{margin:16px auto;padding:0 80px 32px;width:560px}}"],data:{animation:[]}})}return ft})()},5366:(Kt,dt,w)=>{"use strict";w.d(dt,{G:()=>F});var M=w(6575),S=w(6321),p=w(3071),W=w(1839),i=w(9039);let F=(()=>{class nt{static#t=this.\u0275fac=function(P){return new(P||nt)};static#e=this.\u0275mod=i.oAB({type:nt});static#n=this.\u0275inj=i.cJS({imports:[M.ez,S.j,p.O,W.z]})}return nt})()},7802:(Kt,dt,w)=>{"use strict";w.r(dt),w.d(dt,{DashboardModule:()=>Hr});var M=w(5939),S=w(6575),p=w(1423),W=w(9671),i=w(9039),F=w(3246),nt=w(9736),ct=w(8685),Mt=w(9163),P=w(339),q=w(2393),rt=w.n(q),J=w(4776),it=w(6803),at=w(8336),_t=w(3497),Tt=w(6480),z=w(1911),T=w(8849);const O=["customTextContainer"],U=["wrapper"],B=["textarea"],K=["prompt"],vt=["promptOptional"],bt=["indicator"];function zt(f,A){if(1&f&&(i.TgZ(0,"div",12,13),i._UZ(2,"span",14),i.qZA()),2&f){const o=i.oxw();i.Udp("top",o.getIndicatorTopPosition())}}function pt(f,A){if(1&f&&(i.TgZ(0,"div",15),i._uU(1),i.qZA()),2&f){const o=i.oxw();i.Udp("color",o.partyAssignedToInput.metaData.style.background),i.xp6(),i.AsE(" ",o.input.value?o.input.value.length:0,"/",o.maxLength," ")}}const ft=f=>({"font-size":f});function de(f,A){if(1&f&&i._UZ(0,"div",16,17),2&f){const o=i.oxw();i.ekj("hidden",!o.input.optional||o.input.value),i.Q6J("ngStyle",i.VKq(4,ft,o.dynamicFontSize+"px"))("comContent","custom-text-component_optional-no-prompt")}}const gt=f=>({prompt:f});function Ot(f,A){if(1&f&&i._UZ(0,"div",18,17),2&f){const o=i.oxw();i.ekj("hidden",!o.input.optional||o.input.value),i.Q6J("ngStyle",i.VKq(5,ft,o.dynamicFontSize+"px"))("comContent","custom-text-component_optional-prompt")("params",i.VKq(7,gt,o.input.prompt))}}const Qt=(f,A,o,c)=>({height:f,top:A,left:o,width:c}),ye=f=>({border:f});let ee=(()=>{class f{constructor(o,c,u){this.notificationService=o,this.sanitizer=c,this.store=u,this.customTextValue="",this.branding={},this.focused=!1,this.promptOverflow=!1,this.minInputHeightInPercent=2.5,this.maxLength=250,u.getState().get("brandConfig")&&(this.branding=u.getState().brandConfig.lookAndFeel)}ngOnInit(){const o=this.store.getState();this.currentPartyRef=(0,P.gk)(o),this.partyAssignedToInput=(0,P.gt)(this.store.getState(),this.input),setTimeout(()=>{this.input.optional?this.promptOptionalEl.nativeElement.scrollHeight>this.promptOptionalEl.nativeElement.clientHeight&&(this.promptOverflow=!0):this.promptEl.nativeElement.scrollHeight>this.promptEl.nativeElement.clientHeight&&(this.promptOverflow=!0)},100)}onKeyup(){const o=this.textarea.nativeElement;for(;o.clientHeight+5<o.scrollHeight;)o.value=o.value.slice(0,o.value.length-2)}getIndicatorTopPosition(){if(this.indicator&&this.indicator.nativeElement){const{top:o}=this.styles,u=this.styles.height.replace("%","")/2;return this.sanitizer.bypassSecurityTrustStyle(`calc(${o} + ${u}% - ${this.indicator.nativeElement.clientHeight/2}px)`)}return this.sanitizer.bypassSecurityTrustStyle("0px")}setCustomTextStyle(){const o=this.getCustomTextLineHeight();return{"z-index":"2",color:this.font.color,"font-family":this.font["font-family"],"font-size":`${this.dynamicFontSize}px`,"line-height":`${o}px`}}getCustomTextLineHeight(){const o=document.querySelector(".doc-img");return o?Math.floor(o.clientHeight/100*this.minInputHeightInPercent):30}getBoundingClientRect(){return this.wrapperEl.nativeElement.getBoundingClientRect()}focusInput(){this.partyAssignedToInput.reference===this.currentPartyRef&&this.textarea.nativeElement.focus()}onFocus(){this.focused=!0}onFocusOut(){this.focused=!1;let o={color:"#333333",sizeInPx:14,type:"OPEN_SANS",weight:"NORMAL_400"};this.input.font&&(o={...this.input.font}),this.store.dispatch(J.r2({id:this.input.id,partyReference:this.input.partyReference,value:this.input.value,font:o}))}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(_t.i),i.Y36(Tt.H7),i.Y36(at.y))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["custom-text-input"]],viewQuery:function(c,u){if(1&c&&(i.Gf(O,5),i.Gf(U,5),i.Gf(B,5),i.Gf(K,5),i.Gf(vt,5),i.Gf(bt,5,i.SBq)),2&c){let C;i.iGM(C=i.CRH())&&(u.customTextContainer=C.first),i.iGM(C=i.CRH())&&(u.wrapperEl=C.first),i.iGM(C=i.CRH())&&(u.textarea=C.first),i.iGM(C=i.CRH())&&(u.promptEl=C.first),i.iGM(C=i.CRH())&&(u.promptOptionalEl=C.first),i.iGM(C=i.CRH())&&(u.indicator=C.first)}},inputs:{input:"input",highlight:"highlight",highlightedInputClicks:"highlightedInputClicks",styles:"styles",font:"font",dynamicFontSize:"dynamicFontSize",redOutline:"redOutline"},decls:15,vars:32,consts:[["class","indicator-arrow",3,"top"],[1,"custom-text-container",3,"ngStyle","click"],["customTextContainer",""],[1,"custom-text-wrapper",3,"ngStyle"],["wrapper",""],["name","message","name","custom-text-field",1,"custom-text-textarea",3,"ngStyle","maxLength","ngModel","focus","focusout","keyup","ngModelChange"],["textarea","","message","ngModel"],["class","text-right",3,"color"],[1,"prompt",3,"ngStyle"],["prompt",""],["class","prompt",3,"ngStyle","hidden","comContent"],["class","prompt",3,"ngStyle","hidden","comContent","params"],[1,"indicator-arrow"],["indicator",""],[1,"rl-icon","pencil"],[1,"text-right"],[1,"prompt",3,"ngStyle","comContent"],["promptOptional",""],[1,"prompt",3,"ngStyle","comContent","params"]],template:function(c,u){1&c&&(i.YNc(0,zt,3,2,"div",0),i.TgZ(1,"div",1,2),i.NdJ("click",function(){return u.focusInput()}),i.TgZ(3,"div",3,4)(5,"textarea",5,6),i.NdJ("focus",function(){return u.onFocus()})("focusout",function(){return u.onFocusOut()})("keyup",function(){return u.onKeyup()})("ngModelChange",function(V){return u.input.value=V}),i._uU(8,"    "),i.qZA(),i.YNc(9,pt,2,4,"div",7),i.TgZ(10,"div",8,9),i._uU(12),i.qZA(),i.YNc(13,de,2,6,"div",10)(14,Ot,2,9,"div",11),i.qZA()()),2&c&&(i.um2(0,!u.highlight||u.customTextValue||u.focused?-1:0),i.xp6(),i.ekj("disabled",u.partyAssignedToInput.reference!=u.currentPartyRef),i.Q6J("ngStyle",i.l5B(23,Qt,u.styles.height,u.styles.top,u.styles.left,u.styles.width)),i.xp6(2),i.Udp("border-color",u.partyAssignedToInput.metaData.style.background),i.ekj("pulse",u.highlightedInputClicks>0&&u.highlightedInputClicks%2==0&&!u.customTextValue&&u.highlight)("second-pulse",u.highlightedInputClicks>0&&u.highlightedInputClicks%2>0&&!u.customTextValue&&u.highlight)("show-signature-error",u.highlightedInputClicks>0&&u.highlightedInputClicks%2>0&&!u.customTextValue&&u.highlight&&u.redOutline),i.Q6J("ngStyle",i.VKq(28,ye,u.styles.border)),i.xp6(2),i.Q6J("ngStyle",u.setCustomTextStyle())("maxLength",u.maxLength)("ngModel",u.input.value),i.xp6(4),i.um2(9,u.focused||u.input.value?9:-1),i.xp6(),i.ekj("hidden",u.input.optional||u.input.value),i.Q6J("ngStyle",i.VKq(30,ft,u.dynamicFontSize+"px")),i.xp6(2),i.Oqu(u.input.prompt?u.input.prompt:""),i.xp6(),i.um2(13,u.input.prompt?-1:13),i.xp6(),i.um2(14,u.input.prompt?14:-1))},dependencies:[S.PC,z.q,T.Fj,T.JJ,T.On],styles:['@keyframes _ngcontent-%COMP%_pulse{0%{transform:scaleX(1) scaleY(1) scaleZ(1)}11.11%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}22.22%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}33.33%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}44.44%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}55.55%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}66.66%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}77.77%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}88.88%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}to{transform:scaleX(1) scaleY(1) scaleZ(1)}}@keyframes _ngcontent-%COMP%_second-pulse{0%{transform:scaleX(1) scaleY(1) scaleZ(1)}11.11%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}22.22%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}33.33%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}44.44%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}55.55%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}66.66%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}77.77%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}88.88%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}to{transform:scaleX(1) scaleY(1) scaleZ(1)}}.bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}a[_ngcontent-%COMP%],   a{color:var(--rl-action-primary-default, #d68021)}.btn[_ngcontent-%COMP%]{display:inline-block;text-align:center;text-decoration:none;cursor:pointer;font-family:Open Sans;min-width:194px;-webkit-user-select:none;user-select:none}.btn[_ngcontent-%COMP%]:focus{outline:none}.btn.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none;cursor:default}.btn.disabled[_ngcontent-%COMP%]:hover{background-color:none}.btn-primary[_ngcontent-%COMP%]{border:0 none;border-radius:var(--rl-button-border-radius, 0px);font-size:16px;font-weight:400;line-height:20px;color:#fff;height:45px;min-height:45px;border-bottom:3px solid #8c5416;position:relative;transition:background-color .2s ease}.btn-secondary[_ngcontent-%COMP%]{position:relative;border-radius:var(--rl-button-border-radius, 0px);font-size:16px;line-height:20px;height:45px;min-height:45px;background-color:transparent;color:var(--rl-action-primary-default, #d68021);border:1px solid var(--rl-action-primary-default, #d68021);padding:10px 17px;text-align:center;display:block;font-weight:400}.btn-secondary[_ngcontent-%COMP%]   .rl-icon[_ngcontent-%COMP%]{font-size:20px}.btn-secondary[_ngcontent-%COMP%]   .rl-icon.delete[_ngcontent-%COMP%]{font-size:16px}.btn-secondary[_ngcontent-%COMP%]   com[_ngcontent-%COMP%]{font-weight:400}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.btn-secondary[_ngcontent-%COMP%]:active{background-color:#d8d8d8}.btn-block[_ngcontent-%COMP%]{display:block;width:100%}.close-btn[_ngcontent-%COMP%]{background:url(/images/modal/close.svg) no-repeat;background-size:30px;width:30px;height:30px;position:absolute;top:12px;right:12px}.close-btn[_ngcontent-%COMP%]:hover{background:url(/images/modal/close-hover.svg) no-repeat;background-size:30px;cursor:pointer}.indicator-arrow[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;background-color:#ffe900;position:absolute;left:-15px;width:31px;height:28px;font-size:15px;font-weight:600;color:#666;display:flex;pointer-events:none;justify-content:center;align-items:center}.indicator-arrow[_ngcontent-%COMP%]   .rl-icon.pencil[_ngcontent-%COMP%]{position:relative;left:5px}.indicator-arrow[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:0;left:100%;width:0;height:0;border:solid transparent;border-width:14px;border-left-color:#ffe900}@media screen and (min-width: 480px){.indicator-arrow[_ngcontent-%COMP%]{width:45px;height:30px;font-size:17px}.indicator-arrow[_ngcontent-%COMP%]:after{border-width:15px}}@media screen and (min-width: 968px){.indicator-arrow[_ngcontent-%COMP%]{width:70px;height:45px;left:-30px;font-size:22px}.indicator-arrow[_ngcontent-%COMP%]:after{border-width:22.5px}}.custom-text-container[_ngcontent-%COMP%]{width:100%;position:absolute}.custom-text-container[_ngcontent-%COMP%]:hover{cursor:pointer}.custom-text-container.disabled[_ngcontent-%COMP%]:hover{cursor:not-allowed}.custom-text-container[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}.custom-text-wrapper[_ngcontent-%COMP%]{position:absolute;padding:0!important;font-size:10px;height:100%;width:100%}.custom-text-wrapper.pulse[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_pulse;animation-duration:1s;animation-fill-mode:both}.custom-text-wrapper.pulse[_ngcontent-%COMP%]   .indicator-arrow[_ngcontent-%COMP%]{background-color:#e62300}.custom-text-wrapper.pulse[_ngcontent-%COMP%]   .indicator-arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.custom-text-wrapper.pulse[_ngcontent-%COMP%]   .indicator-arrow[_ngcontent-%COMP%]:after{border-left-color:#e62300}.custom-text-wrapper.pulse.show-signature-error[_ngcontent-%COMP%]{border:2px solid #e62300!important}.custom-text-wrapper.second-pulse[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_second-pulse;animation-duration:1.3s;animation-fill-mode:both}.custom-text-wrapper.second-pulse[_ngcontent-%COMP%]   .indicator-arrow[_ngcontent-%COMP%]{background-color:#e62300}.custom-text-wrapper.second-pulse[_ngcontent-%COMP%]   .indicator-arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.custom-text-wrapper.second-pulse[_ngcontent-%COMP%]   .indicator-arrow[_ngcontent-%COMP%]:after{border-left-color:#e62300}.custom-text-wrapper.second-pulse.show-signature-error[_ngcontent-%COMP%]{border:2px solid #e62300!important}.custom-text-wrapper[_ngcontent-%COMP%]   .transparent-background[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;opacity:.2}.custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-textarea[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box;resize:none;overflow:hidden;border:none;background:transparent;font-family:Open Sans,"monospace"}.custom-text-wrapper[_ngcontent-%COMP%]   .prompt[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;color:#900;position:absolute;top:0;padding-left:1%;overflow:hidden;word-break:break-all;text-align:left;height:100%}.custom-text-wrapper[_ngcontent-%COMP%]   .prompt-ellipsis[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;background-color:#fff;color:#900;padding-right:3px;border-radius:5px}.custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-textarea[_ngcontent-%COMP%]:focus ~ .prompt[_ngcontent-%COMP%], .custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-textarea[_ngcontent-%COMP%]:focus ~ .prompt-ellipsis[_ngcontent-%COMP%]{display:none}.custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-input[_ngcontent-%COMP%], .custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-overflow-test[_ngcontent-%COMP%]{width:100%;height:100%;padding:1%;box-sizing:border-box;text-align:left;color:#333;word-break:break-all}.custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-input[_ngcontent-%COMP%]:focus, .custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-overflow-test[_ngcontent-%COMP%]:focus{outline:0 solid transparent;background-color:transparent}.custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-input[_ngcontent-%COMP%]{overflow:hidden;white-space:pre-wrap;position:relative}.custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-overflow-test[_ngcontent-%COMP%], .custom-text-wrapper[_ngcontent-%COMP%]   .custom-text-font-size-test[_ngcontent-%COMP%]{top:0;height:auto;color:transparent;opacity:0;position:absolute}@media (min-width: 768px){.custom-text-wrapper[_ngcontent-%COMP%]{font-size:12px}}@media (min-width: 1200px){.custom-text-wrapper[_ngcontent-%COMP%]{font-size:16px}}']})}return f})();var pn=w(9877),mt=w(274),se=w(7290),ze=w(292),pe=w.n(ze);let hn=(()=>{class f{constructor(o,c){this.el=o,this.renderer=c,this.minFontSize=7,this.maxFontSize=1e3,this.useMaxFontSize=!0,this.fontSizeChanged=new i.vpe,this.fontSize=1e3,this.speed=1.05,this.done=!1}setFontSize(o){if(this.isVisible()&&!this.done)return o<this.minFontSize&&(o=this.minFontSize),o>this.maxFontSize&&(o=this.maxFontSize),this.fontSize=o,this.fontSizeChanged.emit(o),this.el.nativeElement.style.setProperty("font-size",o.toString()+"px")}calculateFontSize(o,c){return Math.floor(o/c)}checkOverflow(o,c){return c.scrollWidth-o.clientWidth>1||c.scrollHeight-o.clientHeight>1}onResize(o){this.done=!1,this.activateOnResize&&this.fittext&&(this.setFontSize(this.activateOnInputEvents&&this.fittext?this.getStartFontSizeFromHeight():this.getStartFontSizeFromWeight()),this.ngAfterViewInit())}onInputEvents(o){this.done=!1,this.activateOnInputEvents&&this.fittext&&(this.setFontSize(this.getStartFontSizeFromHeight()),this.ngAfterViewInit())}ngOnInit(){this.done=!1,this.el.nativeElement.style.setProperty("will-change","content"),this.ngAfterViewInit()}ngAfterViewInit(){this.isVisible()&&!this.done&&this.fittext&&(this.checkOverflow(this.container?this.container:this.el.nativeElement.parentElement,this.el.nativeElement)?this.fontSize>this.minFontSize&&(this.setFontSize(this.calculateFontSize(this.fontSize,this.speed)),this.ngAfterViewInit()):this.done=!0)}ngOnChanges(o){o.modelToWatch&&setTimeout(()=>{this.done=!1,this.setFontSize(this.maxFontSize),this.ngAfterViewInit()})}ngAfterViewChecked(){this.fontSize>this.minFontSize&&(this.setFontSize(this.getStartFontSizeFromHeight()),this.ngAfterViewInit())}getStartFontSizeFromHeight(){return this.container?this.container.clientHeight:this.el.nativeElement.parentElement.clientHeight}getStartFontSizeFromWeight(){return this.container?this.container.clientWidth:this.el.nativeElement.parentElement.clientWidth}isVisible(){return this.getStartFontSizeFromHeight()>0}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(i.SBq),i.Y36(i.Qsj))};static#e=this.\u0275dir=i.lG2({type:f,selectors:[["","fittext",""]],hostBindings:function(c,u){1&c&&i.NdJ("resize",function(V){return u.onResize(V)},!1,i.Jf7)("input",function(V){return u.onInputEvents(V)})},inputs:{fittext:"fittext",activateOnResize:"activateOnResize",container:"container",activateOnInputEvents:"activateOnInputEvents",minFontSize:"minFontSize",maxFontSize:"maxFontSize",useMaxFontSize:"useMaxFontSize",modelToWatch:"modelToWatch"},outputs:{fontSizeChanged:"fontSizeChanged"},features:[i.TTD]})}return f})();var Vn=w(7542),Pe=w(5781),Xe=w(7026),wn=w(5453),fn=w(9016);let di=(()=>{class f{constructor(o,c,u){this.elementRef=o,this.renderer=u,this.dateFormat="",this.dateChanged=new i.vpe,this.dateType="native",this.destroy=new pn.x,this.locale=c.localize.region,this.fullDateFormat=(0,Xe.mh)(this.locale),this.dayRegExp=/D+/gi,this.doubleSeparatorRegExp=/[., \/\\-]{2,}/g,this.monthRegExp=/M+/gi,this.nonNumericRegExp=/\D+/g,this.separatorRegExp=/[., \/\\-]+/g,this.yearRegExp=/Y+/gi}isValid(){const o=this.dateFormat.split(this.separatorRegExp),c=this.elementRef.nativeElement.value.split(this.separatorRegExp).filter(u=>u);return o.length===c.length}ngOnChanges({date:o,options:c}){if(o&&o.currentValue&&this.setDate(o.currentValue),c){const{day:u,month:C,year:V,locale:Ct}=c.currentValue;Ct&&(this.locale=Ct);let lt=this.fullDateFormat;!1===u&&(lt=lt.replace(this.dayRegExp,"")),!1===C&&(lt=lt.replace(this.monthRegExp,"")),!1===V&&(lt=lt.replace(this.yearRegExp,"")),lt=lt.replace(this.doubleSeparatorRegExp,$t=>$t.charAt(0)),this.setDateFormat(lt),this.updateInput()}}ngOnDestroy(){this.destroy.next()}ngOnInit(){this.renderer.setAttribute(this.elementRef.nativeElement,"inputmode","numeric"),(0,fn.R)(this.elementRef.nativeElement,"input").pipe((0,mt.R)(this.destroy)).subscribe(o=>{"deleteContentBackward"===o.inputType||"historyUndo"===o.inputType||this.updateInput()}),(0,fn.R)(this.elementRef.nativeElement,"change").pipe((0,mt.R)(this.destroy)).subscribe(()=>{this.updateInput();const o=pe()(this.elementRef.nativeElement.value,this.dateFormat).locale(this.locale);o.isValid()&&this.isValid()?this.dateChanged.emit("moment"===this.dateType?o:o.toDate()):this.dateChanged.emit(void 0)}),this.dateFormat||this.setDateFormat(this.fullDateFormat),this.setDate(this.date)}setDate(o){if(pe().isDayjs(o)&&o.isValid()){const c=o.format(this.dateFormat);this.renderer.setProperty(this.elementRef.nativeElement,"value",c)}else o instanceof Date?this.setDate(pe()(o).locale(this.locale)):this.renderer.setProperty(this.elementRef.nativeElement,"value","")}setDateFormat(o){this.dateFormat=o,this.renderer.setAttribute(this.elementRef.nativeElement,"maxlength",o.length.toString(10)),this.renderer.setProperty(this.elementRef.nativeElement,"placeholder",o)}updateInput(){const o=this.elementRef.nativeElement,c=o.value.replace(this.nonNumericRegExp,""),u=o.value.substring(0,o.selectionStart).replace(this.nonNumericRegExp,"").length,C=this.dateFormat.split(this.separatorRegExp);let V="",Ct=0,lt=u;for(let $t=0;$t<C.length;$t+=1){const te=this.separatorRegExp.exec(this.dateFormat);te&&u>Ct+te[0].length&&(lt+=te[0].length);const me=c.substring(Ct,Ct+C[$t].length);Ct+=C[$t].length,V+=me,me.length===C[$t].length&&te&&(V+=te[0])}lt<0&&(lt=0),this.renderer.setProperty(o,"value",V),o.setSelectionRange(lt,lt)}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(i.SBq),i.Y36(wn.o),i.Y36(i.Qsj))};static#e=this.\u0275dir=i.lG2({type:f,selectors:[["input","rl-quick-date",""]],inputs:{date:"date",dateType:[i.lbL.None,"rl-quick-date","dateType"],options:[i.lbL.None,"rl-quick-date-options","options"]},outputs:{dateChanged:"dateChanged"},features:[i.TTD]})}return f})();var Wn=w(3594);const fe=f=>({locale:f});function Ni(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"rl-text-input",2)(1,"i",3,4),i.NdJ("click",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.calendarIconClick())}),i.qZA(),i.TgZ(3,"input",5,6),i.NdJ("dateChanged",function(u){i.CHM(o);const C=i.oxw();return i.KtG(C.onDateChange(u))})("focus",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.inputFocus())}),i.qZA(),i._UZ(5,"i",7,8),i.qZA()}if(2&f){const o=i.oxw();i.Tol(o.bem()),i.Q6J("color",o.color),i.xp6(),i.Gre("rl-icon calendar ",o.bem("calendar-icon"),""),i.xp6(2),i.Q6J("locale",o.locale)("id",o.id)("ngModel",o.dateModel)("options",o.options)("rl-quick-date-options",i.VKq(15,fe,o.locale)),i.xp6(2),i.Gre("rl-icon alert-info ",o.bem("alert-icon"),""),i.Q6J("hidden",!o.invalid)}}function pi(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"input",9),i.NdJ("dateChanged",function(u){i.CHM(o);const C=i.oxw();return i.KtG(C.onDateChange(u))}),i.qZA()}if(2&f){const o=i.oxw();i.Tol(o.bem("inline-input")),i.Q6J("locale",o.locale)("ngModel",o.dateModel)("options",o.options)}}function At(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"input",9),i.NdJ("dateChanged",function(u){i.CHM(o);const C=i.oxw();return i.KtG(C.onDateChange(u))}),i.qZA()}if(2&f){const o=i.oxw();i.Tol(o.bem("inline-input")),i.Q6J("locale",o.locale)("ngModel",o.dateModel)("options",o.options)}}class jt{static#t=this.defaultOptions=Object.freeze({dateRange:!1,focusInputOnDateSelect:!1,markCurrentDay:!0,sunHighlight:!1});static#e=this.defaultStylesDataStyles="\n        {{selector}} .myDpDisabled {\n            background: #f7f7f8;\n            cursor: default;\n            color: #666;\n        }\n        {{selector}} .myDpSelectedDay {\n            background-color: #d68021;\n        }\n        {{selector}} .ng-mydp {\n            margin-left: {{leftMarginValue}}px;\n            position: absolute;\n            top: {{topPositionValue}};\n            z-index: 5;\n        }\n    ";static#n=this.DATEPICKER_SIDE_LENGTH=266;static#i=this.MINIMAL_MARGIN=5;static#o=this.INPUT_HEIGHT_AS_PERCENT=.05;get invalid(){return this.ngControl.invalid}constructor(A,o,c){this.ngControl=o,this.bem=(0,se.aP)("rl-date-input"),this.color="secondary",this.id=null,this.locale=A.localize.region,this.dateModel={isRange:!1},this.onChangeFn=()=>{},this.onTouchFn=()=>{},o&&(o.valueAccessor=this),this.elementRef=c}calendarIconClick(){this.datePicker.toggleCalendar()}inputFocus(){this.datePicker.openCalendar()}onDateChange(A){return void 0===A&&this.onChangeFn(void 0),pe().isDayjs(A)?this.onChange(A):A.isRange?this.onChange(pe()(A.dateRange.beginJsDate).locale(this.locale),pe()(A.dateRange.endJsDate).locale(this.locale)):this.onDateChange(pe()(A.singleDate.jsDate).locale(this.locale))}onChange(A,o){this.onChangeFn(this.options.dateRange&&o?{from:{date:A,formatted:A.format(this.dateFormat)},to:{date:o,formatted:o.format(this.dateFormat)}}:{from:{date:A,formatted:A.format(this.dateFormat)}})}calculateLeftMargin(){const{x:A}=this.elementRef.nativeElement.getBoundingClientRect(),o=window.innerWidth;return A+jt.DATEPICKER_SIDE_LENGTH>o?o-(A+jt.DATEPICKER_SIDE_LENGTH+jt.MINIMAL_MARGIN):0}calculateTopPosition(){const{top:A}=this.elementRef.nativeElement.getBoundingClientRect(),o=window.innerHeight,c=document.getElementsByClassName("content-wrapper")[0].getBoundingClientRect().height,u=jt.INPUT_HEIGHT_AS_PERCENT*o;return A-c<jt.DATEPICKER_SIDE_LENGTH+jt.MINIMAL_MARGIN+u?jt.DATEPICKER_SIDE_LENGTH+u>o-A-u?`${-(A-c)+u}px`:"calc(100% + 1px)":`-${jt.DATEPICKER_SIDE_LENGTH+1}px`}makeStylesData(A){const o=A&&A.selector||this.id;return{selector:o,styles:`${jt.defaultStylesDataStyles.replace(/{{selector}}/g,o?`.${o}`:"").replace(/{{leftMarginValue}}/g,this.calculateLeftMargin().toString()).replace(/{{topPositionValue}}/g,this.calculateTopPosition())} ${A&&A.styles}`}}ngOnChanges({color:A,id:o,locale:c,options:u}){A&&(this.color=A.currentValue&&(0,Pe.D5)(A.currentValue)?A.currentValue:"secondary"),o&&(this.id=o.currentValue||null),u&&(this.options={...jt.defaultOptions,dateFormat:this.dateFormat.toLowerCase(),...u.currentValue||{},stylesData:this.makeStylesData(u.currentValue&&u.currentValue.stylesData)},this.dateModel={...this.dateModel,isRange:!!this.options.dateRange}),c&&(this.locale=c.currentValue,this.dateFormat=(0,Xe.mh)(c.currentValue),this.options={...this.options,dateFormat:this.dateFormat.toLowerCase()})}ngOnInit(){void 0===this.options&&(this.options={...jt.defaultOptions,stylesData:this.makeStylesData(void 0)}),this.ngControl&&this.writeValue(this.ngControl.value)}registerOnChange(A){this.onChangeFn=A}registerOnTouched(A){this.onTouchFn=A}writeValue(A){if("string"==typeof A){const o=pe()(A,this.dateFormat).locale(this.locale);o.isValid()?this.writeValue({from:{date:o,formatted:o.format(this.dateFormat)}}):this.dateModel={isRange:this.dateModel.isRange}}else if(A.from){const o={year:A.from.date.year(),month:A.from.date.month()+1,day:A.from.date.date()};this.dateModel=A.to?{isRange:this.dateModel.isRange,dateRange:{beginDate:o,endDate:{year:A.from.date.year(),month:A.from.date.month()+1,day:A.from.date.date()}}}:{isRange:this.dateModel.isRange,singleDate:{date:o}}}}static#r=this.\u0275fac=function(o){return new(o||jt)(i.Y36(wn.o),i.Y36(T.a5,10),i.Y36(i.SBq))};static#a=this.\u0275cmp=i.Xpm({type:jt,selectors:[["rl-date-input"]],viewQuery:function(o,c){if(1&o&&i.Gf(Vn.w_,5),2&o){let u;i.iGM(u=i.CRH())&&(c.datePicker=u.first)}},inputs:{color:"color",id:[i.lbL.None,"control-id","id"],locale:"locale",dateFormat:"dateFormat",options:"options"},features:[i.TTD],decls:4,vars:1,consts:[[3,"class","color"],["inline",""],[3,"color"],["rl-typography","","role","presentation",3,"click"],["prepend",""],["angular-mydatepicker","","autocomplete","off","rl-quick-date","moment","rl-test","date-input",3,"locale","id","ngModel","options","rl-quick-date-options","dateChanged","focus"],["input",""],["role","presentation",3,"hidden"],["append",""],["angular-mydatepicker","",3,"locale","ngModel","options","dateChanged"]],template:function(o,c){1&o&&i.YNc(0,Ni,7,17,"rl-text-input",0)(1,pi,1,5)(2,At,1,5,"ng-template",null,1,i.W1O),2&o&&i.um2(0,c.options.inline?1:0)},dependencies:[T.Fj,T.JJ,T.On,Vn.w_,di,Wn.t],styles:[".rl-date-input[_ngcontent-%COMP%]{position:relative}.rl-date-input__alert-icon[_ngcontent-%COMP%]{font-size:16px}.rl-date-input__calendar-icon[_ngcontent-%COMP%]{font-size:24px}.rl-date-input__alert-icon[_ngcontent-%COMP%]{margin-right:12px}.rl-date-input__calendar-icon[_ngcontent-%COMP%]{margin-left:12px}.rl-date-input__inline-input[_ngcontent-%COMP%]{display:none}"]})}var Ye=w(2252);const Qe=["wrapper"],Mn=["placeholderWrapper"],hi=["signatureInputValue"],Li=["simulationWrapper"],fi=["simulationInputValue"],qe=["indicator"],gn=["svgSignature"];function Gn(f,A){if(1&f&&(i.TgZ(0,"div",11,12),i._UZ(2,"span",13),i.qZA()),2&f){const o=i.oxw();i.Udp("top",o.getIndicatorTopPosition())}}const Ue=(f,A)=>({color:f,"font-size":A});function gi(f,A){if(1&f&&i._UZ(0,"span",22),2&f){const o=i.oxw(2);i.Q6J("ngStyle",i.WLB(1,Ue,o.partyAssignedToInput.metaData.style.background,o.iconFontSizes[o.input.type]))}}function Zn(f,A){if(1&f&&i._UZ(0,"span",23),2&f){const o=i.oxw(2);i.Q6J("ngStyle",i.WLB(1,Ue,o.partyAssignedToInput.metaData.style.background,o.iconFontSizes[o.input.type]))}}function Jn(f,A){if(1&f&&i._UZ(0,"span",24),2&f){const o=i.oxw(2);i.Q6J("ngStyle",i.WLB(1,Ue,o.partyAssignedToInput.metaData.style.background,o.iconFontSizes[o.input.type]))}}const je=f=>({color:f});function It(f,A){if(1&f&&(i.TgZ(0,"span",14)(1,"span",15),i.YNc(2,gi,1,4,"span",16)(3,Zn,1,4,"span",17)(4,Jn,1,4,"span",18),i.qZA(),i.TgZ(5,"span",19,20)(7,"span",21),i._uU(8),i.qZA()()()),2&f){const o=i.MAs(6),c=i.oxw();i.Udp("color",c.partyAssignedToInput.metaData.style.background),i.ekj("initials-input","INITIALS"==c.input.type),i.xp6(2),i.um2(2,"SIGNATURE_TEXT"==c.input.type?2:-1),i.xp6(),i.um2(3,"INITIALS"==c.input.type?3:-1),i.xp6(),i.um2(4,"CUSTOM_TEXT"==c.input.type?4:-1),i.xp6(3),i.Q6J("ngStyle",i.VKq(15,je,c.partyAssignedToInput.metaData.style.background))("fittext",!0)("activateOnResize",!0)("modelToWatch",c.partyAssignedToInput.legalName)("minFontSize",6)("maxFontSize",20)("container",o.nativeElement),i.xp6(),i.hij(" ",c.inputLabel,"")}}function Hi(f,A){if(1&f&&(i.TgZ(0,"span",25,26),i._uU(2),i.qZA()),2&f){const o=i.oxw(),c=i.MAs(2);i.Q6J("fittext",!0)("activateOnResize",!0)("modelToWatch",o.input.value)("minFontSize",6)("maxFontSize","DATE_SIGNED"==o.input.type?18:42)("container",c.nativeElement)("ngStyle",o.font),i.xp6(2),i.hij(" ",o.input.value," ")}}function Kn(f,A){if(1&f&&(i.TgZ(0,"span",27),i._uU(1),i.qZA()),2&f){const o=i.oxw(),c=i.MAs(2);i.Q6J("ngStyle",i.VKq(8,je,o.partyAssignedToInput.metaData.style.background))("fittext",!0)("minFontSize",6)("activateOnResize",!0)("modelToWatch",o.currentDate)("container",c.nativeElement)("maxFontSize","DATE_SIGNED"==o.input.type?18:42),i.xp6(),i.hij(" ",o.currentDate," ")}}function On(f,A){1&f&&i._UZ(0,"span",28)}function _o(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"form")(1,"rl-date-input",29),i.NdJ("rl-clickOutside",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.showDatePicker=!1)}),i.qZA()()}if(2&f){const o=i.oxw();i.xp6(),i.Q6J("formControl",o.date)("dateFormat",o.requestedDateFormat)("locale",o.datepickerLanguage)("options",o.options)}}function mi(f,A){if(1&f&&(i.TgZ(0,"div",30,31)(2,"div",32,33),i._uU(4),i.qZA()()),2&f){const o=i.MAs(1),c=i.oxw();i.Q6J("ngStyle",c.simulationStyles),i.xp6(2),i.Q6J("fittext",!0)("activateOnResize",!0)("modelToWatch",c.input.value)("minFontSize",6)("maxFontSize",c.maxFontSize)("container",o.nativeElement)("ngStyle",c.font),i.uIk("data-input-id",c.input.id),i.xp6(2),i.hij(" ",c.input.value," ")}}const _i=f=>({"background-color":f});let vi=(()=>{class f{constructor(o,c,u){this.sanitizer=o,this.store=c,this.translateService=u,this.subscriptions=[],this.valueChange=new i.vpe,this.inputTypeToLabel={INITIALS:"signature-input_initial-here",DATE_SIGNED:"signature-input_date-here",SIGNATURE_TEXT:"signature-input_sign-here"},this.iconsSettings={signature:{radix:5,maxSize:20},initials:{radix:8,maxSize:18},text:{radix:6,maxSize:20}},this.iconFontSizes={SIGNATURE_TEXT:"0px",INITIALS:"0px",CUSTOM_TEXT:"0px"},this.showDatePicker=!1,this.svgUrl="",this.options={inline:!0},this.date=new T.p4,this.destroy=new pn.x;const C=this.store.subscribe(V=>{this.refreshData(V)});this.subscriptions.push(C)}ngOnDestroy(){this.subscriptions.forEach(o=>o()),this.destroy.next()}ngOnInit(){const o=this.store.getState();this.currentPartyRef=(0,P.gk)(o),this.partyAssignedToInput=(0,P.gt)(o,this.input);const c=this.requestedDateFormat.toUpperCase();this.iconFontSizes={SIGNATURE_TEXT:this.getSignIconFontSize(this.iconsSettings.signature.radix,this.iconsSettings.signature.maxSize),INITIALS:this.getSignIconFontSize(this.iconsSettings.initials.radix,this.iconsSettings.initials.maxSize),CUSTOM_TEXT:this.getSignIconFontSize(this.iconsSettings.text.radix,this.iconsSettings.initials.maxSize)},this.setCurrentDate(o.signModeEnabled),"DATE_SIGNED"===this.input.type&&this.date.setValue({from:{date:pe()(this.input.value,c).locale(this.datepickerLanguage)}}),"IMAGE"===this.input.valueType&&(this.svgUrl=this.sanitize(`data:image/svg+xml;base64,${this.input.value}`)),this.maxFontSize="DATE_SIGNED"===this.input.type?18:42,this.date.valueChanges.pipe((0,mt.R)(this.destroy)).subscribe(u=>{this.valueChange.emit(u.from.date.format(c))}),this.inputLabel=this.getInputLabel()}refreshData(o){this.signModeEnabled=o.signModeEnabled,this.inputLabel=this.getInputLabel(),this.setCurrentDate(this.signModeEnabled)}setCurrentDate(o){"DATE_SIGNED"===this.input.type&&(this.currentDate=o?this.translateService.instant("signature-input_date-here"):(0,se.tu)(this.requestedDateFormat,this.translateService.currentLang))}getIndicatorTopPosition(){if(this.indicator&&this.indicator.nativeElement){const{top:o}=this.styles,u=this.styles.height.replace("%","")/2;return this.sanitizer.bypassSecurityTrustStyle(`calc(${o} + ${u}% - ${this.indicator.nativeElement.clientHeight/2}px)`)}return this.sanitizer.bypassSecurityTrustStyle("0px")}onClick(o){this.input.configuration&&this.input.configuration.autoComplete||"DATE_SIGNED"===this.input.type&&this.input.partyReference===this.currentPartyRef&&(o.stopPropagation(),this.showDatePicker=!this.showDatePicker)}sanitize(o){return this.sanitizer.bypassSecurityTrustUrl(o)}getBoundingClientRect(){return this.wrapperEl.nativeElement.getBoundingClientRect()}getSignIconFontSize(o,c){return this.wrapperEl?this.wrapperEl.nativeElement.clientWidth/o+10<this.wrapperEl.nativeElement.clientHeight?Math.round(this.wrapperEl.nativeElement.clientWidth/o)<c?`${Math.round(this.wrapperEl.nativeElement.clientWidth/o)}px`:`${c}px`:Math.round(this.wrapperEl.nativeElement.clientHeight-this.wrapperEl.nativeElement.clientHeight/8)<c?`${Math.round(this.wrapperEl.nativeElement.clientHeight-this.wrapperEl.nativeElement.clientHeight/8)}px`:`${c}px`:"0px"}getInputLabel(){return this.store.getState().signModeEnabled?this.translateService.instant(this.inputTypeToLabel[this.input.type]):this.partyAssignedToInput.legalName}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(Tt.H7),i.Y36(at.y),i.Y36(M.sK))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["signature-input"]],viewQuery:function(c,u){if(1&c&&(i.Gf(Qe,5),i.Gf(Mn,5),i.Gf(hi,5),i.Gf(Li,5),i.Gf(fi,5),i.Gf(qe,5),i.Gf(gn,5)),2&c){let C;i.iGM(C=i.CRH())&&(u.wrapperEl=C.first),i.iGM(C=i.CRH())&&(u.placeholderWrapper=C.first),i.iGM(C=i.CRH())&&(u.signatureInputValueEl=C.first),i.iGM(C=i.CRH())&&(u.simulationWrapper=C.first),i.iGM(C=i.CRH())&&(u.simulationInputValue=C.first),i.iGM(C=i.CRH())&&(u.indicator=C.first),i.iGM(C=i.CRH())&&(u.svgSignature=C.first)}},inputs:{input:"input",simulationStyles:"simulationStyles",styles:"styles",font:"font",highlight:"highlight",highlightedInputClicks:"highlightedInputClicks",datepickerLanguage:"datepickerLanguage",redOutline:"redOutline",requestedDateFormat:"requestedDateFormat"},outputs:{valueChange:"valueChange"},decls:12,vars:30,consts:[["class","indicator-arrow",3,"top"],[1,"signature-input-wrapper",3,"ngStyle","click"],["wrapper",""],[1,"transparent-background",3,"ngStyle"],["class","signature-placeholder",3,"initials-input","color"],["class","signature-value",3,"fittext","activateOnResize","modelToWatch","minFontSize","maxFontSize","container","ngStyle"],["class","signature-value date-placeholder",3,"ngStyle","fittext","minFontSize","activateOnResize","modelToWatch","container","maxFontSize"],[1,"sig-image",3,"src"],["svgSignature",""],["class","rl-icon img-edit"],["class","simulation-wrapper",3,"ngStyle"],[1,"indicator-arrow"],["indicator",""],[1,"rl-icon","pencil"],[1,"signature-placeholder"],[1,"icon-wrapper"],["class","rl-icon toolbar-signature",3,"ngStyle"],["class","rl-icon toolbar-initial",3,"ngStyle"],["class","rl-icon textbox-icon-24px",3,"ngStyle"],[1,"content-wrapper"],["placeholderWrapper",""],[1,"legal-name",3,"ngStyle","fittext","activateOnResize","modelToWatch","minFontSize","maxFontSize","container"],[1,"rl-icon","toolbar-signature",3,"ngStyle"],[1,"rl-icon","toolbar-initial",3,"ngStyle"],[1,"rl-icon","textbox-icon-24px",3,"ngStyle"],[1,"signature-value",3,"fittext","activateOnResize","modelToWatch","minFontSize","maxFontSize","container","ngStyle"],["signatureInputValue",""],[1,"signature-value","date-placeholder",3,"ngStyle","fittext","minFontSize","activateOnResize","modelToWatch","container","maxFontSize"],[1,"rl-icon","img-edit"],[3,"formControl","dateFormat","locale","options","rl-clickOutside"],[1,"simulation-wrapper",3,"ngStyle"],["simulationWrapper",""],[3,"fittext","activateOnResize","modelToWatch","minFontSize","maxFontSize","container","ngStyle"],["simulationInputValue",""]],template:function(c,u){1&c&&(i.YNc(0,Gn,3,2,"div",0),i.TgZ(1,"div",1,2),i.NdJ("click",function(V){return u.onClick(V)}),i._UZ(3,"div",3),i.YNc(4,It,9,17,"span",4)(5,Hi,3,8,"span",5)(6,Kn,2,10,"span",6),i._UZ(7,"img",7,8),i.YNc(9,On,1,0,"span",9)(10,_o,2,4,"form"),i.qZA(),i.YNc(11,mi,5,10,"div",10)),2&c&&(i.um2(0,u.highlight?0:-1),i.xp6(),i.Udp("border-color",u.partyAssignedToInput.metaData.style.background),i.ekj("editable",!!u.input.value)("datepicker-overflow-visible","DATE_SIGNED"==u.input.type)("pulse",u.highlightedInputClicks>0&&u.highlightedInputClicks%2==0&&u.highlight)("second-pulse",u.highlightedInputClicks>0&&u.highlightedInputClicks%2>0&&u.highlight)("show-signature-error",u.highlightedInputClicks>0&&!u.input.value&&u.highlight&&u.redOutline)("disabled",u.partyAssignedToInput.reference!=u.currentPartyRef)("on-top",u.showDatePicker),i.Q6J("ngStyle",u.styles),i.xp6(2),i.Q6J("ngStyle",i.VKq(28,_i,u.partyAssignedToInput.metaData.style.background)),i.xp6(),i.um2(4,u.input.value||"DATE_SIGNED"==u.input.type?-1:4),i.xp6(),i.um2(5,u.input.value&&"IMAGE"!=u.input.valueType?5:-1),i.xp6(),i.um2(6,u.input.value?-1:6),i.xp6(),i.ekj("hidden",!u.input.value),i.Q6J("src",u.svgUrl,i.LSH),i.xp6(2),i.um2(9,u.input.value?9:-1),i.xp6(),i.um2(10,u.showDatePicker?10:-1),i.xp6(),i.um2(11,"IMAGE"!=u.input.valueType?11:-1))},dependencies:[S.PC,T._Y,T.JJ,T.JL,T.F,hn,jt,T.oH,Ye._],styles:['@keyframes pulse{0%{transform:scaleX(1) scaleY(1) scaleZ(1)}11.11%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}22.22%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}33.33%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}44.44%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}55.55%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}66.66%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}77.77%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}88.88%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}to{transform:scaleX(1) scaleY(1) scaleZ(1)}}@keyframes second-pulse{0%{transform:scaleX(1) scaleY(1) scaleZ(1)}11.11%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}22.22%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}33.33%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}44.44%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}55.55%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}66.66%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}77.77%{transform:scaleX(1.1) scaleY(1.1) scaleZ(1)}88.88%{transform:scaleX(.89) scaleY(.89) scaleZ(1)}to{transform:scaleX(1) scaleY(1) scaleZ(1)}}.bold-600{font-weight:600}.bold-700{font-weight:700}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.centered{margin:0 auto}.pull-left{float:left}.pull-right{float:right}ul.list-unstyled{list-style:none}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}a,::ng-deep a{color:var(--rl-action-primary-default, #d68021)}.btn{display:inline-block;text-align:center;text-decoration:none;cursor:pointer;font-family:Open Sans;min-width:194px;-webkit-user-select:none;user-select:none}.btn:focus{outline:none}.btn.disabled{opacity:.6;pointer-events:none;cursor:default}.btn.disabled:hover{background-color:none}.btn-primary{border:0 none;border-radius:var(--rl-button-border-radius, 0px);font-size:16px;font-weight:400;line-height:20px;color:#fff;height:45px;min-height:45px;border-bottom:3px solid #8c5416;position:relative;transition:background-color .2s ease}.btn-secondary{position:relative;border-radius:var(--rl-button-border-radius, 0px);font-size:16px;line-height:20px;height:45px;min-height:45px;background-color:transparent;color:var(--rl-action-primary-default, #d68021);border:1px solid var(--rl-action-primary-default, #d68021);padding:10px 17px;text-align:center;display:block;font-weight:400}.btn-secondary .rl-icon{font-size:20px}.btn-secondary .rl-icon.delete{font-size:16px}.btn-secondary com{font-weight:400}.btn-secondary:hover{background-color:#f2f2f2}.btn-secondary:active{background-color:#d8d8d8}.btn-block{display:block;width:100%}.close-btn{background:url(/images/modal/close.svg) no-repeat;background-size:30px;width:30px;height:30px;position:absolute;top:12px;right:12px}.close-btn:hover{background:url(/images/modal/close-hover.svg) no-repeat;background-size:30px;cursor:pointer}.indicator-arrow{font-family:Open Sans,sans-serif;background-color:#ffe900;position:absolute;left:-15px;width:31px;height:28px;font-size:15px;font-weight:600;color:#666;display:flex;pointer-events:none;justify-content:center;align-items:center}.indicator-arrow .rl-icon.pencil{position:relative;left:5px}.indicator-arrow:after{content:" ";position:absolute;top:0;left:100%;width:0;height:0;border:solid transparent;border-width:14px;border-left-color:#ffe900}@media screen and (min-width: 480px){.indicator-arrow{width:45px;height:30px;font-size:17px}.indicator-arrow:after{border-width:15px}}@media screen and (min-width: 968px){.indicator-arrow{width:70px;height:45px;left:-30px;font-size:22px}.indicator-arrow:after{border-width:22.5px}}.signature-input-wrapper,.simulation-wrapper{display:flex;justify-content:center;flex-direction:column;transition:all .3s;box-sizing:border-box;align-items:flex-start}.signature-input-wrapper .hidden,.simulation-wrapper .hidden{display:none}.signature-input-wrapper{overflow:hidden}.signature-input-wrapper.datepicker-overflow-visible{overflow:visible}.signature-input-wrapper:hover{cursor:pointer}.signature-input-wrapper:hover .transparent-background{display:block}.signature-input-wrapper.disabled:hover{cursor:not-allowed}.signature-input-wrapper.disabled:hover .transparent-background{display:none}.signature-input-wrapper.disabled:hover .signature-value{cursor:not-allowed}.signature-input-wrapper.inactive .signature-input-wrapper.pulse{animation-name:pulse;animation-duration:1.3s;animation-fill-mode:both}.signature-input-wrapper.inactive .signature-input-wrapper.pulse .prompt{color:#e62300!important}.signature-input-wrapper.second-pulse{animation-name:second-pulse;animation-duration:1.3s;animation-fill-mode:both}.signature-input-wrapper.second-pulse .prompt{color:#e62300!important}.signature-input-wrapper.editable{border-style:dashed}.signature-input-wrapper .transparent-background{display:none;position:absolute;width:100%;height:100%;top:0;left:0;opacity:.15}.signature-input-wrapper .img-edit{width:15px;height:15px;font-size:15px;position:absolute;right:-16px;bottom:0;cursor:pointer;color:#d68021}@media (min-width: 480px){.signature-input-wrapper .img-edit{width:18px;height:18px;font-size:18px;right:-20px}}@media (min-width: 960px){.signature-input-wrapper .img-edit{width:20px;height:20px;font-size:20px;right:-22px}}.signature-input-wrapper.zoominout{animation-duration:1.5s;animation-name:zoominout;animation-iteration-count:1;animation-timing-function:ease-in-out}.signature-input-wrapper.show-signature-error{border:2px solid #e62300!important}.signature-input-wrapper.show-signature-error .indicator-arrow{background-color:#e62300;color:#fff}@media screen and (max-width: 767px){.signature-input-wrapper.show-signature-error .indicator-arrow{color:transparent}}.signature-input-wrapper.show-signature-error .indicator-arrow:after{border-left-color:#e62300}.signature-placeholder{width:85%;display:flex;flex-direction:row;position:absolute;align-items:center;padding-left:5px;padding-right:5px;height:100%}.signature-placeholder .content-wrapper{width:75%;display:flex;flex:1 1 auto;height:80%;white-space:nowrap;align-items:center}.signature-placeholder .icon-wrapper{align-items:center;text-align:center;flex:1 1 auto;padding-right:8px;display:flex;justify-content:center;height:80%}.date-placeholder{padding-left:8px;padding-right:8px}.sig-image{max-width:100%;max-height:100%}.signature-value{text-rendering:optimizeSpeed;text-shadow:0 .5px #dedede;letter-spacing:0px;white-space:nowrap;cursor:pointer;color:#900;font-size:.5em}@media (min-width: 480px){.signature-value{font-size:.8em}}@media (min-width: 960px){.signature-value{font-size:1em}}rl-date-picker{position:absolute;z-index:2}rl-date-picker.right-align{right:0}rl-date-picker .mydp .selectedday .datevalue,rl-date-picker .mydp .selectedmonth .monthvalue,rl-date-picker .mydp .selectedyear .yearvalue,rl-date-picker .mydp .monthvalue:hover,rl-date-picker .mydp .yearvalue:hover,rl-date-picker .mydp .btnclearenabled:hover .datevalue,rl-date-picker .mydp .btndecreaseenabled:hover .datevalue,rl-date-picker .mydp .btnincreaseenabled:hover .datevalue,rl-date-picker .mydp .btnpickerenabled:hover .datevalue,rl-date-picker .mydp .headertodaybtnenabled:hover .datevalue,rl-date-picker .mydp .tablesingleday:hover .datevalue,rl-date-picker .mydp .tablesinglemonth:hover .datevalue,rl-date-picker .mydp .tablesingleyear:hover .datevalue{background-color:#d68021}.on-top{z-index:100}\n'],encapsulation:2})}return f})();const tn=["inputEl"];function Pn(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"signature-input",2,3),i.NdJ("valueChange",function(u){i.CHM(o);const C=i.oxw();return i.KtG(C.editInput(C.input,u))})("click",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.editInput(u.input))}),i.qZA()}if(2&f){const o=i.oxw();i.Q6J("input",o.input)("requestedDateFormat",o.requestedDateFormat)("highlight",o.highlight)("simulationStyles",o.simulationStyles)("styles",o.boxStyles)("font",o.fontStyles)("highlightedInputClicks",o.highlightedInputClicks)("datepickerLanguage",o.datepickerLanguage)("redOutline",o.redOutline)}}function Yi(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"custom-text-input",4,3),i.NdJ("click",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.editInput(u.input))}),i.qZA()}if(2&f){const o=i.oxw();i.Q6J("input",o.input)("styles",o.boxStyles)("font",o.fontStyles)("dynamicFontSize",o.getDynamicFontSize())("highlight",o.highlight)("highlightedInputClicks",o.highlightedInputClicks)("redOutline",o.redOutline)}}let Ge=(()=>{class f{ngOnChanges(o){if(o&&o.input){const{binder:c}=this.store.getState();this.partyThatInputIsAssignedTo=c.parties.find(u=>u.reference==this.input.partyReference),this.boxStyles=this.getBoxStyle(),this.fontStyles=this.getFontStyle(),this.simulationStyles=this.getSimulationStyles()}}editInput(o,c){const u=(0,P.gt)(this.store.getState(),o);this.currentSigner.id==u.id&&(this.store.getState().get("signModeEnabled")||(this.highlight=!0),c?this.valueChange.emit(c):(this.store.dispatch((0,it.MI)(!0)),this.clicked.emit()))}constructor(o){this.store=o,this.valueChange=new i.vpe,this.clicked=new i.vpe,this.currentSigner=(0,P.kT)(this.store.getState())}getBoundingClientRect(){return this.inputEl.getBoundingClientRect()}getBoxStyle(){const o=this.getCssPositionUnits(this.input),c={border:`1px solid ${this.partyThatInputIsAssignedTo.metaData.style.background}`,position:"absolute",width:this.input.position.width+o,height:this.input.position.height+o,padding:"0",display:"flex"};if("STICKY"==this.input.position.type)switch(this.input.position.corner){case"TOP_LEFT":c.left=`${this.input.position.xOffset}${o}`,c.top=`${this.input.position.yOffset}${o}`;break;case"TOP_RIGHT":c.left=`calc(${this.input.position.xOffset}${o} - 10px)`,c.top=`${this.input.position.yOffset}${o}`;break;case"BOTTOM_LEFT":c.left=`${this.input.position.xOffset}${o}`,c.top=`calc(${this.input.position.yOffset}${o} - 5px)`;break;case"BOTTOM_RIGHT":c.left=`calc(${this.input.position.xOffset}${o} - 10px)`,c.top=`calc(${this.input.position.yOffset}${o} - 5px)`}else c.top=this.input.position.yOffset+o,c.left=this.input.position.xOffset+o;return Object.assign(c,{alignItems:function u(C){switch(C.position.hAlignment){case"LEFT":return"flex-start";case"CENTER":default:return"center";case"RIGHT":return"flex-end"}}(this.input),justifyContent:"center"})}getSimulationStyles(){const u=8.9*this.input.position.width+"px",C=11.52*this.input.position.height+"px";return Object.assign(this.getBoxStyle(),{width:u,height:C,left:"-999px",visibility:"hidden",zIndex:"-999"})}getCssPositionUnits(o){return"PX"===o.position.unit?"px":"%"}getDynamicFontSize(){let o;const c=document.documentElement.clientWidth;let u;return o=c<890?c/890:1,u=this.input.font&&this.input.font.sizeInPx?o*this.input.font.sizeInPx:14*o,u}getFontStyle(){if(!this.input)return{};if(!this.input.font)return{};const{font:o}=this.input;let c;return"CAVEAT_REGULAR"===o.type&&(c="Caveat"),"SHADOWS_INTO_LIGHT_TWO"===o.type&&(c="Shadows Into Light Two"),"DANCING_SCRIPT"===o.type&&(c="Dancing Script"),"JUST_ME_AGAIN_DOWN_HERE"===o.type&&(c="Just Me Again Down Here"),"LORA"===o.type&&(c="Lora"),"TINOS"===o.type&&(c="Tinos"),"OPEN_SANS"===o.type&&(c="Open Sans"),{color:o.color||"#333","font-family":c}}submitToStore(o){this.store.dispatch(J.t7(o))}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(at.y))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["user-input"]],viewQuery:function(c,u){if(1&c&&i.Gf(tn,5),2&c){let C;i.iGM(C=i.CRH())&&(u.inputEl=C.first)}},inputs:{input:"input",highlight:"highlight",highlightedInputClicks:"highlightedInputClicks",datepickerLanguage:"datepickerLanguage",requestedDateFormat:"requestedDateFormat",redOutline:"redOutline"},outputs:{valueChange:"valueChange",clicked:"clicked"},features:[i.TTD],decls:2,vars:2,consts:[[3,"input","requestedDateFormat","highlight","simulationStyles","styles","font","highlightedInputClicks","datepickerLanguage","redOutline"],[3,"input","styles","font","dynamicFontSize","highlight","highlightedInputClicks","redOutline"],[3,"input","requestedDateFormat","highlight","simulationStyles","styles","font","highlightedInputClicks","datepickerLanguage","redOutline","valueChange","click"],["inputEl",""],[3,"input","styles","font","dynamicFontSize","highlight","highlightedInputClicks","redOutline","click"]],template:function(c,u){1&c&&i.YNc(0,Pn,2,9,"signature-input",0)(1,Yi,2,7,"custom-text-input",1),2&c&&(i.um2(0,"CUSTOM_TEXT"!=u.input.type?0:-1),i.xp6(),i.um2(1,"CUSTOM_TEXT"==u.input.type?1:-1))},dependencies:[ee,vi]})}return f})();var Ze=w(130),Be=w(7764);const $n=["newInput"],be=["tooltip"],Xn=["contentWrapper"],yi=f=>({color:f});function en(f,A){if(1&f&&i._UZ(0,"span",13),2&f){const o=i.oxw();i.Q6J("ngStyle",i.VKq(1,yi,o.partyAssignedToInput.metaData.style.background))}}function bi(f,A){1&f&&i._UZ(0,"span",14),2&f&&i.Q6J("@resizeIconScaleAndFade",void 0)}const mn=f=>({"font-size":f});function _n(f,A){if(1&f&&i._UZ(0,"span",19),2&f){const o=i.oxw(2);i.Q6J("ngStyle",i.VKq(1,mn,o.iconFontSizes[o.input.type]))}}function he(f,A){if(1&f&&i._UZ(0,"span",20),2&f){const o=i.oxw(2);i.Q6J("ngStyle",i.VKq(1,mn,o.iconFontSizes[o.input.type]))}}function Ci(f,A){if(1&f&&i._UZ(0,"span",21),2&f){const o=i.oxw(2);i.Q6J("ngStyle",i.VKq(1,mn,o.iconFontSizes[o.input.type]))}}function De(f,A){if(1&f&&(i.TgZ(0,"span",15),i.YNc(1,_n,1,3,"span",16)(2,he,1,3,"span",17)(3,Ci,1,3,"span",18),i.qZA()),2&f){const o=i.oxw();i.xp6(),i.um2(1,"SIGNATURE_TEXT"==o.input.type?1:-1),i.xp6(),i.um2(2,"INITIALS"==o.input.type?2:-1),i.xp6(),i.um2(3,"CUSTOM_TEXT"==o.input.type?3:-1)}}function vn(f,A){if(1&f&&(i.TgZ(0,"span",22),i._uU(1),i.qZA()),2&f){const o=i.oxw(),c=i.MAs(7);i.Q6J("fittext",!0)("activateOnResize",!0)("modelToWatch",o.partyAssignedToInput.legalName)("minFontSize",6)("maxFontSize",20)("container",c.nativeElement),i.xp6(),i.Oqu(o.partyAssignedToInput.legalName)}}function Qn(f,A){if(1&f&&(i.TgZ(0,"span",22),i._uU(1),i.qZA()),2&f){const o=i.oxw(),c=i.MAs(7);i.Q6J("fittext",!0)("activateOnResize",!0)("modelToWatch",o.legalNamePlaceholder)("minFontSize",6)("maxFontSize",20)("container",c.nativeElement),i.xp6(),i.Oqu(o.legalNamePlaceholder)}}function xi(f,A){if(1&f&&(i.TgZ(0,"span",23),i._uU(1),i.qZA()),2&f){const o=i.oxw(),c=i.MAs(7);i.Q6J("fittext",!0)("activateOnResize",!0)("modelToWatch",o.partyAssignedToInput.legalName)("minFontSize",6)("maxFontSize",16)("container",c.nativeElement),i.xp6(),i.Oqu(o.translatedDateFormat)}}const wi=f=>({"background-color":f});function Mi(f,A){if(1&f&&i._UZ(0,"span",24),2&f){const o=i.oxw();i.Q6J("ngStyle",i.VKq(1,wi,o.partyAssignedToInput.metaData.style.background))}}const Dn=(f,A)=>({"background-image":f,"background-size":A}),qn=()=>({});function jn(f,A){if(1&f&&i._UZ(0,"span",25),2&f){const o=i.oxw();i.Q6J("ngStyle",o.hover||o.input.active||o.input.warning?i.WLB(1,Dn,o.setCustomTextGradient(o.partyAssignedToInput),"100% "+o.getCustomTextLineHeight()+"px"):i.DdM(4,qn))}}function Vi(f,A){if(1&f&&i._UZ(0,"span",25),2&f){const o=i.oxw();i.Q6J("ngStyle",o.hover||o.input.active||o.input.warning?i.WLB(1,Dn,o.setIECustomTextGradient(o.partyAssignedToInput),"100% "+o.getCustomTextLineHeight()+"px"):i.DdM(4,qn))}}function yn(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"li",33),i.NdJ("click",function(u){i.CHM(o);const C=i.oxw(2);return i.KtG(C.deleteInput(u))}),i._UZ(1,"span",34),i.qZA()}}const Wi=f=>({scale:f}),Ui=f=>({value:":enter",params:f});function Ce(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"span",26),i.NdJ("mouseup",function(u){return u.stopPropagation()})("mousedown",function(u){return u.stopPropagation()}),i.TgZ(1,"span",27,28)(3,"ul",29)(4,"li",30),i.NdJ("click",function(u){i.CHM(o);const C=i.oxw();return i.KtG(C.openInputEditModal(u))}),i._UZ(5,"span",31),i.qZA(),i.YNc(6,yn,2,0,"li",32),i.qZA()()()}if(2&f){const o=i.oxw();i.Q6J("@scaleAndFade",i.VKq(6,Ui,i.VKq(4,Wi,o.zoomLevel)))("ngStyle",o.tooltipArrowStyles),i.xp6(),i.Q6J("ngStyle",o.tooltipStyles),i.xp6(5),i.um2(6,"PLACEHOLDER"!=o.input.position.type?6:-1)}}let le=(()=>{class f{constructor(o,c,u,C,V){this.store=o,this.notificationService=c,this.userAgentService=u,this.documentEl=C,this.translate=V,this.zoomLevel=1,this.imgClass=".doc-img",this.openInputEditor=new i.vpe,this.updateDefaultInputSize=new i.vpe,this.inputClicked=new i.vpe,this.subscriptions=[],this.signatureBuilderModeEnabled=!1,this.lastValidPosition={x:0,y:0},this.iconsSettings={signature:{radix:5,maxSize:20},initials:{radix:8,maxSize:18},text:{radix:6,maxSize:20}},this.documentContainer=".single-document",this.draggingAllowedFrom=".draggable, .new-input, .legal-name",this.isIE=!1,this.tooltipArrowStyles={},this.tooltipStyles={transform:"none"},this.hasDragAndDropHandlers=!1,this.KEYCODE_ESC=27,this.minHeightForInputInPercent=2.5,this.minWidthForInputInPercent=10,this.inputsNeedRepositioningAfterDocumentEdit=!1,this.isDragging=!1,this.isResizing=!1,this.hover=!1,this.iconFontSizes={SIGNATURE_TEXT:"0px",CUSTOM_TEXT:"0px",INITIALS:"0px"},this.documentWasEditedUsingAdvancedEditor=!1;let Ct=this.store.subscribe(lt=>this.setupComponent(lt));this.subscriptions.push(Ct)}ngOnInit(){var o=this.store.getState();this.setupComponent(o),this.input.isFresh&&setTimeout(()=>{this.elemClicked(null),this.openInputEditor.emit(this.input),this.store.dispatch(J.yM({...this.input,isFresh:!0}))})}ngOnDestroy(){this.subscriptions.forEach(o=>o())}setupComponent(o){this.input=(0,P.sG)(o).find(c=>c.id==this.inputId),this.input&&(this.iconFontSizes={SIGNATURE_TEXT:this.getSignIconFontSize(this.iconsSettings.signature.radix,this.iconsSettings.signature.maxSize),INITIALS:this.getSignIconFontSize(this.iconsSettings.initials.radix,this.iconsSettings.initials.maxSize),CUSTOM_TEXT:this.getSignIconFontSize(this.iconsSettings.text.radix,this.iconsSettings.initials.maxSize)},this.inputEl='div.draggable[data-id="'+this.input.id+'"]',this.inputsNeedRepositioningAfterDocumentEdit=o.get("inputsNeedRepositioningAfterDocumentEdit"),this.signatureBuilderModeEnabled=o.get("signatureBuilderModeEnabled"),this.documentWasEditedUsingAdvancedEditor=!!this.binder.metaData&&1==this.binder.metaData.documentUpdatedFromAdvancedEditor,this.customTextLineHeight=this.getCustomTextLineHeight(),this.customTextBorderHeight=this.getCustomTextBorderHeight(),this.partyAssignedToInput=(0,P.gt)(o,this.input),this.calculatePlaceholderIfNeeded(),this.isIE=this.userAgentService.isInternetExplorerBrowser(),this.lastValidPosition={x:this.input.position.xOffset,y:this.input.position.yOffset},!this.hasDragAndDropHandlers&&"PLACEHOLDER"!=this.input.position.type&&(this.signatureBuilderModeEnabled||this.inputsNeedRepositioningAfterDocumentEdit)&&this.attachDragAndDropHandlers(this.inputEl),this.inputsNeedRepositioningAfterDocumentEdit&&this.input.warning&&!this.inputIsInViewport()&&this.scrollToSelf(),this.translatedDateFormat=(0,se.tu)(this.binder.dateFormat,this.translate.currentLang))}calculatePlaceholderIfNeeded(){this.hasLegalNamePlaceholder()&&this.translate.get("new-input_party-name-placeholder").subscribe(o=>{this.legalNamePlaceholder=o+this.partyAssignedToInput.missingLegalNameIndex})}hasLegalNamePlaceholder(){return!this.partyAssignedToInput.legalName}ngOnChanges(o){if(o){if(this.input=(0,P.sG)(this.store.getState()).find(c=>c.id==this.inputId),!this.input)return;this.partyAssignedToInput=(0,P.gt)(this.store.getState(),this.input),o.zoomLevel&&this.tooltip&&this.setTooltipArrowStyles()}}inputIsInViewport(){if(this.newInput&&this.newInput.nativeElement){var o=this.newInput.nativeElement.getBoundingClientRect();return o.bottom>0&&o.right>0&&o.left<(window.innerWidth||document.documentElement.clientWidth)&&o.top<(window.innerHeight||document.documentElement.clientHeight)}return!1}getBoundingClientRect(){return this.newInput.nativeElement.getBoundingClientRect()}scrollToSelf(){let o=$(this.imgClass+'[data-page-id="'+this.input.position.pageId+'"]'),c=this.newInput;if(0==o.height()||!c)return void setTimeout(()=>this.scrollToSelf(),200);let C=$(this.newInput.nativeElement).offset().top-window.innerHeight/2;$("html,body").animate({scrollTop:C},"fast")}setCustomTextGradient(o){let c=o.metaData.style.background;return`linear-gradient(${c}, ${c} ${this.customTextLineHeight-this.customTextBorderHeight}px, #ffffff 0px)`}setIECustomTextGradient(o){let c=o.metaData.style.background;return`-ms-linear-gradient(${c}, ${c} ${this.customTextLineHeight-this.customTextBorderHeight}px, #ffffff 0px)`}getCustomTextLineHeight(){let c=document.querySelector(this.imgClass).clientHeight;return Math.floor(c/100*this.minHeightForInputInPercent)}getCustomTextBorderHeight(){return 1}onMouseDown(o){}onMouseUp(o){3!=o.which&&(this.isDragging||this.isResizing?(o.stopPropagation(),o.preventDefault()):this.elemClicked(o))}elemClicked(o){"PLACEHOLDER"==this.input.position.type?this.onPlaceholderInputClicked():this.onAbsoluteInputClicked()}onPlaceholderInputClicked(){this.inputsNeedRepositioningAfterDocumentEdit||this.toggleInputAndSetupTooltip()}onAbsoluteInputClicked(){this.inputsNeedRepositioningAfterDocumentEdit?this.setWarningToCurrentInput():(this.signatureBuilderModeEnabled||this.store.dispatch((0,it.KI)(!0)),this.toggleInputAndSetupTooltip())}toggleInputAndSetupTooltip(o=!this.input.active){this.toggleInput(o),this.onInputActivation()}setWarningToCurrentInput(){this.store.dispatch(J.TL()),this.store.dispatch(J.$M({id:this.input.id})),this.toggleInputAndSetupTooltip()}destroyDragAndDropHandlers(){rt()(this.inputEl).unset()}openInputEditModal(o){o&&(o.stopPropagation(),o.preventDefault()),this.openInputEditor.emit(this.input)}deleteInput(o){o.stopPropagation(),this.notificationService.setNotification({key:"new-input_notification-delete-message",autoClose:!0}),this.store.dispatch(J.Ag(this.input))}attachDragAndDropHandlers(o){this.destroyDragAndDropHandlers();var c=document.querySelector(this.imgClass).getBoundingClientRect().width,u=document.querySelector(this.imgClass).getBoundingClientRect().height;c&&u?(this.rectDimensions={minWidth:c/100*this.minWidthForInputInPercent,maxWidth:c,minHeight:u/100*this.minHeightForInputInPercent,maxHeight:u},rt()(o).draggable({allowFrom:this.draggingAllowedFrom,inertia:!1,autoScroll:!0,onmove:this.onDragMove.bind(this),onstart:this.onDragStart.bind(this),onend:this.onDragEnd.bind(this)}).pointerEvents({ignoreFrom:".arrow"}).resizable({preserveAspectRatio:!1,edges:{left:".resize-control.left",right:".resize-control.right",bottom:".resize-control.bottom",top:".resize-control.top"},modifiers:[rt().modifiers.restrictSize({min:{width:this.rectDimensions.minWidth,height:this.rectDimensions.minHeight},max:{width:this.rectDimensions.maxWidth,height:this.rectDimensions.maxHeight}})],allowFrom:".resize-control"}).on("resizemove",this.onResizeMove.bind(this)).on("resizestart",this.onResizeStart.bind(this)).on("resizeend",this.onResizeEnd.bind(this)),this.hasDragAndDropHandlers=!0):setTimeout(this.attachDragAndDropHandlers.bind(this,o),100)}onDragStart(o){this.isDragging=!0,this.inputsNeedRepositioningAfterDocumentEdit&&this.setWarningToCurrentInput(),this.toggleInputAndSetupTooltip(!0),this.docPage=document.querySelector(this.imgClass),this.docPageWidth=this.docPage.clientWidth,this.docPageHeight=this.docPage.clientHeight,this.updateLastValidPosition(),this.inputClicked.emit()}updateLastValidPosition(){this.lastValidPosition={x:this.input.position.xOffset,y:this.input.position.yOffset}}onDragEnd(o){setTimeout(()=>{this.isDragging=!1},10),o&&(o.relatedTarget||this.deleteInput(o))}onDragMove(o){if(o){var u=o.dy/this.docPageHeight*100;this.input.position.xOffset+=o.dx/this.docPageWidth*100,this.input.position.yOffset+=u,o.stopPropagation()}}onResizeStart(o){this.isResizing=!0,this.inputsNeedRepositioningAfterDocumentEdit&&this.setWarningToCurrentInput()}onResizeEnd(o){setTimeout(()=>{this.isResizing=!1},10);var c=o.target||o.srcElement,u=document.querySelector(this.imgClass+'[data-page-id="'+this.input.position.pageId+'"]'),C=c.getBoundingClientRect(),V=this.calculateInputPositionAndSize(u,C);this.updateInputPositionAndSize(V)}onResizeMove(o){var c,u=(c=document.querySelector(this.imgClass+'[data-page-id="'+this.input.position.pageId+'"]')).getBoundingClientRect(),C=document.querySelector(this.documentContainer),V=window;if(u=(c=document.querySelector(this.imgClass+'[data-page-id="'+this.input.position.pageId+'"]')).getBoundingClientRect(),C=document.querySelector(this.documentContainer).offsetLeft,V=u.bottom+window.pageYOffset,!(o.rect&&V&&C&&(o.rect.bottom>V||o.rect.right-C>=c.offsetWidth))){var Ct=o.target||o.srcElement,lt=parseFloat(Ct.getAttribute("data-x"))||0,$t=parseFloat(Ct.getAttribute("data-y"))||0;if("CUSTOM_TEXT"==this.input.type){var te=this.customTextLineHeight,me=Math.round(o.rect.height/te),re=Math.round(te*me);Ct.style.height=re+"px"}else Ct.style.height=o.rect.height+"px";Ct.style.width=o.rect.width+"px",Ct.style.webkitTransform=Ct.style.transform="translate("+(lt+=o.deltaRect.left)+"px,"+($t+=o.deltaRect.top)+"px)",this.sendResizeEvent(),Ct.setAttribute("data-x",lt),Ct.setAttribute("data-y",$t)}}calculateInputPositionAndSize(o,c){var u=o,C=u.clientWidth,V=u.clientHeight,Ct=u.getBoundingClientRect(),lt=Ct.top+window.scrollY,$t=Ct.left+window.scrollX,te=c.top+window.scrollY,me=c.left+window.scrollX,ri=c.height/V*100;return{xOffset:(me-$t)/C*100,yOffset:(te-lt)/V*100,pageId:u.dataset.pageId,width:.5*Math.round(c.width/C*100/.5),height:.5*Math.round(ri/.5)}}updateInputPositionAndSize(o){var c=Object.assign({},this.input.position,{xOffset:o.xOffset||this.input.position.xOffset,yOffset:o.yOffset||this.input.position.yOffset,pageId:o.pageId||this.input.position.pageId,width:o.width||this.input.position.width,height:o.height||this.input.position.height,type:this.input.position.type}),u=Object.assign({},this.input,{position:c,font:{type:"CAVEAT_REGULAR"}});this.store.dispatch(J.yM(u)),this.updateDefaultInputSize.emit({inputWidth:c.width,inputHeight:c.height})}getSignIconFontSize(o,c){return this.newInput?this.newInput.nativeElement.clientWidth/o+10<this.newInput.nativeElement.clientHeight?Math.round(this.newInput.nativeElement.clientWidth/o)<c?Math.round(this.newInput.nativeElement.clientWidth/o)+"px":c+"px":Math.round(this.newInput.nativeElement.clientHeight-this.newInput.nativeElement.clientHeight/8)<c?Math.round(this.newInput.nativeElement.clientHeight-this.newInput.nativeElement.clientHeight/8)+"px":c+"px":"0px"}setTooltipArrowStyles(){Object.assign(this.tooltipArrowStyles,{transform:"scale("+this.zoomLevel+")",transformOrigin:"50% 135%"})}getBoxStyle(){var o=this.getCssPositionUnits(this.input);return{position:"absolute",top:this.input.position.yOffset+o,left:this.input.position.xOffset+o,width:this.input.position.width+o,height:this.input.position.height+o,display:"flex",flexDirection:"row",color:this.partyAssignedToInput.metaData.style.background,borderColor:this.partyAssignedToInput.metaData.style.background,justifyContent:this.getHorizontalPosition(this.input),alignItems:this.getVerticalPosition(this.input)}}getInputTextAlignment(){return{justifyContent:this.getHorizontalPosition(this.input),alignItems:"center"}}getVerticalPosition(o){switch(o.position.vAlignment){case"TOP":return"flex-start";case"MIDDLE":return"center";case"BOTTOM":return"flex-end"}return"center"}getHorizontalPosition(o){switch(o.position.hAlignment){case"LEFT":return"flex-start";case"CENTER":return"center";case"RIGHT":return"flex-end"}return"center"}getCssPositionUnits(o){return"PX"==o.position.unit?"px":"%"}toggleInput(o){(0,P.sG)(this.store.getState()).forEach(u=>this.store.dispatch(J.yM({...u,active:!1}))),this.store.dispatch(J.yM({...this.input,active:o})),this.inputClicked.emit()}onInputActivation(){this.setTooltipArrowStyles(),this.setTooltipPosition()}sendResizeEvent(){if(this.isIE){var o=document.createEvent("UIEvents");o.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(o)}else window.dispatchEvent(new Event("resize"))}getSpacingAroundElement(o){var c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,C=o.getBoundingClientRect();return{top:C.top,right:c-C.right,bottom:u-C.bottom,left:C.left}}setTooltipPosition(){if(this.tooltip){var o=this.tooltip.nativeElement.getBoundingClientRect(),c=document.documentElement.clientWidth;o.left<0?Object.assign(this.tooltipStyles,{transform:"translateX("+-1*o.left+"px)"}):o.right>c&&Object.assign(this.tooltipStyles,{transform:"translateX("+(c-o.right)+"px)"})}}isJustCreated(){let o=!0;return this.binder.documents.forEach(c=>{c.inputs.forEach(u=>{this.input.id==u.id&&(o=!1)})}),this.input.modalOpened&&(o=!1),o}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(at.y),i.Y36(_t.i),i.Y36(Be.V),i.Y36(S.K0),i.Y36(M.sK))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["new-input"]],viewQuery:function(c,u){if(1&c&&(i.Gf($n,5),i.Gf(be,5,i.SBq),i.Gf(Xn,5,i.SBq)),2&c){let C;i.iGM(C=i.CRH())&&(u.newInput=C.first),i.iGM(C=i.CRH())&&(u.tooltip=C.first),i.iGM(C=i.CRH())&&(u.contentWrapper=C.first)}},inputs:{inputId:"inputId",binder:"binder",zoomLevel:"zoomLevel",currentLocale:"currentLocale",imgClass:"imgClass"},outputs:{openInputEditor:"openInputEditor",updateDefaultInputSize:"updateDefaultInputSize",inputClicked:"inputClicked"},features:[i.TTD],decls:15,vars:32,consts:[[1,"draggable","noselect",3,"id","ngStyle","mouseup","mousedown","mouseover","mouseleave"],["newInput",""],["class","rl-icon lock",3,"ngStyle"],["class","rl-icon resize-icon resize-control bottom right"],[1,"new-input","noselect",3,"id","ngStyle"],["class","icon-wrapper"],[1,"content-wrapper",3,"ngStyle"],["contentWrapper",""],["class","legal-name e2e_field-owner-attribute",3,"fittext","activateOnResize","modelToWatch","minFontSize","maxFontSize","container"],["class","date e2e_field-owner-attribute",3,"fittext","activateOnResize","modelToWatch","minFontSize","maxFontSize","container"],["class","transparent-background",3,"ngStyle"],["class","custom-text transparent-background",3,"ngStyle"],["class","arrow",3,"ngStyle"],[1,"rl-icon","lock",3,"ngStyle"],[1,"rl-icon","resize-icon","resize-control","bottom","right"],[1,"icon-wrapper"],["class","rl-icon toolbar-signature",3,"ngStyle"],["class","rl-icon toolbar-initial",3,"ngStyle"],["class","rl-icon custom-text-icon",3,"ngStyle"],[1,"rl-icon","toolbar-signature",3,"ngStyle"],[1,"rl-icon","toolbar-initial",3,"ngStyle"],[1,"rl-icon","custom-text-icon",3,"ngStyle"],[1,"legal-name","e2e_field-owner-attribute",3,"fittext","activateOnResize","modelToWatch","minFontSize","maxFontSize","container"],[1,"date","e2e_field-owner-attribute",3,"fittext","activateOnResize","modelToWatch","minFontSize","maxFontSize","container"],[1,"transparent-background",3,"ngStyle"],[1,"custom-text","transparent-background",3,"ngStyle"],[1,"arrow",3,"ngStyle","mouseup","mousedown"],[1,"simple-tooltip",3,"ngStyle"],["tooltip",""],[1,"tools"],["title","Edit",1,"single-tool",3,"click"],[1,"rl-icon","toolbar-edit"],["title","Remove","class","single-tool delete-input"],["title","Remove",1,"single-tool","delete-input",3,"click"],[1,"rl-icon","toolbar-trash"]],template:function(c,u){1&c&&(i.TgZ(0,"div",0,1),i.NdJ("mouseup",function(V){return u.onMouseUp(V)})("mousedown",function(V){return u.onMouseDown(V)})("mouseover",function(){return u.hover=!0})("mouseleave",function(){return u.hover=!1}),i.YNc(2,en,1,3,"span",2)(3,bi,1,1,"span",3),i.TgZ(4,"span",4),i.YNc(5,De,4,3,"span",5),i.TgZ(6,"span",6,7),i.YNc(8,vn,2,7,"span",8)(9,Qn,2,7,"span",8)(10,xi,2,7,"span",9),i.qZA()(),i.YNc(11,Mi,1,3,"span",10)(12,jn,1,5,"span",11)(13,Vi,1,5,"span",11)(14,Ce,7,8,"span",12),i.qZA()),2&c&&(i.ekj("placeholder","PLACEHOLDER"==u.input.position.type)("disabled-cursor","PLACEHOLDER"==u.input.position.type&&!u.documentWasEditedUsingAdvancedEditor)("active",u.input.active||u.input.warning)("dragging",u.input.active||u.input.warning)("resizing",u.input.active||u.input.warning)("custom-text","CUSTOM_TEXT"==u.input.type),i.Q6J("@scaleAndFade",void 0)("id",u.input.id)("ngStyle",u.getBoxStyle())("ngStyle",u.getBoxStyle()),i.uIk("data-id",u.input.id)("rl-input-owner",u.partyAssignedToInput.legalName),i.xp6(2),i.um2(2,"PLACEHOLDER"==u.input.position.type&&(u.signatureBuilderModeEnabled||u.inputsNeedRepositioningAfterDocumentEdit)?2:-1),i.xp6(),i.um2(3,"PLACEHOLDER"!=u.input.position.type&&(u.input.active||u.input.warning)?3:-1),i.xp6(),i.Q6J("id",u.input.id)("ngStyle",u.getInputTextAlignment()),i.uIk("data-id",u.input.id),i.xp6(),i.um2(5,"DATE_SIGNED"!=u.input.type?5:-1),i.xp6(),i.Q6J("ngStyle",u.getInputTextAlignment()),i.xp6(2),i.um2(8,"DATE_SIGNED"==u.input.type||u.hasLegalNamePlaceholder()?-1:8),i.xp6(),i.um2(9,"DATE_SIGNED"!=u.input.type&&u.hasLegalNamePlaceholder()?9:-1),i.xp6(),i.um2(10,"DATE_SIGNED"==u.input.type?10:-1),i.xp6(),i.um2(11,"CUSTOM_TEXT"!=u.input.type?11:-1),i.xp6(),i.um2(12,"CUSTOM_TEXT"!=u.input.type||u.isIE?-1:12),i.xp6(),i.um2(13,"CUSTOM_TEXT"==u.input.type&&u.isIE?13:-1),i.xp6(),i.um2(14,u.input.active||u.input.warning?14:-1))},dependencies:[S.PC,hn],styles:[".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{position:fixed;background-color:#292929;top:0;left:0;box-sizing:border-box;padding:25px 10px;width:100%;height:100%;visibility:hidden;transition:opacity .5s}#tooltip[_ngcontent-%COMP%]   p.tooltip-text[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   p.tooltip-text[_ngcontent-%COMP%]{display:block;margin-left:5px;color:#999;font-size:16px;font-style:italic;text-transform:none;font-weight:400;text-align:left}#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{background:url(/images/signapp/close-x-white.svg) no-repeat;background-size:28px;width:25px;height:25px;position:absolute;top:10px;right:10px}#tooltip.hide-tooltip[_ngcontent-%COMP%], .tooltip-wrapper.hide-tooltip[_ngcontent-%COMP%]{opacity:0;visibility:hidden}#tooltip.show-tooltip[_ngcontent-%COMP%], .tooltip-wrapper.show-tooltip[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media screen and (min-width: 480px){#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{position:absolute;max-width:inherit;max-height:inherit;width:400px;height:auto;padding:20px 15px;border-radius:5px;top:-155px;left:-190px}#tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid #292929;position:absolute;bottom:-19px;margin-left:auto;margin-right:auto;left:0;right:0}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow.arrow-down[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow.arrow-down[_ngcontent-%COMP%]{border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid #292929}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow.arrow-up[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow.arrow-up[_ngcontent-%COMP%]{border-left:20px solid transparent;border-right:20px solid transparent;border-bottom:20px solid #292929;border-top:none}}@media only screen and (min-width: 481px){#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{left:-330px;padding:15px 20px}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:279px}#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{display:block}}@media screen and (max-width: 700px){#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{position:fixed;width:100%;left:0;top:0;height:100%;padding:20px 15px;z-index:11}}@media screen and (min-width: 701px){#tooltip.right-aligned[_ngcontent-%COMP%], .tooltip-wrapper.right-aligned[_ngcontent-%COMP%]{left:-50px}#tooltip.right-aligned[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .tooltip-wrapper.right-aligned[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:-280px}}@media screen and (min-width: 769px){#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{display:none}}.simple-tooltip[_ngcontent-%COMP%]{position:absolute;background:#333;border-radius:8px;color:#fff;z-index:2}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{cursor:pointer;padding:0;list-style:none;display:flex;flex-direction:row;margin:0;text-align:center}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]{max-width:50px;max-height:50px;flex:1;font-size:22px;justify-content:center;line-height:48px;border-right:1px solid #b6b7bc}@media (hover){.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:hover{background-color:#000}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:hover:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:hover:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:last-child{border-right:none}}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:last-child{border-right:none}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-signature[_ngcontent-%COMP%]{font-size:28px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-textbox[_ngcontent-%COMP%]{font-size:32px;position:relative;top:1px;left:1px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-calendar[_ngcontent-%COMP%]{font-size:30px;position:relative;top:1px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-trash[_ngcontent-%COMP%]{font-size:26px;position:relative;bottom:1px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-edit[_ngcontent-%COMP%]{font-size:27px;position:relative;left:1px}.simple-tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:0;height:0;top:100%;transform:translate(-50%);border-left:14px solid transparent;border-right:14px solid transparent;border-top:18px solid #1A1A26}.draggable[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;overscroll-behavior:none;z-index:1;border:2px solid transparent;box-sizing:border-box;touch-action:none}.draggable[_ngcontent-%COMP%]   .rl-icon.lock[_ngcontent-%COMP%]{position:absolute;right:-8px;top:-10px;width:22px;height:20px;font-size:17px;background:#fff}.draggable[_ngcontent-%COMP%]   .transparent-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block;width:100%;height:100%;opacity:0}.draggable[_ngcontent-%COMP%]:hover{cursor:move}.draggable[_ngcontent-%COMP%]:hover   .transparent-background[_ngcontent-%COMP%]{opacity:.15}.draggable[_ngcontent-%COMP%]:hover.placeholder{cursor:pointer}.draggable.disabled-cursor[_ngcontent-%COMP%]{cursor:not-allowed}.draggable.active[_ngcontent-%COMP%]{z-index:2;border:2px solid transparent}.draggable.active[_ngcontent-%COMP%]   .transparent-background[_ngcontent-%COMP%]{opacity:.15}.draggable.resizing[_ngcontent-%COMP%]{z-index:2;border:2px solid transparent}.draggable.resizing[_ngcontent-%COMP%]   .transparent-background[_ngcontent-%COMP%]{opacity:.15}.draggable.dragging[_ngcontent-%COMP%]{z-index:2;border:2px dashed transparent}.draggable.dragging[_ngcontent-%COMP%]   .transparent-background[_ngcontent-%COMP%], .draggable.dragging[_ngcontent-%COMP%]   .transparent-background.custom-text[_ngcontent-%COMP%]{opacity:.15}.draggable.delete[_ngcontent-%COMP%]{border-color:#000!important}.draggable.delete[_ngcontent-%COMP%]   .new-input[_ngcontent-%COMP%]{opacity:0}.draggable.delete[_ngcontent-%COMP%]   .transparent-background[_ngcontent-%COMP%]{opacity:.55;background-color:#000!important;background-image:none!important}.draggable[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{touch-action:none}.draggable[_ngcontent-%COMP%]   .resize-control[_ngcontent-%COMP%]{width:30px;height:30px;bottom:-30px;right:-30px;position:absolute;-webkit-user-select:none;user-select:none;box-sizing:border-box;z-index:3;font-size:30px;transform:rotate(90deg);color:#3e3f4c}.new-input[_ngcontent-%COMP%]{font-size:8px;box-sizing:border-box;z-index:2;display:flex;justify-content:center;align-items:center;flex-direction:row;overflow:hidden;padding-right:8px;padding-left:8px;height:100%}.new-input[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:64.5%;display:flex;flex:1 1 auto;height:80%}.new-input[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{align-items:center;text-align:center;display:block;padding-right:8px}.new-input[_ngcontent-%COMP%]   .icon-wrapper.date[_ngcontent-%COMP%]{text-transform:uppercase;width:100%}.new-input[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   com[_ngcontent-%COMP%]{white-space:normal}.new-input[_ngcontent-%COMP%]   .legal-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-align:center;width:100%}.new-input[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{position:absolute;bottom:-17px;border-top:1px dashed black;font-size:10px;text-align:center;margin-left:auto;margin-right:auto;left:0;right:0}.new-input[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{opacity:0;visibility:hidden;width:0;height:0;position:absolute;left:0;right:0;margin-right:auto;margin-left:auto;border-left:15px solid transparent;border-right:15px solid transparent;border-top:15px solid #292929}.new-input[_ngcontent-%COMP%]   .tooltip-arrow.bottom[_ngcontent-%COMP%]{bottom:-20px;transform:rotate(180deg)}.new-input[_ngcontent-%COMP%]   .tooltip-arrow.top[_ngcontent-%COMP%]{top:-22px}.new-input[_ngcontent-%COMP%]   .tooltip-arrow.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media screen and (min-width: 480px){.new-input[_ngcontent-%COMP%]{font-size:16px}}.arrow[_ngcontent-%COMP%]{width:0;height:0;border-left:14px solid transparent;border-right:14px solid transparent;border-top:18px solid #333333;top:0;bottom:calc(100% + 28px);margin:auto;position:absolute;left:0;right:0;transform-origin:50% 100%}.arrow[_ngcontent-%COMP%]   .simple-tooltip[_ngcontent-%COMP%]{width:100px;height:50px;top:-65px;left:-50px}.placeholder[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]   .simple-tooltip[_ngcontent-%COMP%]{width:52px;left:-27px}"],data:{animation:[Ze.g9,Ze.v7]}})}return f})();var Fe=w(9935),Se=w(7427),xe=w(4713);const ti=["docTitle"];function Ve(f,A){1&f&&i._UZ(0,"img",11)}function Gi(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"img",12),i.NdJ("load",function(){i.CHM(o);const u=i.oxw().$implicit,C=i.oxw(2);return i.KtG(C.pageLoaded(u))})("click",function(u){i.CHM(o);const C=i.oxw(3);return i.KtG(C.pageClicked(u))}),i.qZA()}if(2&f){const o=i.oxw(),c=o.$index,u=o.$implicit,C=i.oxw().$implicit;i.cQ8("alt","Page: ",c+1," of ",null==C.pages?null:C.pages.length," of ",C.name,""),i.Q6J("src",u.src,i.LSH),i.uIk("data-page-id",u.id)("data-doc-id",C.id)}}function Zi(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"new-input",14),i.NdJ("updateDefaultInputSize",function(u){i.CHM(o);const C=i.oxw(5);return i.KtG(C.updateInputSize(u))})("openInputEditor",function(u){i.CHM(o);const C=i.oxw(5);return i.KtG(C.openEditor(u))})("inputClicked",function(){i.CHM(o);const u=i.oxw(5);return i.KtG(u.onInputClicked())}),i.qZA()}if(2&f){const o=i.oxw().$implicit,c=i.oxw(2).$implicit,u=i.oxw(2);i.Q6J("@animateModalChildren",void 0)("binder",u.binder)("inputId",o.id)("zoomLevel",u.zoomLevel||1)("imgClass",c.src?".doc-img":".sign-loader")}}function Sn(f,A){if(1&f&&(i.TgZ(0,"div"),i.YNc(1,Zi,1,5,"new-input",13),i.qZA()),2&f){const o=A.$implicit;i.xp6(),i.um2(1,o?1:-1)}}function ei(f,A){if(1&f&&(i.TgZ(0,"div"),i.SjG(1,Sn,2,1,"div",null,i.QCX().trackBy),i.qZA()),2&f){const o=i.oxw().$implicit,c=i.oxw(2);i.xp6(),i.wJu(c.inputsInPages[o.id])}}function bn(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"user-input",16),i.NdJ("valueChange",function(u){i.CHM(o);const C=i.oxw().$implicit,V=i.oxw(4);return i.KtG(V.editInput(C,u))})("clicked",function(){i.CHM(o);const u=i.oxw().$implicit,C=i.oxw(4);return i.KtG(C.editInput(u))}),i.qZA()}if(2&f){const o=i.oxw().$implicit,c=i.oxw(3).$implicit,u=i.oxw();i.Q6J("input",o)("requestedDateFormat",(null==u.binder?null:u.binder.dateFormat)||(null==c?null:c.dateFormat)||"MMM DD, YYYY")("highlight",o==u.highlightedInput)("highlightedInputClicks",u.highlightedInputClicks)("datepickerLanguage",u.datepickerLanguage)}}function Oi(f,A){if(1&f&&(i.TgZ(0,"div"),i.YNc(1,bn,1,5,"user-input",15),i.qZA()),2&f){const o=A.$implicit;i.xp6(),i.um2(1,o?1:-1)}}function nn(f,A){if(1&f&&(i.TgZ(0,"div"),i.SjG(1,Oi,2,1,"div",null,i.x6l),i.qZA()),2&f){const o=i.oxw().$implicit,c=i.oxw(2);i.xp6(),i.wJu(c.inputsInPages[o.id])}}const Je=(f,A)=>({number:f,total:A});function qt(f,A){if(1&f&&(i.TgZ(0,"div",4)(1,"div",5),i.YNc(2,Ve,1,0,"img",6)(3,Gi,1,6,"img",7)(4,ei,3,0,"div")(5,nn,3,0,"div"),i.qZA(),i.TgZ(6,"div",8)(7,"span",9),i._UZ(8,"com",10),i.qZA()()()),2&f){const o=A.$implicit,c=A.$index,u=i.oxw().$implicit,C=i.oxw();i.xp6(2),i.um2(2,o.src?-1:2),i.xp6(),i.um2(3,o.src?3:-1),i.xp6(),i.um2(4,"IN_PREPARATION"==C.binder.status&&o.src&&o.loaded&&!C.signModeEnabled?4:-1),i.xp6(),i.um2(5,C.signModeEnabled||"SIGN_IN_PROGRESS"==C.binder.status||"REVIEW_AND_SHARE"==C.binder.status&&o.src&&o.loaded?5:-1),i.xp6(3),i.Q6J("params",i.WLB(5,Je,c+1,null==u.pages?null:u.pages.length))}}function Te(f,A){if(1&f&&(i.TgZ(0,"div",2)(1,"div",3),i.SjG(2,qt,9,8,"div",17,i.QCX().trackPagesBy),i.qZA()()),2&f){const o=A.$implicit,c=i.oxw();i.ekj("compact",c.compact),i.uIk("data-doc-name",o.name),i.xp6(),i.Q6J("hidden",!o.pages),i.xp6(),i.wJu(o.pages)}}function ce(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"toolbox-tooltip",18,19),i.NdJ("hideTooltip",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.toolboxTooltipShown=!1)}),i.qZA()}if(2&f){const o=i.oxw();i.Q6J("zoomLevel",o.zoomLevel||1)("clientWidth",o.clientWidth)("fixedOffset",o.fixedOffset)("@animateModalChildren",void 0)("inputDimensions",o.inputDimensions)("binder",o.binder)("pageClickEvent",o.pageClickEvent)}}let ni=(()=>{class f{constructor(o,c,u,C,V,Ct){this.documentEl=o,this.store=c,this.signService=u,this.translateService=C,this.docPreviewService=V,this.notificationService=Ct,this.showAddSignerDataModal=new i.vpe,this.openSigning=new i.vpe,this.openInputEditor=new i.vpe,this.signatureInputsUpdate=new i.vpe,this.highlightedInputClicks=0,this.inputs=[],this.inputsNeedRepositioningAfterDocumentEdit=!1,this.subscriptions=[],this.debounce=null,this.binderHasInputs=!1,this.inputDimensions={inputWidth:25,inputHeight:5},this.docHasDropzones=!1,this.toolboxTooltipShown=!1,this.pageClickEvent=null,this.inputsInPages={},this.parentState=null,this.numberOfPagesInBinder=0,this.numberOfPagesLoaded=0,this.signModeEnabled=!1,this.regularDropzones=".new-input, .doc-img, .legal-name, .arrow",this.irregularDropzones=".top-banner-container, div:not(.page-container), .draggable";const lt=this.store.subscribe(me=>{this.setComponentData(me)});this.docPreviewService.shouldHighlight$.subscribe(()=>{this.scrollToNextInputWithoutSignerData(this.confirmHighlightedInputs)}),this.docPreviewService.highlightNextInputSource$.subscribe(()=>{this.highlightNextInput()}),this.subscriptions.push(lt)}ngOnInit(){this.setComponentData(this.store.getState())}ngOnDestroy(){this.subscriptions.forEach(o=>o()),window.removeEventListener("touchend",this.onTouchFunc),window.removeEventListener("message",this.onCatchMessageFunc)}setComponentData(o){this.binder=o.binder,this.signModeEnabled=o.signModeEnabled,this.inputs=(0,P.sG)(o),this.currentParty=(0,P.kT)(o),this.setInputsInPages(),this.inputsNeedRepositioningAfterDocumentEdit=o.inputsNeedRepositioningAfterDocumentEdit,this.signatureBuilderModeEnabled=o.signatureBuilderModeEnabled,this.binderHasInputs=!!(0,P.sG)(o).length,this.datepickerLanguage=this.getDatepickerLanguage(),this.docShown=this.allDocuments()[0].name,"IN_PREPARATION"===this.binder.status&&this.inputs&&this.signatureBuilderModeEnabled&&!this.docHasDropzones&&this.attachDropzones(),this.setNumberOfPagesInBinder(),this.attachZoomHandler(),this.attachPostmessageHandler(),this.signatureInputsUpdate.emit(this.signatureInputs),this.signatureBuilderModeEnabled||(this.toolboxTooltipShown=!1),this.signModeEnabled||this.resetHighlightedInput()}getDatepickerLanguage(){const o=this.translateService.currentLang;return"pt"===o?"pt-br":o}setNumberOfPagesInBinder(){this.binder.documents.forEach(o=>{this.numberOfPagesInBinder+=o.pages.length})}setInputsInPages(){this.binder.documents.map(o=>{o.pages.map(c=>{let u;u="IN_PREPARATION"===this.binder.status&&!this.signModeEnabled&&(0,P.jn)(this.currentParty,"OWNER")?(0,P.DC)(this.store.getState(),c.id):this.getInputs(o,c.id),this.inputsInPages[c.id]=u})})}onWindowScroll(){this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout(()=>{clearTimeout(this.debounce),Array.from(document.getElementsByClassName("single-document")).forEach(o=>{const c=o.getBoundingClientRect();c.height+c.top<c.height+100&&(this.docShown=o.getAttribute("data-doc-name"))})},10)}closeOtherTooltips(o){this.newInputComponents.forEach(c=>{o!==c.input.id&&c.toggleInput(!1)}),this.toolboxTooltipShown=!1}allDocuments(){return this.binder&&this.binder.documents?this.binder.documents:[]}openSigningModal(o){this.openSigning.emit(o||null)}openEditor(o){this.openInputEditor.emit(o)}editInput(o,c){if(this.signModeEnabled||this.store.dispatch((0,it.MI)(!0)),"CUSTOM_TEXT"===o.type||"DATE_SIGNED"===o.type&&o.configuration&&o.configuration.autoComplete)return;const u=this.getLastSavedInput(o);if(c)this.recordDate({id:o.id,value:c,type:o.type}),setTimeout(()=>{this.highlightNextInput()},800);else if("DATE_SIGNED"!==o.type)if(!o.value&&u){const{font:C}=u.input,{value:V}=u.input,{valueType:Ct}=u.input,{partyReference:lt}=o,$t={id:o.id,font:C,value:V,partyReference:lt,type:o.type,valueType:Ct,svgData:null};u.input.valueType&&"IMAGE"===u.input.valueType&&($t.svgData=u.input.svgData),this.recordSignature($t),setTimeout(()=>{this.highlightNextInput()},1500)}else this.openSigningModal(o)}getLastSavedInput(o){return this.signatureInputs.filter(c=>"DATE_SIGNED"!==c.input.type).filter(c=>c.input.type===o.type).find(c=>!!c.input.value)}recordDate(o){this.store.dispatch(J.aZ(o))}recordSignature(o){this.store.dispatch(J.t7(o))}pageLoaded(o){o.loaded=!0,this.numberOfPagesLoaded+=1,this.numberOfPagesInBinder===this.numberOfPagesLoaded&&(this.numberOfPagesLoaded=0)}getInputs(o,c){const u=this.store.getState(),C=!(0,P.zw)(u).filter(V=>!V.optional).length;return(0,P.jn)(this.currentParty,"OWNER")?C?(0,P.Dn)(u,c).filter(V=>V.partyReference!==this.currentParty.reference):this.signModeEnabled?(0,P.$o)(u,c):(0,P.Dn)(u,c):(0,P.$o)(u,c)}highlightNextInput(){if(!this.store.getState().signModeEnabled)return;let o=!1;const V=this.signatureInputs.toArray().filter(re=>re.input.partyReference===this.currentParty.reference).sort((re,kn)=>me(re)-me(kn)).find(function(re){return!re.input.value&&!re.input.alreadyShown});if(!V)return void setTimeout(()=>this.highlightNextInput(),100);let lt,$t,Ct=!1;const te=()=>{void 0!==lt&&clearTimeout(lt),void 0!==$t&&clearTimeout($t),Ct=!0,V?.inputEl?.wrapperEl?.nativeElement?.removeEventListener("click",te)};if(V?.inputEl?.wrapperEl?.nativeElement?.addEventListener("click",te),this.highlightedInput===V.input?(this.highlightedInputClicks++,o=!0):this.highlightedInputClicks=0,this.highlightedInput=V.input,V.input.optional&&(V.input.alreadyShown=!0),!Ct){const re=V.getBoundingClientRect();this.scrollToElem(re)}function me(re){if(re.inputEl)return re.inputEl.wrapperEl.nativeElement.getBoundingClientRect().top}Ct||(lt=setTimeout(()=>{o?(V.redOutline=o,V.highlightedInputClicks=0,setTimeout(()=>{V.highlightedInputClicks=1},10)):V.highlightedInputClicks=1,V.highlight=!0,Ct||($t=setTimeout(()=>{"DATE_SIGNED"===V.input.type&&(V.inputEl.showDatePicker=!0),"CUSTOM_TEXT"===V.input.type?V.inputEl.wrapperEl.nativeElement.click():this.getLastSavedInput(V.input)||V.editInput(V.input)},1500))},600))}scrollToNextInputWithoutSignerData(o){const c=this.binder.parties.find(f.hasSignerWithMissingData),C=this.newInputComponents.toArray().sort((V,Ct)=>V.getBoundingClientRect().top-Ct.getBoundingClientRect().top).find(function(V){return V.input.partyReference===c.reference});C?(this.scrollToElem(C.getBoundingClientRect()),setTimeout(()=>{o.apply(this)},3e3)):o()}confirmHighlightedInputs(){this.docPreviewService.confirmHighlightedInputs()}static hasSignerWithMissingData(o){return o.roles.includes("SIGNER")&&(!o.legalName||!o.email)}pageClicked(o){if(!this.signatureBuilderModeEnabled||this.inputsNeedRepositioningAfterDocumentEdit)return!1;this.pageClickEvent=o,"IN_PREPARATION"===this.binder.status&&this.toggleToolboxTooltip()}attachDropzones(){rt().dynamicDrop(!0),rt()(this.regularDropzones).dropzone({overlap:.999,ondrop:this.onDrop.bind(this),ondragenter:o=>{const c=o.relatedTarget;o.dragEvent.target.dataset.id===c.dataset.id&&this.notificationService.closeNotification(),c.classList.remove("delete")}}),rt()(this.irregularDropzones).dropzone({overlap:.001,ondragenter:o=>{const c=o.relatedTarget;o.dragEvent.target.dataset.id===c.dataset.id&&(o.target.classList.contains("draggable")?this.notificationService.setNotification({key:"new-input_notification-overlap-warning"}):this.notificationService.setNotification({key:"new-input_notification-delete-warning"})),c.classList.add("delete")},ondrop:o=>{const c=o.relatedTarget,u=o.dragEvent.target.dataset.id;if(c.classList.contains("clone"))return!1;if(u===c.dataset.id){if(this.notificationService.closeNotification(),o.target.classList.contains("draggable")){const C=this.newInputComponents.find(V=>V.input.id===u);return C.input.position.xOffset=C.lastValidPosition.x,C.input.position.yOffset=C.lastValidPosition.y,void c.classList.remove("delete")}this.deleteInput(o)}}}),this.docHasDropzones=!0}onDrop(o){if(o.relatedTarget.classList.contains("draggable-tool"))return!1;const u=o.dragEvent.target.dataset.id;if(u!==o.relatedTarget.dataset.id)return!1;const C=o.target,V=o.dragEvent.target.getBoundingClientRect(),Ct=this.newInputComponents.find(lt=>lt.input.id===u);if(Ct){const lt=Ct.calculateInputPositionAndSize(C,V);Ct.updateInputPositionAndSize(lt)}}deleteInput(o){o.stopPropagation();const c=o.dragEvent.target.dataset.id,u=this.newInputComponents.find(C=>C.input.id===c);this.notificationService.setNotification({key:"new-input_notification-delete-message",autoClose:!0}),u&&this.store.dispatch(J.Ag(u.input))}updateInputSize(o){this.inputDimensions=o}toggleToolboxTooltip(){this.toolboxTooltipShown=!this.toolboxTooltipShown,this.toolboxTooltipShown&&this.inputs.forEach(o=>this.store.dispatch(J.yM({...o,active:!1})))}onInputClicked(){this.toolboxTooltipShown=!1}attachZoomHandler(){window.visualViewport&&window.visualViewport.scale&&!this.onTouchFunc&&(this.onTouchFunc=this.scaleTooltip.bind(this),window.addEventListener("touchend",this.onTouchFunc))}scaleTooltip(){if(this.parentState)this.zoomLevel=this.parentState.zoomLevel,this.clientWidth=this.parentState.clientWidth,this.fixedOffset=this.parentState.fixedOffset;else{let o;o=window.visualViewport.scale,this.zoomLevel=1/o}}attachPostmessageHandler(){this.onCatchMessageFunc=this.catchMessage.bind(this),window.addEventListener("message",this.onCatchMessageFunc)}catchMessage(o){try{const c=JSON.parse(o.data);c.clientWidth&&c.zoomLevel&&(this.parentState=c)}catch{}}trackBy(o,c){return c.id}trackPagesBy(o,c){return o}trackDocsBy(o,c){return c.id}scrollToElem(o){const c=this.documentEl.body.getBoundingClientRect(),u=o.top-c.top-window.innerHeight/2;$("html,body").animate({scrollTop:u},"slow")}resetHighlightedInput(){this.highlightedInput=null,this.highlightedInputClicks=0}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(S.K0),i.Y36(at.y),i.Y36(Mt.f),i.Y36(M.sK),i.Y36(Fe.g),i.Y36(_t.i))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["doc-preview"]],viewQuery:function(c,u){if(1&c&&(i.Gf(Ge,5),i.Gf(le,5),i.Gf(ti,5,i.SBq)),2&c){let C;i.iGM(C=i.CRH())&&(u.signatureInputs=C),i.iGM(C=i.CRH())&&(u.newInputComponents=C),i.iGM(C=i.CRH())&&(u.docTitles=C)}},hostBindings:function(c,u){1&c&&i.NdJ("scroll",function(){return u.onWindowScroll()},!1,i.Jf7)},inputs:{compact:"compact",progressActive:"progressActive",signerDataIsMissing:"signerDataIsMissing"},outputs:{showAddSignerDataModal:"showAddSignerDataModal",openSigning:"openSigning",openInputEditor:"openInputEditor",signatureInputsUpdate:"signatureInputsUpdate"},decls:4,vars:3,consts:[[1,"documents-container"],[3,"zoomLevel","clientWidth","fixedOffset","inputDimensions","binder","pageClickEvent"],[1,"single-document"],[1,"doc-wrapper",3,"hidden"],[1,"doc-pages"],[1,"page-container"],["class","sign-loader","width","200","height","200","src","images/signapp/tempdoc.svg"],["class","doc-img noselect",3,"src","alt"],[1,"bottom-pagination"],[1,"page-count"],["key","doc-preview_page-count-indicator",3,"params"],["width","200","height","200","src","images/signapp/tempdoc.svg",1,"sign-loader"],[1,"doc-img","noselect",3,"src","alt","load","click"],[3,"binder","inputId","zoomLevel","imgClass"],[3,"binder","inputId","zoomLevel","imgClass","updateDefaultInputSize","openInputEditor","inputClicked"],[3,"input","requestedDateFormat","highlight","highlightedInputClicks","datepickerLanguage"],[3,"input","requestedDateFormat","highlight","highlightedInputClicks","datepickerLanguage","valueChange","clicked"],["class","doc-pages"],[3,"zoomLevel","clientWidth","fixedOffset","inputDimensions","binder","pageClickEvent","hideTooltip"],["toolboxTooltip",""],["class","single-document",3,"compact"]],template:function(c,u){1&c&&(i.TgZ(0,"div",0),i.SjG(1,Te,4,4,"div",20,u.trackDocsBy),i.YNc(3,ce,2,7,"toolbox-tooltip",1),i.qZA()),2&c&&(i.ekj("signing",u.progressActive),i.xp6(),i.wJu(u.allDocuments()),i.xp6(2),i.um2(3,u.toolboxTooltipShown?3:-1))},dependencies:[Ge,Se.ZH,le,xe.w],styles:[".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.documents-container[_ngcontent-%COMP%]{display:block;background-color:#f2f2f2;padding-left:4px;padding-right:4px;padding-top:1px;position:relative}.documents-container.signing[_ngcontent-%COMP%]{margin-bottom:76px}.single-document[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:890px;float:none;margin:0 auto;text-align:center;-webkit-touch-callout:none;z-index:1}.single-document[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid #d2d2d2;padding-top:20px}.single-document[_ngcontent-%COMP%]   .doc-pages[_ngcontent-%COMP%]{margin-bottom:24px}.single-document[_ngcontent-%COMP%]   .editable-title[_ngcontent-%COMP%]{display:flex}.single-document[_ngcontent-%COMP%]   .doc-name[_ngcontent-%COMP%]{-webkit-user-select:text;user-select:text;outline:none;font-style:normal;font-weight:600;font-size:16px;line-height:24px;color:#1a1a26;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.single-document[_ngcontent-%COMP%]   .doc-name.editable[_ngcontent-%COMP%]{cursor:text}.single-document[_ngcontent-%COMP%]   .edit-status[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;white-space:nowrap;flex:1}.single-document[_ngcontent-%COMP%]   .edit-status[_ngcontent-%COMP%]   .rl-icon.edit-input[_ngcontent-%COMP%]{padding-left:10px;font-size:15px;cursor:pointer;margin-right:15px;width:15px;position:relative;top:-1px}.single-document[_ngcontent-%COMP%]   .bottom-pagination[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;margin-top:6px}.single-document[_ngcontent-%COMP%]   .bottom-pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#696a78}.single-document[_ngcontent-%COMP%]   .binder-status[_ngcontent-%COMP%]{margin-left:auto;display:none}.single-document[_ngcontent-%COMP%]   .page-count[_ngcontent-%COMP%]{pointer-events:none;color:#900;float:right;font-size:16px}@media (max-width: 768px){.single-document[_ngcontent-%COMP%]   .page-count[_ngcontent-%COMP%]{display:inline-block}}.single-document[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]{height:0;padding-top:129.4117647059%;position:relative}.single-document[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:static}.single-document[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{font-size:16px;text-align:left;overflow:hidden;display:flex;flex-direction:column}.single-document[_ngcontent-%COMP%]   .doc-metadata[_ngcontent-%COMP%]{display:flex;line-height:24px;align-items:center;padding-bottom:15px}.single-document[_ngcontent-%COMP%]   .doc-metadata[_ngcontent-%COMP%]   .doc-title[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:600;font-size:16px;line-height:24px;display:flex;align-items:center;letter-spacing:.0125em}.single-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;box-shadow:0 0 8px #1a1a261a;display:block;-webkit-touch-callout:none;image-rendering:-webkit-optimize-contrast;position:absolute;top:0;left:0;width:100%;height:100%}.single-document[_ngcontent-%COMP%]   img.sign-loader[_ngcontent-%COMP%]{box-shadow:0 0;opacity:.4}.single-document.compact[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%] > .page-count[_ngcontent-%COMP%]{display:none}.single-document.compact[_ngcontent-%COMP%]   .bottom-pagination[_ngcontent-%COMP%]{text-align:center;display:block}.single-document.compact[_ngcontent-%COMP%]   .doc-name[_ngcontent-%COMP%]{padding:0}.single-document.compact[_ngcontent-%COMP%]   .page-count[_ngcontent-%COMP%]{float:none}.single-document.compact[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:none}.single-document.compact[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:1px 1px 8px 2px #0000000d}@media (pointer: coarse){.single-document[_ngcontent-%COMP%]{max-width:100%}}@media screen and (min-width: 480px){.single-document[_ngcontent-%COMP%]   .binder-status-mobile[_ngcontent-%COMP%]{display:none}.single-document[_ngcontent-%COMP%]   .binder-status[_ngcontent-%COMP%]{display:block}}"],data:{animation:[Ze.O4]}})}return f})();var on=w(9882),rn=w(9375),y=w(2800),Et=w(5765),a=w(6518);function h(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"button",11),i.NdJ("click",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.nextStep.emit())}),i.qZA()}2&f&&i.Q6J("comContent","progress-banner_next-input")}const g=()=>({key:"progress-banner_finish"}),x=()=>({key:"progress-banner_sending"});function I(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"custom-button",12),i.NdJ("onClick",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.submitSignatures())}),i.qZA()}if(2&f){const o=i.oxw();i.Q6J("btnType","button")("btnClass","btn btn-primary right-aligned")("defaultTranslation",i.DdM(5,g))("loadingTranslation",i.DdM(6,x))("isLoading",o.sendingSignatures)}}const Y=f=>({width:f});let H=(()=>{class f{constructor(o,c,u,C,V){this.store=o,this.documentEl=c,this.signService=u,this.alertService=C,this.messageService=V,this.showActionsModal=new i.vpe,this.nextStep=new i.vpe,this.unfilledCustomTextWarning=new i.vpe,this.updateBinder=new i.vpe,this.showInvitationModal=new i.vpe,this.requestSent=!1,this.sendingSignatures=!1}static#t=this.SINGER_NOT_LINKED_TO_INPUT_KEY="error.client.condition.signerLinkedToInputs";isComplete(){const o=this.getStepNumber();return o.total===o.done}cancelSigning(){const o=(0,P.kT)(this.store.getState()).reference;this.store.dispatch((0,J.QG)(o)),this.store.dispatch((0,it.MI)(!1))}getStepNumber(){const c=(0,P.zw)(this.store.getState()).filter(C=>!0!==C.optional),u=c.filter(C=>null!=C.value&&""!==C.value);return{total:c.length,done:u.length,step:Math.min(u.length+1,c.length)}}getProgressPercent(){const o=this.getStepNumber();return`${Math.floor(o.done/(o.total||1)*100)}%`}submitSignatures(){this.sendingSignatures=!0;const{binder:o}=this.store.getState();"IN_PREPARATION"===o.status?this.finaliseBinderAndRecordSignature(o):this.recordSignatures(o)}finaliseBinderAndRecordSignature(o){this.signService.sendFinalisation("",o).subscribe(()=>{const c={...o,status:"REVIEW_AND_SHARE"};this.store.dispatch((0,J.yf)(c)),this.recordSignatures(o)},({error:{errors:c}})=>{this.sendingSignatures=!1,this.isSingerNotLinkedErrorOccurred(c)?this.showSignerNotLinkedError():this.showRecordSignatureError()})}recordSignatures(o){const c=this.prepareBinderForSending();this.signService.submitSignatures(c).subscribe({complete:()=>{this.onSubmitSuccess()},error:()=>{"REVIEW_AND_SHARE"===c.status?this.moveBinderToInPreparation(c):(this.sendingSignatures=!1,this.showRecordSignatureError())}})}moveBinderToInPreparation(o){this.signService.cancelSigning(o.id,"","").subscribe(()=>{const c={...o,status:"IN_PREPARATION"};this.store.dispatch((0,J.yf)(c)),this.sendingSignatures=!1,this.showRecordSignatureError()},()=>{this.sendingSignatures=!1,this.showRecordSignatureError()})}showRecordSignatureError(){this.alertService.setAlertMessage({message:"progress-banner_signing-error",type:"danger"})}prepareBinderForSending(){const o=this.store.getState(),{binder:c}=o,u=(0,P.gk)(o),C=c.documents.map(V=>{const Ct=V.inputs.map(lt=>{if(lt.partyReference!==u||void 0===lt.position.xOffset||"COMPLETED"===lt.status)return lt;if("IMAGE"===lt.valueType)return{...lt,valueType:"IMAGE"};const $t=this.getFontSizeInPx(lt.id);let te={...lt.font,sizeInPx:$t};return"CUSTOM_TEXT"!==lt.type&&(te=Object.assign(te,{minFontSizeInPx:6})),{...lt,font:te,valueType:"TEXT"}});return{...V,inputs:Ct}});return{...c,documents:C}}getFontSizeInPx(o){const c=this.docPreview.signatureInputs.find(u=>u.input.id===o&&"CUSTOM_TEXT"!==u.input.type);return c?c.inputEl.simulationInputValue.nativeElement.style.fontSize.replace("px",""):"16"}onSubmitSuccess(){const o=this.store.getState(),c=o.get("binder");(!(0,on.$_)(o)||(0,on.$_)(o)&&"paid"===o.paymentAgreement.status)&&this.sendSigningEventToParentWindow();const u=(0,P.wk)(o);this.signService.getBinder(c.id,{fetchPages:!0,pagesSelectedToFetch:u},c).subscribe(C=>{this.showSuccessAlert(),["REVIEW_AND_SHARE","SIGN_IN_PROGRESS","SIGN_COMPLETED"].includes(C.status)&&(f.isSignedFirstByTheOwner(o)?this.showInvitationModal.emit():this.showActionsModal.emit()),this.messageService.sendEvent({eventName:"REVIEW_AND_SHARE"==C.status||"SIGN_IN_PROGRESS"==C.status?"SIGNER_SIGNED":"SIGNING_COMPLETE",binder:C,category:"SignEvent"}),this.store.dispatch((0,it.MI)(!1))})}static isSignedFirstByTheOwner(o){const c=o.get("binder"),u=(0,P.sG)(o),C=(0,P.kT)(o),V=(0,P.jn)(C,"OWNER")&&(0,P.jn)(C,"SIGNER");return"REVIEW_AND_SHARE"===c.status&&0!==u.length&&V&&(0,P.L2)(o,C.reference)&&(0,P.Kt)(C.reference,o)}showSuccessAlert(){const{status:o}=this.store.getState().binder;"REVIEW_AND_SHARE"===o||"SIGN_IN_PROGRESS"===o?this.alertService.setAlertMessage({message:"progress-banner_you-signed",type:"success"}):"SIGN_COMPLETED"===o&&((0,P.NL)(this.store.getState().binder,"VIEWER").length<2?this.alertService.setAlertMessage({message:"progress-banner_signing-completed-single-signer",type:"success"}):this.alertService.setAlertMessage(1===this.numberOfDocs?{message:"progress-banner_all-signed-document",type:"success"}:{message:"progress-banner_all-signed-documents",type:"success"}))}sendSigningEventToParentWindow(){const o=(0,P.kT)(this.store.getState());this.messageService.sendEvent({signingComplete:{party:o},activitiesComplete:{party:o}})}showSignerNotLinkedError(){this.alertService.addDangerAlert({message:"progress-banner_singer-not-linked-error"})}isSingerNotLinkedErrorOccurred(o){return o.some(({code:c})=>f.SINGER_NOT_LINKED_TO_INPUT_KEY===c)}static#e=this.\u0275fac=function(c){return new(c||f)(i.Y36(at.y),i.Y36(S.K0),i.Y36(Mt.f),i.Y36(rn.c),i.Y36(y.e))};static#n=this.\u0275cmp=i.Xpm({type:f,selectors:[["progress-banner"]],inputs:{numberOfDocs:[i.lbL.None,"numberOfDocuments","numberOfDocs"],docPreview:[i.lbL.None,"documentPreview","docPreview"]},outputs:{showActionsModal:"showActionsModal",nextStep:"nextStep",unfilledCustomTextWarning:"unfilledCustomTextWarning",updateBinder:"updateBinder",showInvitationModal:"showInvitationModal"},decls:12,vars:10,consts:[[1,"progress-banner"],[1,"content-wrapper"],[1,"padded-text"],[3,"key","params"],[1,"progress-bar-wrapper"],[1,"progress-bar",3,"ngStyle"],[1,"button-wrapper-bottom"],[1,"inner-wrapper"],["type","button",1,"btn","btn-secondary",3,"comContent","click"],["type","button","rl-test","finish-btn","class","btn btn-primary right-aligned",3,"comContent"],["rl-test","finish-btn",3,"btnType","btnClass","defaultTranslation","loadingTranslation","isLoading"],["type","button","rl-test","finish-btn",1,"btn","btn-primary","right-aligned",3,"comContent","click"],["rl-test","finish-btn",3,"btnType","btnClass","defaultTranslation","loadingTranslation","isLoading","onClick"]],template:function(c,u){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"span"),i._UZ(4,"com",3),i.qZA()(),i.TgZ(5,"div",4),i._UZ(6,"div",5),i.qZA()(),i.TgZ(7,"div",6)(8,"div",7)(9,"button",8),i.NdJ("click",function(){return u.cancelSigning()}),i.qZA(),i.YNc(10,h,1,1,"button",9)(11,I,1,7,"custom-button",10),i.qZA()()()),2&c&&(i.xp6(4),i.Q6J("key","progress-banner_step-counter")("params",u.getStepNumber()),i.xp6(2),i.ekj("complete","100%"==u.getProgressPercent()),i.Q6J("ngStyle",i.VKq(8,Y,u.getProgressPercent())),i.xp6(3),i.Q6J("comContent","progress-banner_cancel"),i.xp6(),i.um2(10,u.isComplete()?-1:10),i.xp6(),i.um2(11,u.isComplete()?11:-1))},dependencies:[S.PC,Et.x,xe.w,z.q,a.$m],styles:[".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.progress-banner[_ngcontent-%COMP%]{background-color:#3e3f4c}.progress-banner[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;align-items:center;max-width:890px;box-sizing:border-box;padding:17px 14px;flex-wrap:wrap}.progress-banner[_ngcontent-%COMP%]   .content-wrapper.input-editor[_ngcontent-%COMP%]{padding:0 15px 15px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:none;flex:1;text-align:right;white-space:nowrap}.progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]     custom-button .btn{margin-left:15px;font-size:16px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]{border-top:1px solid #EDEDF0;box-sizing:border-box;position:fixed;width:100%;background-color:#fff;bottom:0;z-index:5;padding:15px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]{max-width:890px;margin:0 auto;height:45px;display:flex;justify-content:flex-end}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   custom-button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{width:50%}@media screen and (min-width: 768px){.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   custom-button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{max-width:195px}}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   custom-button[_ngcontent-%COMP%]:first-child{margin-right:8px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]     custom-button .btn{font-size:16px;margin-left:0;width:100%;min-width:0}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   button.right-aligned[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]     custom-button .btn.right-aligned{margin-right:0}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{margin-right:10px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]     custom-button .btn-primary{width:50%}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   .prev-btn[_ngcontent-%COMP%]{padding:10px;margin-right:20px}.progress-banner[_ngcontent-%COMP%]   span.padded-text[_ngcontent-%COMP%]{white-space:nowrap;top:0}.progress-banner[_ngcontent-%COMP%]   span.padded-text[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;line-height:20px;display:flex;align-items:center;letter-spacing:.0125em;color:#fff;margin-bottom:8px}.progress-banner[_ngcontent-%COMP%]   span.padded-text.hidden[_ngcontent-%COMP%]{display:none}.progress-banner[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]{flex:0 1 890px;position:relative;height:11px;box-sizing:border-box;font-size:12px;line-height:12px;background:#fff;border-radius:11px;box-shadow:0 0 1px 1px #000}.progress-banner[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:#c1dfa0;background-clip:content-box;box-sizing:border-box;position:absolute;left:0;top:0;bottom:0;height:11px;border-radius:11px 0 0 11px}.progress-banner[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .progress-bar.complete[_ngcontent-%COMP%]{border-top-right-radius:11px;border-bottom-right-radius:11px}@media (min-width: 481px){.progress-banner[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:15px}.progress-banner[_ngcontent-%COMP%]   .content-wrapper.input-editor[_ngcontent-%COMP%]{padding:0 15px 15px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:block}}@media screen and (min-width: 768px){.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]     custom-button{width:initial;min-width:190px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   .finish-btn[_ngcontent-%COMP%]{margin-right:0}}"]})}return f})();var G=w(3913),L=w(6036);const tt=()=>({key:"sign-summary_cancel"}),yt=()=>({key:"sign-summary_cancelling"});function Bt(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"custom-button",4),i.NdJ("onClick",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.cancel())}),i.qZA()}if(2&f){const o=i.oxw();i.Q6J("btnType","button")("btnClass","btn btn-secondary")("defaultTranslation",i.DdM(5,tt))("loadingTranslation",i.DdM(6,yt))("isLoading",o.cancelInProgress)}}const kt=()=>({key:"sign-summary_save-changes"}),St=()=>({key:"sign-summary_saving"});function Rt(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"custom-button",4),i.NdJ("onClick",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.saveChanges())}),i.qZA()}if(2&f){const o=i.oxw();i.Q6J("btnType","button")("btnClass","btn btn-primary finish-btn e2e_save-changes")("defaultTranslation",i.DdM(5,kt))("loadingTranslation",i.DdM(6,St))("isLoading",o.actionInProgress)}}let Ne=(()=>{class f{constructor(o,c,u,C){this.store=o,this.signService=c,this.alertService=u,this.partyService=C,this.onShowInviteCollaborators=new i.vpe,this.onSavedChanges=new i.vpe,this.onShowWarning=new i.vpe,this.subscriptions=[],this.actionInProgress=!1,this.cancelInProgress=!1,this.showModal=new i.vpe,this.signerDataIsMissing=!1;var V=this.store.getState();this.setupComponent(V);let Ct=this.store.subscribe(lt=>this.setupComponent(lt));this.subscriptions.push(Ct),this.storage=(0,G.h)({storage:sessionStorage,ignoreStorageErrors:!0})}ngOnDestroy(){this.subscriptions.forEach(o=>o())}setupComponent(o){o.binder&&(this.binder=o.binder,this.signerDataIsMissing=0!=this.binder.parties.filter(c=>!c.legalName||!c.email).length)}saveChanges(){this.signerDataIsMissing?this.showModal.emit("addSignerDataModal"):this.storage.isWritable&&this.storage.showOwnerFinaliseWarning?(this.actionInProgress=!0,this.partyService.ensurePartyRefIntegrity().subscribe({next:()=>{this.actionInProgress=!1,this.store.dispatch((0,it.KI)(!1)),this.onSavedChanges.emit()},error:()=>{this.alertService.addDangerAlert({message:"sign-summary_prepare-to-sign-submit-failed"})}})):this.onShowWarning.emit()}cancel(){this.cancelInProgress=!0,this.signService.getBinder(this.store.getState().get("binder").id,{fetchPages:!1}).subscribe(()=>{this.store.dispatch((0,it.KI)(!1)),this.cancelInProgress=!1})}getBinder(o){this.signService.getBinder(this.store.getState().get("binder").id,{fetchPages:!1}).subscribe(()=>{o()})}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(at.y),i.Y36(Mt.f),i.Y36(rn.c),i.Y36(L.p))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["sign-summary"]],outputs:{onShowInviteCollaborators:"onShowInviteCollaborators",onSavedChanges:"onSavedChanges",onShowWarning:"onShowWarning",showModal:"showModal"},decls:5,vars:2,consts:[[1,"progress-banner"],[1,"button-wrapper-bottom"],[1,"inner-wrapper","space-between-mobile"],[3,"btnType","btnClass","defaultTranslation","loadingTranslation","isLoading"],[3,"btnType","btnClass","defaultTranslation","loadingTranslation","isLoading","onClick"]],template:function(c,u){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i.YNc(3,Bt,1,7,"custom-button",3)(4,Rt,1,7,"custom-button",3),i.qZA()()()),2&c&&(i.xp6(3),i.um2(3,"IN_PREPARATION"==u.binder.status?3:-1),i.xp6(),i.um2(4,"IN_PREPARATION"==u.binder.status?4:-1))},dependencies:[Et.x],styles:[".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.progress-banner[_ngcontent-%COMP%]{background-color:#3e3f4c}.progress-banner[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;align-items:center;max-width:890px;box-sizing:border-box;padding:17px 14px;flex-wrap:wrap}.progress-banner[_ngcontent-%COMP%]   .content-wrapper.input-editor[_ngcontent-%COMP%]{padding:0 15px 15px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:none;flex:1;text-align:right;white-space:nowrap}.progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]     custom-button .btn{margin-left:15px;font-size:16px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]{border-top:1px solid #EDEDF0;box-sizing:border-box;position:fixed;width:100%;background-color:#fff;bottom:0;z-index:5;padding:15px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]{max-width:890px;margin:0 auto;height:45px;display:flex;justify-content:flex-end}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   custom-button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{width:50%}@media screen and (min-width: 768px){.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   custom-button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{max-width:195px}}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   custom-button[_ngcontent-%COMP%]:first-child{margin-right:8px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]     custom-button .btn{font-size:16px;margin-left:0;width:100%;min-width:0}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   button.right-aligned[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]     custom-button .btn.right-aligned{margin-right:0}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{margin-right:10px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]     custom-button .btn-primary{width:50%}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   .prev-btn[_ngcontent-%COMP%]{padding:10px;margin-right:20px}.progress-banner[_ngcontent-%COMP%]   span.padded-text[_ngcontent-%COMP%]{white-space:nowrap;top:0}.progress-banner[_ngcontent-%COMP%]   span.padded-text[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;line-height:20px;display:flex;align-items:center;letter-spacing:.0125em;color:#fff;margin-bottom:8px}.progress-banner[_ngcontent-%COMP%]   span.padded-text.hidden[_ngcontent-%COMP%]{display:none}.progress-banner[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]{flex:0 1 890px;position:relative;height:11px;box-sizing:border-box;font-size:12px;line-height:12px;background:#fff;border-radius:11px;box-shadow:0 0 1px 1px #000}.progress-banner[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:#c1dfa0;background-clip:content-box;box-sizing:border-box;position:absolute;left:0;top:0;bottom:0;height:11px;border-radius:11px 0 0 11px}.progress-banner[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .progress-bar.complete[_ngcontent-%COMP%]{border-top-right-radius:11px;border-bottom-right-radius:11px}@media (min-width: 481px){.progress-banner[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:15px}.progress-banner[_ngcontent-%COMP%]   .content-wrapper.input-editor[_ngcontent-%COMP%]{padding:0 15px 15px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:block}}@media screen and (min-width: 768px){.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]     custom-button{width:initial;min-width:190px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   .finish-btn[_ngcontent-%COMP%]{margin-right:0}}@media screen and (max-width: 768px){.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .inner-wrapper.space-between-mobile[_ngcontent-%COMP%]{justify-content:space-between}}"]})}return f})();var we=w(7017),Le=w(1191),Lt=w(3966),ge=w(3609),Gt=w(2501),Tn=w(3317),Ke=w(6321),Ji=w(1839),En=w(9257);function sr(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"rl-alert",0),i.NdJ("onShow",function(u){i.CHM(o);const C=i.oxw();return i.KtG(C.alertShown(u))})("closeClick",function(u){i.CHM(o);const C=i.oxw();return i.KtG(C.closeAlert(u,"button"))}),i.qZA()}2&f&&i.Q6J("alert",A.$implicit)}const Ki=".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}rl-alert[_nghost-%COMP%]{display:block;overflow:hidden}.rl-alerts[_ngcontent-%COMP%]{box-shadow:0 0 4px #1a1a2626;left:0;position:fixed;top:0;width:100%}.rl-alert[_ngcontent-%COMP%]{align-items:center;display:flex;flex-flow:row nowrap;height:100%;justify-content:space-between;padding:16px}.rl-alert--success[_ngcontent-%COMP%]{background-color:#c1dfa0}.rl-alert--danger[_ngcontent-%COMP%]{background-color:#eec3c5}.rl-alert--notification[_ngcontent-%COMP%]{background-color:#f9debc;color:#696a78}.rl-alert__icon-container[_ngcontent-%COMP%], .rl-alert__close-container[_ngcontent-%COMP%]{flex:0 0 auto;min-width:24px}.rl-alert__icon-container[_ngcontent-%COMP%], .rl-alert__close-container[_ngcontent-%COMP%], .rl-alert__close-btn[_ngcontent-%COMP%]{font-size:24px}.rl-alert__message-container[_ngcontent-%COMP%]{flex:1 0 0;text-align:center;padding:0 16px}.rl-alert__icon-container--danger[_ngcontent-%COMP%], .rl-alert__message-container--danger[_ngcontent-%COMP%]{color:#e62300}.rl-alert__icon-container--success[_ngcontent-%COMP%], .rl-alert__message-container--success[_ngcontent-%COMP%]{color:#598b25}.rl-alert__icon[_ngcontent-%COMP%], .rl-alert__close-btn[_ngcontent-%COMP%]{display:block}.rl-alert__icon[hidden][_ngcontent-%COMP%], .rl-alert__close-btn[hidden][_ngcontent-%COMP%]{display:none}.rl-alert__close-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#696a78;cursor:pointer;font-size:24px;outline:none;margin:0;padding:0}";let lr=(()=>{class f{constructor(){this.closeClick=new i.vpe,this.onHide=new i.vpe,this.onShow=new i.vpe,this.animate=!0,this.bem=(0,se.aP)("rl-alert"),this.classNames="rl-alert",this.messageClassNames="",this.iconClassNames="",this.closeClassNames="",this.closeButtonClassNames="",this._icon=""}get translation(){return"string"==typeof this.alert.message?this.alert.message:this.alert.message.key}get translationParams(){return"string"==typeof this.alert.message?void 0:this.alert.message.params}get icon(){return this._icon}static#t=this.iconMap={success:"alert-success",danger:"alert-danger",notification:"alert-info"};ngOnChanges({alert:o}){if(o){const{type:c}=o.currentValue;this.classNames=this.bem({[c]:!0}),this.messageClassNames=this.bem("message-container",{[c]:!0}),this.iconClassNames=this.bem("icon-container",{[c]:!0}),this.closeClassNames=this.bem("close-container",{[c]:!0}),this.closeButtonClassNames=this.bem("close-btn",{[c]:!0}),this._icon=f.iconMap[c]}}onAnimationEvent(o){"done"===o.phaseName&&("void"===o.toState?this.onHide.emit(this.alert):this.onShow.emit(this.alert))}static#e=this.\u0275fac=function(c){return new(c||f)};static#n=this.\u0275cmp=i.Xpm({type:f,selectors:[["rl-alert"]],hostVars:3,hostBindings:function(c,u){1&c&&i.WFA("@showHideAlert.done",function(V){return u.onAnimationEvent(V)}),2&c&&(i.d8E("@showHideAlert",u.animate),i.Tol(u.classNames))},inputs:{alert:"alert"},outputs:{closeClick:"closeClick",onHide:"onHide",onShow:"onShow"},features:[i.TTD],decls:7,vars:17,consts:[["role","presentation"],["rl-test","alert-message","rl-typography","bold","size","small",3,"comContent","params"],["rl-test","alert-close",3,"title","click"],[1,"rl-icon","close-x"]],template:function(c,u){1&c&&(i.TgZ(0,"div",0),i._UZ(1,"i"),i.qZA(),i._UZ(2,"div",1),i.TgZ(3,"div")(4,"button",2),i.NdJ("click",function(){return u.closeClick.emit(u.alert)}),i.ALo(5,"translate"),i._UZ(6,"i",3),i.qZA()()),2&c&&(i.Tol(u.iconClassNames),i.xp6(),i.MT6("rl-icon ",u.icon," ",u.bem("icon"),""),i.xp6(),i.Tol(u.messageClassNames),i.Q6J("comContent",u.translation)("params",u.translationParams),i.xp6(),i.Tol(u.closeClassNames),i.xp6(),i.Tol(u.closeButtonClassNames),i.s9C("title",i.lcZ(5,15,"alerts.close-a11y")))},dependencies:[z.q,a.$m,M.X$],styles:[Ki],data:{animation:[(0,Gt.X$)("showHideAlert",[(0,Gt.eR)(":enter",[(0,Gt.oB)({height:0,opacity:.4}),(0,Gt.jt)("300ms cubic-bezier(0.34, 1.56, 0.64, 1)",(0,Gt.oB)({height:"*",opacity:"*"}))]),(0,Gt.eR)(":leave",[(0,Gt.jt)("300ms cubic-bezier(0.36, 0, 0.66, -0.56)",(0,Gt.oB)({height:0,opacity:.4}))])])]},changeDetection:0})}return f})(),cr=(()=>{class f{static#t=this.AUTO_CLOSE_TIMEOUT=5e3;constructor(o,c,u,C){this.alertService=o,this.eventTracker=c,this.translateService=u,this.store=C,this.bem=(0,se.aP)("rl-alerts"),this.destroy=new pn.x}ngOnInit(){this.alerts=this.store.getState$().pipe((0,mt.R)(this.destroy),(0,F.j)("alerts","alerts"),(0,Tn.x)())}ngOnDestroy(){this.destroy.next()}alertShown(o){!1!==o.autoClose&&setTimeout(()=>this.closeAlert(o,"auto"),f.AUTO_CLOSE_TIMEOUT);const{key:c,params:u}=f.getTranslation(o);this.eventTracker.alertShown({type:o.type,fullText:this.translateService.instant(c,u)})}closeAlert(o,c="auto"){this.alertService.deleteAlert(o);const{key:u,params:C}=f.getTranslation(o);this.eventTracker.alertDismissed({type:o.type,fullText:this.translateService.instant(u,C),closeType:c})}static getTranslation(o){return"string"==typeof o.message?{key:o.message}:o.message}static#e=this.\u0275fac=function(c){return new(c||f)(i.Y36(rn.c),i.Y36(En.a),i.Y36(M.sK),i.Y36(at.y))};static#n=this.\u0275cmp=i.Xpm({type:f,selectors:[["rl-alerts-container"]],decls:4,vars:4,consts:[[3,"alert","onShow","closeClick"],[3,"alert"]],template:function(c,u){1&c&&(i.TgZ(0,"div"),i.SjG(1,sr,1,1,"rl-alert",1,i.x6l),i.ALo(3,"async"),i.qZA()),2&c&&(i.Tol(u.bem()),i.xp6(),i.wJu(i.lcZ(3,2,u.alerts)))},dependencies:[lr,S.Ov],styles:[Ki]})}return f})(),ur=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275mod=i.oAB({type:f});static#n=this.\u0275inj=i.cJS({imports:[Ke.j,M.aw,S.ez,Ji.z]})}return f})();function Pt(f,A){if(1&f&&(i.TgZ(0,"div",1)(1,"p",2),i._UZ(2,"com",3),i.qZA(),i.TgZ(3,"p",4),i._UZ(4,"com",3),i.qZA()()),2&f){const o=i.oxw();i.ekj("push-down",o.pushDown),i.xp6(),i.ekj("alwaysVisible",!o.notification.mobileKey),i.xp6(),i.Q6J("key",o.notification.key)("params",o.notification.params),i.xp6(2),i.Q6J("key",o.notification.mobileKey)("params",o.notification.mobileParams)}}let dr=(()=>{class f{constructor(o){this.notificationService=o,this.notification=null,this.pushDown=!1}ngOnInit(){this.notificationService.notificationChanges.subscribe(o=>this.notification=o)}hideNotification(){this.notification=null}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(_t.i))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["notification-message"]],inputs:{pushDown:"pushDown"},decls:1,vars:1,consts:[["class","notification",3,"push-down"],[1,"notification"],[1,"desktop-messages"],[3,"key","params"],[1,"mobile-messages"]],template:function(c,u){1&c&&i.YNc(0,Pt,5,8,"div",0),2&c&&i.um2(0,u.notification?0:-1)},dependencies:[xe.w],styles:[".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.notification[_ngcontent-%COMP%]{position:absolute;background:#3e3f4b;color:#fdfdfd;padding:13px;border-radius:5px;margin-left:auto;margin-right:auto;margin-top:0;left:0;right:0;max-width:375px;border:1px solid #5d5d5d;z-index:7}.notification.push-down[_ngcontent-%COMP%]{margin-top:90px}.notification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:left}.notification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;font-size:27px;right:10px;top:53%;transform:translateY(-50%)}.notification[_ngcontent-%COMP%]   .desktop-messages[_ngcontent-%COMP%]{display:none}.notification[_ngcontent-%COMP%]   .desktop-messages.alwaysVisible[_ngcontent-%COMP%]{display:block}@media screen and (min-width: 480px){.notification[_ngcontent-%COMP%]{max-width:430px;padding:20px}.notification[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:33px;right:15px}}@media screen and (min-width: 768px){.notification[_ngcontent-%COMP%]{margin-top:10px}}@media screen and (min-width: 768px){.notification[_ngcontent-%COMP%]   .desktop-messages[_ngcontent-%COMP%]{display:block}.notification[_ngcontent-%COMP%]   .mobile-messages[_ngcontent-%COMP%]{display:none}}"]})}return f})(),pr=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275mod=i.oAB({type:f});static#n=this.\u0275inj=i.cJS({providers:[_t.i],imports:[M.aw,Ke.j,S.ez]})}return f})();const hr=f=>({width:f});function vo(f,A){if(1&f&&(i.TgZ(0,"div",8)(1,"span",9)(2,"span"),i._UZ(3,"com",10),i.qZA()(),i.TgZ(4,"div",11),i._UZ(5,"div",12),i.qZA()()),2&f){const o=i.oxw();i.xp6(3),i.Q6J("key","progress-banner_box-counter")("params",o.getStepNumber()),i.xp6(2),i.ekj("complete","100%"==o.getProgressPercent()),i.Q6J("ngStyle",i.VKq(5,hr,o.getProgressPercent()))}}function fr(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"button",13),i.NdJ("click",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.backToEdit())}),i.qZA()}2&f&&i.Q6J("comContent","progress-banner_back-to-edit")}function gr(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"button",14),i.NdJ("click",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.selectPreviousInput())}),i.qZA()}2&f&&i.Q6J("comContent","progress-banner_previous-box")}function mr(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"button",15),i.NdJ("click",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.selectNextInput())}),i.qZA()}2&f&&i.Q6J("comContent","progress-banner_confirm-box")}function _r(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"button",16),i.NdJ("click",function(){i.CHM(o);const u=i.oxw();return i.KtG(u.saveChanges())}),i.qZA()}2&f&&i.Q6J("comContent","progress-banner_done")}let vr=(()=>{class f extends H{constructor(o,c,u,C,V){super(o,c,u,C,V),this.store=o,this.documentEl=c,this.signService=u,this.alertService=C,this.messageService=V,this.updateBinder=new i.vpe,this.showModal=new i.vpe,this.sendingSignatures=!1,this.indexOfCurrentInput=0,this.subscriptions=[],this.stickyMessage=new i.vpe;let Ct=this.store.subscribe(lt=>this.onDataChanges(lt));this.subscriptions.push(Ct),this.storage=(0,G.h)({storage:sessionStorage,ignoreStorageErrors:!0})}setStickyMessage(){"ontouchstart"in window||navigator.msMaxTouchPoints?this.stickyMessage.emit("sign-dashboard_tap-to-continue-mobile"):this.stickyMessage.emit("sign-dashboard_tap-to-continue-desktop")}onDataChanges(o){if(this.inputs=(0,P.eY)(o).filter(c=>"PLACEHOLDER"!=c.position.type),o.get("inputsNeedRepositioningAfterDocumentEdit")){if(0==this.inputs.length)return void this.setStickyMessage();this.inputs.find(c=>c.warning)?(this.currentlySelectedInput=this.inputs.find(c=>c.warning),this.indexOfCurrentInput=this.inputs.findIndex(c=>c.warning)):(this.indexOfCurrentInput=0==this.indexOfCurrentInput?0:this.indexOfCurrentInput-1,this.currentlySelectedInput=this.inputs[this.indexOfCurrentInput],this.store.dispatch((0,J.$M)({id:this.currentlySelectedInput.id})))}}ngOnInit(){this.onDataChanges(this.store.getState());const o=this.storage.repositioningDemoCardShown;this.storage.repositioningDemoCardShown="true",o||this.showModal.emit("repositioningDemoModal")}ngOnDestroy(){this.store.dispatch((0,it.KI)(!1)),this.subscriptions.forEach(o=>o())}getStepNumber(){return{total:this.inputs.length,done:this.indexOfCurrentInput+1,step:this.indexOfCurrentInput+1}}getProgressPercent(){var o=this.getStepNumber();return`${Math.floor(o.done/(o.total||1)*100)}%`}saveChanges(){this.store.dispatch((0,it.BA)(!1)),this.store.dispatch((0,it.KI)(!1)),this.store.dispatch((0,J.TL)()),this.updateBinder.emit()}selectNextInput(){this.indexOfCurrentInput!=this.inputs.length&&(this.indexOfCurrentInput++,this.store.dispatch((0,J.$M)({id:this.inputs[this.indexOfCurrentInput].id})))}selectPreviousInput(){0!=this.indexOfCurrentInput&&(this.indexOfCurrentInput--,this.store.dispatch((0,J.$M)({id:this.inputs[this.indexOfCurrentInput].id})))}backToEdit(){this.store.dispatch((0,it.cD)(!0))}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(at.y),i.Y36(S.K0),i.Y36(Mt.f),i.Y36(rn.c),i.Y36(y.e))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["input-editor"]],outputs:{updateBinder:"updateBinder",showModal:"showModal",stickyMessage:"stickyMessage"},features:[i.qOj],decls:8,vars:5,consts:[[1,"progress-banner"],["class","content-wrapper input-editor"],[1,"button-wrapper-bottom"],[1,"inner-wrapper","input-updates-wrapper"],["type","button","class","btn btn-secondary prev-btn e2e_back-to-edit",3,"comContent"],["type","button","class","btn btn-secondary prev-btn",3,"comContent"],["type","button","class","btn btn-primary next-btn",3,"comContent"],["class","btn btn-primary finish-btn",3,"comContent"],[1,"content-wrapper","input-editor"],[1,"padded-text"],[3,"key","params"],[1,"progress-bar-wrapper"],[1,"progress-bar",3,"ngStyle"],["type","button",1,"btn","btn-secondary","prev-btn","e2e_back-to-edit",3,"comContent","click"],["type","button",1,"btn","btn-secondary","prev-btn",3,"comContent","click"],["type","button",1,"btn","btn-primary","next-btn",3,"comContent","click"],[1,"btn","btn-primary","finish-btn",3,"comContent","click"]],template:function(c,u){1&c&&(i.TgZ(0,"div",0),i.YNc(1,vo,6,7,"div",1),i.TgZ(2,"div",2)(3,"div",3),i.YNc(4,fr,1,1,"button",4)(5,gr,1,1,"button",5)(6,mr,1,1,"button",6)(7,_r,1,1,"button",7),i.qZA()()()),2&c&&(i.xp6(),i.um2(1,0!=u.inputs.length?1:-1),i.xp6(3),i.um2(4,0==u.indexOfCurrentInput?4:-1),i.xp6(),i.um2(5,u.indexOfCurrentInput>0?5:-1),i.xp6(),i.um2(6,u.indexOfCurrentInput<u.inputs.length-1?6:-1),i.xp6(),i.um2(7,u.indexOfCurrentInput==u.inputs.length-1||0==u.inputs.length?7:-1))},dependencies:[S.PC,xe.w,z.q],styles:[".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.progress-banner[_ngcontent-%COMP%]{background-color:#3e3f4c}.progress-banner[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin:0 auto;display:flex;align-items:center;max-width:890px;box-sizing:border-box;padding:17px 14px;flex-wrap:wrap}.progress-banner[_ngcontent-%COMP%]   .content-wrapper.input-editor[_ngcontent-%COMP%]{padding:0 15px 15px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:none;flex:1;text-align:right;white-space:nowrap}.progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]     custom-button .btn{margin-left:15px;font-size:16px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]{border-top:1px solid #EDEDF0;box-sizing:border-box;position:fixed;width:100%;background-color:#fff;bottom:0;z-index:5;padding:15px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]{max-width:890px;margin:0 auto;height:45px;display:flex;justify-content:flex-end}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   custom-button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{width:50%}@media screen and (min-width: 768px){.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   custom-button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{max-width:195px}}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   custom-button[_ngcontent-%COMP%]:first-child{margin-right:8px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]     custom-button .btn{font-size:16px;margin-left:0;width:100%;min-width:0}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   button.right-aligned[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]     custom-button .btn.right-aligned{margin-right:0}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{margin-right:10px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]     custom-button .btn-primary{width:50%}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   .prev-btn[_ngcontent-%COMP%]{padding:10px;margin-right:20px}.progress-banner[_ngcontent-%COMP%]   span.padded-text[_ngcontent-%COMP%]{white-space:nowrap;top:0}.progress-banner[_ngcontent-%COMP%]   span.padded-text[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;line-height:20px;display:flex;align-items:center;letter-spacing:.0125em;color:#fff;margin-bottom:8px}.progress-banner[_ngcontent-%COMP%]   span.padded-text.hidden[_ngcontent-%COMP%]{display:none}.progress-banner[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]{flex:0 1 890px;position:relative;height:11px;box-sizing:border-box;font-size:12px;line-height:12px;background:#fff;border-radius:11px;box-shadow:0 0 1px 1px #000}.progress-banner[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:#c1dfa0;background-clip:content-box;box-sizing:border-box;position:absolute;left:0;top:0;bottom:0;height:11px;border-radius:11px 0 0 11px}.progress-banner[_ngcontent-%COMP%]   .progress-bar-wrapper[_ngcontent-%COMP%]   .progress-bar.complete[_ngcontent-%COMP%]{border-top-right-radius:11px;border-bottom-right-radius:11px}@media (min-width: 481px){.progress-banner[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:15px}.progress-banner[_ngcontent-%COMP%]   .content-wrapper.input-editor[_ngcontent-%COMP%]{padding:0 15px 15px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:block}}@media screen and (min-width: 768px){.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]     custom-button{width:initial;min-width:190px}.progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .progress-banner[_ngcontent-%COMP%]   .button-wrapper-bottom[_ngcontent-%COMP%]   .input-updates-wrapper[_ngcontent-%COMP%]   .finish-btn[_ngcontent-%COMP%]{margin-right:0}}"]})}return f})();function yr(f,A){if(1&f&&(i.TgZ(0,"div",1)(1,"p",2),i._UZ(2,"com",3),i.qZA()()),2&f){const o=i.oxw();i.xp6(2),i.Q6J("key",o.msg)}}let br=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["sticky-banner"]],inputs:{msg:"msg"},decls:1,vars:1,consts:[["class","instruction-banner"],[1,"instruction-banner"],[1,"instruction-text"],[3,"key"]],template:function(c,u){1&c&&i.YNc(0,yr,3,1,"div",0),2&c&&i.um2(0,u.msg?0:-1)},dependencies:[xe.w],styles:[".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.instruction-banner[_ngcontent-%COMP%]{background:#3e3f4c}.instruction-banner[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{color:#fff;font-family:Open Sans;font-style:normal;font-weight:600;font-size:16px;line-height:20px;align-items:center;text-align:center;letter-spacing:.0125em;padding:16px;margin:0}@media screen and (min-width: 768px){.instruction-banner[_ngcontent-%COMP%]   .instruction-text[_ngcontent-%COMP%]{font-size:17px}}"]})}return f})();const Cr=["topBannerContainer"];function xr(f,A){1&f&&(i.TgZ(0,"div",2),i._UZ(1,"img",3),i.qZA())}function wr(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"sign-summary",15,16),i.NdJ("onShowInviteCollaborators",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.onInviteCollaboratorsBtnClicked())})("onSavedChanges",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.onSavedChanges())})("onShowWarning",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.onShowFinaliseWarning())})("showModal",function(u){i.CHM(o);const C=i.oxw(2);return i.KtG(C.showModal(u))}),i.qZA()}}function Mr(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"progress-banner",17,18),i.NdJ("nextStep",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.docPreview.highlightNextInput())})("showActionsModal",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.showModal("actionModal"))})("showInvitationModal",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.showModal("inviteCollaboratorsModal"))}),i.qZA()}if(2&f){const o=i.oxw(2);i.Q6J("@slideUpDown",void 0)("numberOfDocuments",null==o.documents?null:o.documents.length)("documentPreview",o.docPreview)}}function Ae(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"input-editor",19),i.NdJ("updateBinder",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.saveChanges())})("showModal",function(u){i.CHM(o);const C=i.oxw(2);return i.KtG(C.showModal(u))})("stickyMessage",function(u){i.CHM(o);const C=i.oxw(2);return i.KtG(C.stickyBannerMsg=u)}),i.qZA()}}function $i(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"div",20),i.NdJ("click",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.showModal("actionModal"))}),i._UZ(1,"span",21)(2,"com",22),i.qZA()}2&f&&(i.xp6(2),i.Q6J("key","sign-dashboard_actions-btn"))}function Or(f,A){if(1&f){const o=i.EpF();i.TgZ(0,"doc-preview",23,24),i.NdJ("showAddSignerDataModal",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.showModal("addSignerDataModal"))})("openSigning",function(u){i.CHM(o);const C=i.oxw(2);return i.KtG(C.openSigningModal(u))})("openInputEditor",function(){i.CHM(o);const u=i.oxw(2);return i.KtG(u.openInputEditor())})("signatureInputsUpdate",function(u){i.CHM(o);const C=i.oxw(2);return i.KtG(C.signatureInputs=u)}),i.qZA()}if(2&f){const o=i.oxw(2);i.Q6J("signerDataIsMissing",o.signerDataIsMissing)("progressActive","IN_PREPARATION"==o.binder.status||o.progressBarIsVisible())}}function Xi(f,A){if(1&f&&(i.TgZ(0,"div")(1,"div",4),i._UZ(2,"rl-alerts-container"),i.qZA(),i.TgZ(3,"div",5,6)(5,"div",7),i._UZ(6,"notification-message",8),i.YNc(7,wr,2,0,"sign-summary"),i._UZ(8,"sticky-banner",9),i.YNc(9,Mr,2,3,"progress-banner",10)(10,Ae,1,0,"input-editor"),i.qZA(),i.TgZ(11,"div",11),i.YNc(12,$i,3,1,"div",12),i.qZA()(),i.YNc(13,Or,2,2,"doc-preview",13),i.GkF(14,null,14),i.qZA()),2&f){const o=i.oxw();i.ekj("modal-active",o.isModalActive()),i.xp6(6),i.Q6J("pushDown",o.progressBarIsVisible()||o.signatureBuilderModeEnabled||o.alertShown),i.xp6(),i.um2(7,o.signatureBuilderModeEnabled&&!o.inputsNeedRepositioningAfterDocumentEdit?7:-1),i.xp6(),i.Q6J("msg",o.stickyBannerMsg),i.xp6(),i.um2(9,o.progressBarIsVisible()?9:-1),i.xp6(),i.um2(10,o.inputEditModeEnabled?10:-1),i.xp6(),i.ekj("push-down",o.progressBarIsVisible()||o.signatureBuilderModeEnabled||o.alertShown||o.isViewerRole()),i.xp6(),i.um2(12,o.signatureBuilderModeEnabled||o.documentEditorModeEnabled||o.signingModeEnabled||!o.actionModalEnabledFromPartner?-1:12),i.xp6(),i.um2(13,o.documentEditorModeEnabled?-1:13)}}let Pr=(()=>{class f{constructor(o,c,u,C,V,Ct,lt,$t,te,me,re,kn,to,eo,Ee){this.compiler=o,this.store=c,this.alertService=u,this.translate=C,this.signService=V,this.userAgentService=Ct,this.pendoSnippetInitializerService=lt,this.modalFlowService=$t,this.searchParams=te,this.activatedRoute=me,this.router=re,this.viewRef=kn,this.injector=to,this.messageService=eo,this.documentEl=Ee,this.signatureBuilderModeEnabled=!1,this.alertShown=!1,this.showGlobalLoader=!1,this.binderHasInputs=!1,this.noOtherSigners=!1,this.newInput=null,this.editableDocIndex=null,this.stickyBannerMsg=null,this.signerDataIsMissing=!1,this.signatureModalSubmitted=new ct.EventEmitter,this.actionModalEnabledFromPartner=!0,this.subscriptions=[],this.signingModeEnabled=!1,this.inputs=[],this.inputsNeedRepositioningAfterDocumentEdit=!1,this.documentEditorModeEnabled=!1,this.partnerRequestedBackToInterviewOption=!1,this.documentWasEditedUsingAdvancedEditor=!1,this.backToInterviewIsEnabled=!1,this.advancedEditorIsEnabled=!1,this.inputEditModeEnabled=!1,this.signingComplete=!1,this.proceedWithEditInputOnSave=!1,this.sessionStorage=(0,G.h)({storage:sessionStorage,ignoreStorageErrors:!0}),this.localStorage=(0,G.h)({storage:localStorage,ignoreStorageErrors:!1});const{binder:oi,binderError:ri}=this.activatedRoute.snapshot.data.binderOrError,Pi=this.activatedRoute.snapshot.paramMap.get("binderId"),Rn=this.activatedRoute.snapshot;if(oi&&0!==oi.documents.length&&oi.documents.find(ke=>!ke.pages||0===ke.pages.length))return this.store.dispatch((0,it.Yi)(!1)),void this.handleDocumentNotUploadedError(Pi,Rn);if(ri)return void this.handleBinderErrors(ri,Pi,Rn);const Oo=this.store.getState();this.setSignData(Oo),this.setDocumentEditToggles(),this.isMobileDevice=this.userAgentService.isMobileDevice(),this.isSafariBrowser=this.userAgentService.isSafariBrowser();const Yr=this.store.subscribe(ke=>{this.setSignData(ke),this.pendoSnippetInitializerService.initialize(ke)});this.subscriptions.push(Yr);const ae=this.store.getState$().pipe((0,F.j)("alerts","alerts"),(0,nt.U)(ke=>ke.length>0)).subscribe(ke=>{this.alertShown=ke});this.subscriptions.push(()=>ae.unsubscribe()),this.checkFreshUpload(),this.checkOwnerLegalName()}onMessage(o){const c=o.data;c&&(c.hasOwnProperty("editorIsShown")?this.store.dispatch((0,it.cD)(c.editorIsShown)):c.hasOwnProperty("actionModalEnabled")?(this.externalActionUpdate(null),this.actionModalEnabledFromPartner=c.actionModalEnabled):c.hasOwnProperty("modalShown")?this.externalActionUpdate(c.modalShown):c.hasOwnProperty("refreshBinderState")&&this.refreshBinderState())}showModal(o){this.modalsComponentRef?this.modalsComponentRef.instance.showModal(o):setTimeout(()=>this.showModal(o),300)}handleDocumentNotUploadedError(o,c){this.router.navigate([`/${o}/service-down`],{fragment:c.fragment})}handleBinderErrors(o,c,u){if("No token or binderId"===o)this.router.navigate(["/not-found"],{fragment:u.fragment});else if(o.noContent)this.router.navigate([`/${c}/service-down`],{fragment:u.fragment});else if(o.status){const C=o.status.toString();0===C.indexOf(409)&&this.router.navigate([`/${c}/cancelled`],{fragment:u.fragment}),0===C.indexOf(403)?this.router.navigate([`/${c}/access-revoked`],{fragment:u.fragment}):0===C.indexOf(404)||0===C.indexOf(400)?this.router.navigate([`/${c}/not-found`],{fragment:u.fragment}):0===C.indexOf(5)&&this.router.navigate([`/${c}/service-down`],{fragment:u.fragment})}else this.router.navigate([`/${c}/service-down`],{fragment:u.fragment})}refreshBinderState(){this.showGlobalLoader=!0,this.signService.getBinder(this.binder.id,{saveStore:!1}).subscribe(o=>{this.store.dispatch((0,J.yf)(o)),this.showGlobalLoader=!1})}externalActionUpdate(o){this.modalFlowService.end()}ngOnInit(){w.e("src_app_modules_sign-app_app-modals_app-modals_module_ts").then(w.bind(w,890)).then(o=>{this.openLazyLoadedComponent(o,o.AppModalsModule.components.dynamicComponent)})}openLazyLoadedComponent(o,c){const u=o[Object.keys(o)[0]],C=(0,i.hM9)(u,this.injector);this.modalsComponentRef=this.viewRef.createComponent(c,{ngModuleRef:C})}ngAfterViewInit(){const o=(new Date).getTime(),c=window.renderStartedAt;this.messageService.sendEvent({timeToInteractive:o-c})}ngOnDestroy(){this.subscriptions.forEach(o=>o())}setSignData(o){const c=o.get("binder");c&&(this.binder=c,this.inputs=(0,P.sG)(o),this.signingModeEnabled=o.get("signModeEnabled"),this.signerDataIsMissing=this.binder.parties.some(u=>!u.legalName||!u.email),this.signatureBuilderModeEnabled=o.get("signatureBuilderModeEnabled"),this.inputsNeedRepositioningAfterDocumentEdit=o.get("inputsNeedRepositioningAfterDocumentEdit"),this.documentEditorModeEnabled=o.get("documentEditorModeEnabled"),this.advancedEditorIsEnabled=o.get("advancedEditorOptionEnabled"),this.backToInterviewIsEnabled=o.get("backToInterviewOptionEnabled"),this.userSignedDoc=!(0,P.zw)(o).filter(u=>!u.optional).length,this.inputEditModeEnabled=this.isInputModeEnabled(),this.inputEditModeEnabled&&!this.signatureBuilderModeEnabled&&this.store.dispatch((0,it.KI)(!0)),this.ownerLegalName=(0,P.oJ)(this.binder,"OWNER").legalName,this.signingComplete="SIGN_COMPLETED"===this.binder.status,this.documents=this.binder.documents.filter(u=>u.pages),this.currentUser=(0,P.kT)(o),this.currentUserLegalName=this.currentUser?this.currentUser.legalName:"",this.currentUserIsOwner=(0,P.cm)(o),this.noOtherSigners=this.currentUserIsOwner&&(0,P.Kt)(this.currentUser.reference,o)&&!this.inputs.find(u=>u.partyReference!=this.currentUser.reference),this.binderHasInputs=0!==this.inputs.length||0!==(0,P.sG)(o).length,this.setStickyBannerMsg())}isInputModeEnabled(){return this.inputsNeedRepositioningAfterDocumentEdit&&!this.documentEditorModeEnabled}progressBarIsVisible(){return!this.userSignedDoc&&this.signingModeEnabled}setDocumentEditToggles(){this.documentWasEditedUsingAdvancedEditor=!!this.binder.metaData&&1==this.binder.metaData.documentUpdatedFromAdvancedEditor,this.partnerRequestedBackToInterviewOption="true"===this.searchParams.get("documentFromInterview"),this.backToInterviewIsEnabled=this.partnerRequestedBackToInterviewOption&&!this.documentWasEditedUsingAdvancedEditor,this.advancedEditorIsEnabled="text/html"==this.binder.documents[0].contentType,this.store.dispatch((0,it.ZU)(this.advancedEditorIsEnabled)),this.store.dispatch((0,it.Hj)(this.backToInterviewIsEnabled))}setStickyBannerMsg(){this.stickyBannerMsg="IN_PREPARATION"!=this.binder.status||this.documentEditorModeEnabled||this.signingModeEnabled?null:this.inputEditModeEnabled?"sign-dashboard_edit-inputs":this.signatureBuilderModeEnabled?!this.binderHasInputs&&this.isMobileDevice?"sign-dashboard_instruction-text-mobile":this.binderHasInputs&&this.isMobileDevice?"sign-dashboard_instruction-text-additional-fields-mobile":this.binderHasInputs||this.isMobileDevice?"sign-dashboard_instruction-text-additional-fields-desktop":"sign-dashboard_instruction-text-desktop":"IN_PREPARATION"==this.binder.status&&this.noOtherSigners&&!this.signatureBuilderModeEnabled?"sign-dashboard_instruction-text-only-owner-as-signer":null}onShowFinaliseWarning(){this.showModal("ownerFinaliseWarningModal")}onSavedChanges(){this.showModal("actionModal")}checkOwnerLegalName(){(!this.ownerLegalName||0==this.ownerLegalName.trim().length)&&(this.showModal("addNameModal"),this.translate.get("sign-dashboard_doc-owner").subscribe(o=>this.ownerLegalName=o))}checkFreshUpload(){Date.now()-Date.parse(this.binder.created)>3e5||"IN_PREPARATION"===this.binder.status&&(this.binderHasInputs||this.binder.requests.length>1||this.alertService.setAlertMessage({message:"sign-dashboard_upload-success",type:"success"}))}isViewerRole(){return(0,P.jn)(this.currentUser,"VIEWER")}showSingleSignSuccess(){this.alertService.setAlertMessage({message:"single-sign-success",type:"success"})}showFullSignSuccess(){this.alertService.setAlertMessage({message:"full-sign-success",type:"success"})}showSignError(){this.alertService.setAlertMessage({message:"sign-error",type:"danger"})}openSigningModal(o){this.modalsComponentRef&&this.modalsComponentRef.instance.openSigningModal(o)}highlightNextInput(){setTimeout(()=>{this.docPreview.highlightNextInput()},800)}openInputEditor(){const o=this.store.getState(),c=(0,P.kT)(o);(0,P.jn)(c,"OWNER")&&(0,P.wm)(o)?(this.proceedWithNextActionsOnSave=!1,this.proceedWithEditInputOnSave=!0,this.addSignerDataModalIntroText="standard",this.showModal("addSignerDataModal")):this.showModal("editInputModal")}onError(){this.showGlobalLoader=!1,this.alertService.setAlertMessage({message:"sign-dashboard_save-error",type:"danger"})}onInvitationsSent(){setTimeout(()=>{this.showModal("actionModal")},2e3)}isModalActive(){return!(!this.newInput&&!this.editedInput)}onInviteCollaboratorsBtnClicked(){this.showModal("inviteCollaboratorsModal")}proceedWithSigning(){this.closeModal(),this.progressBanner.submitSignatures()}closeModal(){this.modalsComponentRef&&this.modalsComponentRef.instance.closeModal()}saveChanges(){this.signService.updateBinder(this.binder,!0).subscribe(()=>{this.stickyBannerMsg=null,setTimeout(()=>{this.showModal("actionModal")},3e3),this.alertService.setAlertMessage({message:"sign-dashboard_inputs-repositioned-success",type:"success"})},()=>{this.alertService.setAlertMessage({message:"document-editor_changes_error",type:"danger"})})}static#t=this.\u0275fac=function(c){return new(c||f)(i.Y36(i.Sil),i.Y36(at.y),i.Y36(rn.c),i.Y36(M.sK),i.Y36(Mt.f),i.Y36(Be.V),i.Y36(Lt.I),i.Y36(we.D),i.Y36(ge.l),i.Y36(p.gz),i.Y36(p.F0),i.Y36(i.s_b),i.Y36(i.zs3),i.Y36(y.e),i.Y36(S.K0))};static#e=this.\u0275cmp=i.Xpm({type:f,selectors:[["dashboard"]],viewQuery:function(c,u){if(1&c&&(i.Gf(Cr,5,i.SBq),i.Gf(ni,5),i.Gf(H,5),i.Gf(Ne,5)),2&c){let C;i.iGM(C=i.CRH())&&(u.topBannerContainer=C.first),i.iGM(C=i.CRH())&&(u.docPreview=C.first),i.iGM(C=i.CRH())&&(u.progressBanner=C.first),i.iGM(C=i.CRH())&&(u.signBanner=C.first)}},hostBindings:function(c,u){1&c&&i.NdJ("message",function(V){return u.onMessage(V)},!1,i.Jf7)},features:[i._Bn([Mt.f,we.D])],decls:3,vars:2,consts:[["class","overlays"],[3,"modal-active"],[1,"overlays"],["src","images/signapp/rolling.svg","width","200","height","200","alt","Loading",1,"loading-spinner"],[1,"alerts-container"],[1,"top-banner-container"],["topBannerContainer",""],[1,"top-banner"],[3,"pushDown"],[3,"msg"],[3,"numberOfDocuments","documentPreview"],[1,"action-button-container"],["class","action-btn"],[3,"signerDataIsMissing","progressActive"],["container",""],[3,"onShowInviteCollaborators","onSavedChanges","onShowWarning","showModal"],["signBanner",""],[3,"numberOfDocuments","documentPreview","nextStep","showActionsModal","showInvitationModal"],["progressBanner",""],[3,"updateBinder","showModal","stickyMessage"],[1,"action-btn",3,"click"],[1,"rl-icon","burger"],[3,"key"],[3,"signerDataIsMissing","progressActive","showAddSignerDataModal","openSigning","openInputEditor","signatureInputsUpdate"],["docPreview",""]],template:function(c,u){1&c&&(i.YNc(0,xr,2,0,"div",0)(1,Xi,16,11,"div",1),i._UZ(2,"router-outlet")),2&c&&(i.um2(0,u.showGlobalLoader?0:-1),i.xp6(),i.um2(1,u.documents?1:-1))},dependencies:[p.lC,ni,cr,xe.w,dr,Ne,H,vr,br],styles:['@import"//fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic|Caveat|Dancing+Script|Shadows+Into+Light+Two|Just+Me+Again+Down+Here|Libre+Baskerville";.close-btn[_ngcontent-%COMP%]{background:url(/images/modal/close.svg) no-repeat;background-size:30px;width:30px;height:30px;position:absolute;top:12px;right:12px}.close-btn[_ngcontent-%COMP%]:hover{background:url(/images/modal/close-hover.svg) no-repeat;background-size:30px;cursor:pointer}#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{background:url(/images/signapp/close-x-white.svg) no-repeat;background-size:28px;width:25px;height:25px;position:absolute;top:10px;right:10px}.rl-typography[_ngcontent-%COMP%]{color:#3e3f4c;font-family:Open Sans,sans-serif;font-style:normal;font-weight:400;font-size:16px;line-height:normal}.rl-typography--variant-button[_ngcontent-%COMP%]{color:#fff}.rl-typography--variant-button[_ngcontent-%COMP%], .rl-typography--variant-heading[_ngcontent-%COMP%]{font-size:18px}.rl-typography--variant-tooltip[_ngcontent-%COMP%]{color:#fff;font-size:14px;line-height:20px}.rl-typography--bold[_ngcontent-%COMP%], .rl-typography--variant-heading[_ngcontent-%COMP%]{font-weight:600}.rl-typography--color-alert[_ngcontent-%COMP%], .rl-typography--color-error[_ngcontent-%COMP%]{color:#e62300}.rl-typography--color-happy[_ngcontent-%COMP%]{color:#00a68a}.rl-typography--color-primary[_ngcontent-%COMP%]{color:#d68021}.rl-typography--size-small[_ngcontent-%COMP%]{font-size:14px}.rl-typography--size-large[_ngcontent-%COMP%]{font-size:18px}html[_ngcontent-%COMP%]{color:#333;background-color:#f2f2f2;cursor:default!important;height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Open Sans,sans-serif;color:#333;background-color:#f2f2f2;position:relative}body.modal-open[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 768px){.sign-summary-container[_ngcontent-%COMP%]{padding:20px 15px}}@media (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){.sign-summary-container[_ngcontent-%COMP%]{padding:15px 30px}}a[_ngcontent-%COMP%],   a{color:var(--rl-action-primary-default, #d68021)}.btn[_ngcontent-%COMP%]{display:inline-block;text-align:center;text-decoration:none;cursor:pointer;font-family:Open Sans;min-width:194px;-webkit-user-select:none;user-select:none}.btn[_ngcontent-%COMP%]:focus{outline:none}.btn.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none;cursor:default}.btn.disabled[_ngcontent-%COMP%]:hover{background-color:none}.btn-primary[_ngcontent-%COMP%]{border:0 none;border-radius:var(--rl-button-border-radius, 0px);font-size:16px;font-weight:400;line-height:20px;color:#fff;height:45px;min-height:45px;border-bottom:3px solid #8c5416;position:relative;transition:background-color .2s ease}.btn-secondary[_ngcontent-%COMP%]{position:relative;border-radius:var(--rl-button-border-radius, 0px);font-size:16px;line-height:20px;height:45px;min-height:45px;background-color:transparent;color:var(--rl-action-primary-default, #d68021);border:1px solid var(--rl-action-primary-default, #d68021);padding:10px 17px;text-align:center;display:block;font-weight:400}.btn-secondary[_ngcontent-%COMP%]   .rl-icon[_ngcontent-%COMP%]{font-size:20px}.btn-secondary[_ngcontent-%COMP%]   .rl-icon.delete[_ngcontent-%COMP%]{font-size:16px}.btn-secondary[_ngcontent-%COMP%]   com[_ngcontent-%COMP%]{font-weight:400}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.btn-secondary[_ngcontent-%COMP%]:active{background-color:#d8d8d8}.btn-block[_ngcontent-%COMP%]{display:block;width:100%}.close-btn[_ngcontent-%COMP%]{background:url(/images/modal/close.svg) no-repeat;background-size:30px;width:30px;height:30px;position:absolute;top:12px;right:12px}.close-btn[_ngcontent-%COMP%]:hover{background:url(/images/modal/close-hover.svg) no-repeat;background-size:30px;cursor:pointer}.indicator-arrow[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;background-color:#ffe900;position:absolute;left:-15px;width:31px;height:28px;font-size:15px;font-weight:600;color:#666;display:flex;pointer-events:none;justify-content:center;align-items:center}.indicator-arrow[_ngcontent-%COMP%]   .rl-icon.pencil[_ngcontent-%COMP%]{position:relative;left:5px}.indicator-arrow[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:0;left:100%;width:0;height:0;border:solid transparent;border-width:14px;border-left-color:#ffe900}@media screen and (min-width: 480px){.indicator-arrow[_ngcontent-%COMP%]{width:45px;height:30px;font-size:17px}.indicator-arrow[_ngcontent-%COMP%]:after{border-width:15px}}@media screen and (min-width: 968px){.indicator-arrow[_ngcontent-%COMP%]{width:70px;height:45px;left:-30px;font-size:22px}.indicator-arrow[_ngcontent-%COMP%]:after{border-width:22.5px}}input[type=checkbox][_ngcontent-%COMP%]{display:none}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox-check[_ngcontent-%COMP%]{width:22px;height:22px;font-size:14px;float:left;color:transparent;display:flex;align-items:center;justify-content:center;border:1px solid #cccccc}input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .checkbox-check[_ngcontent-%COMP%]{color:#fff;background-color:#d68021}input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .checkbox-check.doc-man-checkbox[_ngcontent-%COMP%]{background-color:var(--rl-action-primary-default, #d68021)}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox-check.show-error[_ngcontent-%COMP%]{border-color:#e62300}.bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.error-message[_ngcontent-%COMP%]{color:#ed1c24;font-size:16px}#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{position:fixed;background-color:#292929;top:0;left:0;box-sizing:border-box;padding:25px 10px;width:100%;height:100%;visibility:hidden;transition:opacity .5s}#tooltip[_ngcontent-%COMP%]   p.tooltip-text[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   p.tooltip-text[_ngcontent-%COMP%]{display:block;margin-left:5px;color:#999;font-size:16px;font-style:italic;text-transform:none;font-weight:400;text-align:left}#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{background:url(/images/signapp/close-x-white.svg) no-repeat;background-size:28px;width:25px;height:25px;position:absolute;top:10px;right:10px}#tooltip.hide-tooltip[_ngcontent-%COMP%], .tooltip-wrapper.hide-tooltip[_ngcontent-%COMP%]{opacity:0;visibility:hidden}#tooltip.show-tooltip[_ngcontent-%COMP%], .tooltip-wrapper.show-tooltip[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media screen and (min-width: 480px){#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{position:absolute;max-width:inherit;max-height:inherit;width:400px;height:auto;padding:20px 15px;border-radius:5px;top:-155px;left:-190px}#tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid #292929;position:absolute;bottom:-19px;margin-left:auto;margin-right:auto;left:0;right:0}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow.arrow-down[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow.arrow-down[_ngcontent-%COMP%]{border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid #292929}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow.arrow-up[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow.arrow-up[_ngcontent-%COMP%]{border-left:20px solid transparent;border-right:20px solid transparent;border-bottom:20px solid #292929;border-top:none}}@media only screen and (min-width: 481px){#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{left:-330px;padding:15px 20px}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:279px}#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{display:block}}@media screen and (max-width: 700px){#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{position:fixed;width:100%;left:0;top:0;height:100%;padding:20px 15px;z-index:11}}@media screen and (min-width: 701px){#tooltip.right-aligned[_ngcontent-%COMP%], .tooltip-wrapper.right-aligned[_ngcontent-%COMP%]{left:-50px}#tooltip.right-aligned[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .tooltip-wrapper.right-aligned[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:-280px}}@media screen and (min-width: 769px){#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{display:none}}.simple-tooltip[_ngcontent-%COMP%]{position:absolute;background:#333;border-radius:8px;color:#fff;z-index:2}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{cursor:pointer;padding:0;list-style:none;display:flex;flex-direction:row;margin:0;text-align:center}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]{max-width:50px;max-height:50px;flex:1;font-size:22px;justify-content:center;line-height:48px;border-right:1px solid #b6b7bc}@media (hover){.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:hover{background-color:#000}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:hover:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:hover:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:last-child{border-right:none}}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:last-child{border-right:none}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-signature[_ngcontent-%COMP%]{font-size:28px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-textbox[_ngcontent-%COMP%]{font-size:32px;position:relative;top:1px;left:1px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-calendar[_ngcontent-%COMP%]{font-size:30px;position:relative;top:1px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-trash[_ngcontent-%COMP%]{font-size:26px;position:relative;bottom:1px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-edit[_ngcontent-%COMP%]{font-size:27px;position:relative;left:1px}.simple-tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:0;height:0;top:100%;transform:translate(-50%);border-left:14px solid transparent;border-right:14px solid transparent;border-top:18px solid #1A1A26}.overlays[_ngcontent-%COMP%]{position:fixed;top:0;z-index:10;width:100%;height:100%;background:#00000080}.loading-spinner[_ngcontent-%COMP%]{margin:0 auto;display:block}.modal-active[_ngcontent-%COMP%]{touch-action:none}.top-banner-container[_ngcontent-%COMP%]{position:sticky;top:0;z-index:3}.top-banner[_ngcontent-%COMP%]{margin:0 auto;box-shadow:0 0 8px #1a1a261a;border-radius:4px}.top-banner.dummy-banner[_ngcontent-%COMP%]{position:absolute;opacity:0}.top-banner.static[_ngcontent-%COMP%]{position:static}.top-banner.fixed[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:5;border-bottom:1px solid #d8d8d8}.alerts-container[_ngcontent-%COMP%]{z-index:10;width:100%;position:relative}.history-panel[_ngcontent-%COMP%]{display:none;overflow:auto}.history-panel.show-panel[_ngcontent-%COMP%]{display:block;position:absolute;left:0;z-index:3;width:100%}@media (max-width: 992px){.history-panel.show-panel.takeover[_ngcontent-%COMP%]{top:0;border-radius:0}}@media screen and (max-width: 767px){.history-panel.show-panel[_ngcontent-%COMP%]{height:100vh!important;top:0;left:0}}@media screen and (min-width: 992px){.history-panel.show-panel[_ngcontent-%COMP%]{z-index:2;width:inherit;min-width:935px;left:50%;transform:translate(-50%)}}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){.history-panel.show-panel[_ngcontent-%COMP%]{top:auto}}.action-button-container[_ngcontent-%COMP%]{position:sticky}.action-button-container.push-down[_ngcontent-%COMP%]{top:85px}.action-button-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{transition:top .3s ease-in;position:absolute;top:10px;right:20px;background-color:var(--rl-action-primary-default, #d68021);z-index:2;width:90px;height:35px;border-radius:11px;display:flex;justify-content:center;align-items:center;font-weight:600;font-size:16px;line-height:16px;margin:0 auto;box-shadow:0 4px 4px #00000040;border:1px solid var(--rl-action-primary-default, #d68021);cursor:pointer;color:#fff}.action-button-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:var(--rl-action-primary-hover, #e89338)}@media screen and (min-width: 968px){.action-button-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{left:0;right:0;margin:0 auto;transform:translate(390px)}}.action-button-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .rl-icon[_ngcontent-%COMP%]{font-size:14px;width:25px;height:16px}.action-button-container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   com[_ngcontent-%COMP%]{width:57px}'],data:{animation:[Ze.O4,Ze.Pc,Le.K4]}})}return f})();var Dr=w(405),Sr=w(5366);let an=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275mod=i.oAB({type:f});static#n=this.\u0275inj=i.cJS({})}return f})(),Qi=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275mod=i.oAB({type:f});static#n=this.\u0275inj=i.cJS({})}return f})();var Tr=w(6925);let ii=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275mod=i.oAB({type:f});static#n=this.\u0275inj=i.cJS({imports:[S.ez,Ke.j,T.u5,an,Qi,Tr.I,T.UX,Ye.w]})}return f})(),Er=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275mod=i.oAB({type:f});static#n=this.\u0275inj=i.cJS({imports:[S.ez,Ke.j]})}return f})(),Ir=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275mod=i.oAB({type:f});static#n=this.\u0275inj=i.cJS({imports:[S.ez,Ke.j,T.u5,an,Qi]})}return f})(),yo=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275mod=i.oAB({type:f});static#n=this.\u0275inj=i.cJS({providers:[Fe.g],imports:[S.ez,ii,Er,Ir,Ke.j,Ye.w]})}return f})();var bo=w(7507),Ar=w(7897),kr=w(263),Co=w(5278),Rr=w(782),xo=w(4997),zr=w(304),Br=w(7865),In=w(2906),wo=w(913),Fr=w(9706),Mo=w(6411),We=w(6239),qi=w(385),Yt=w(8920),Nr=w(777),Lr=w(1330),An=w(7886);const ji=[{path:"",component:Pr,pathMatch:"full"}];let Hr=(()=>{class f{static#t=this.\u0275fac=function(c){return new(c||f)};static#e=this.\u0275mod=i.oAB({type:f});static#n=this.\u0275inj=i.cJS({providers:[_t.i,Lr.Y,Nr.e,Yt.e,M.sK,qi.R,We.s,rn.c,Mo.O,Fr.F,S.uU,wo.U,Mt.f,In.r,Br.T,zr.$,y.e,xo.e,Rr.b,Co.y,Be.V,Lt.I,L.p,kr.P,Ar.X,ge.l],imports:[M.aw,p.Bz.forChild(ji),W.fQ.forChild(ji),Dr.d,S.ez,p.Bz,W.fQ,Sr.G,yo,ur,bo.g,Ke.j,pr,An.R,Ji.z]})}return f})()},1839:(Kt,dt,w)=>{"use strict";w.d(dt,{z:()=>S});var M=w(9039);let S=(()=>{class p{static#t=this.\u0275fac=function(F){return new(F||p)};static#e=this.\u0275mod=M.oAB({type:p});static#n=this.\u0275inj=M.cJS({})}return p})()},6518:(Kt,dt,w)=>{"use strict";w.d(dt,{$m:()=>W});var M=w(9039);let W=(()=>{class nt{get label(){return this._label}set label(Mt){this._label=Mt}static#t=this.\u0275fac=function(P){return new(P||nt)};static#e=this.\u0275dir=M.lG2({type:nt,selectors:[["","rl-test",""]],hostVars:1,hostBindings:function(P,q){2&P&&M.uIk("data-test-id",q._label)},inputs:{label:[M.lbL.None,"rl-test","label"]}})}return nt})()},3594:(Kt,dt,w)=>{"use strict";w.d(dt,{t:()=>J});var M=w(9877),S=w(9016),p=w(274),W=w(7290),i=w(5439),F=w(9039),nt=w(8849);const ct=["append"],Mt=["input"],P=["prepend"],q=["*"],rt="rl-text-input";let J=(()=>{class it{get appendClassnames(){return(0,W.PH)(rt,"appendage")}get inputClassnames(){return(0,W.PH)(rt,"input",{"has-appendage":!!this.appendRef,"has-prependage":!!this.prependRef})}get prependClassnames(){return(0,W.PH)(rt,"prependage")}get rootClassnames(){const _t=(0,W.PH)(rt,{[`color-${this.color}`]:!0,disabled:this.disabled,"has-focus":this.hasFocus});return this.existingClassnames?`${_t} ${this.existingClassnames}`:_t}constructor(_t,Tt){this.renderer=_t,this.ngControl=Tt,this.color="secondary",this.disabled=!1,this.destroy=new M.x,this.hasFocus=!1,this.onBlur=()=>{this.hasFocus=!1},this.onFocus=()=>{this.hasFocus=!0}}ngAfterContentChecked(){this.disabled=this.ngControl?.disabled??!1,this.inputRef&&(this.hasFocus=this.inputRef.nativeElement===document.activeElement,this.inputClassHelper=new i.s(this.inputRef,this.renderer),this.inputClassHelper.setClassnames(this.inputClassnames)),this.appendRef&&(this.appendClassHelper=new i.s(this.appendRef,this.renderer),this.appendClassHelper.setClassnames(this.appendClassnames)),this.prependRef&&(this.prependClassHelper=new i.s(this.prependRef,this.renderer),this.prependClassHelper.setClassnames(this.prependClassnames))}ngAfterContentInit(){this.inputRef?.nativeElement&&((0,S.R)(this.inputRef.nativeElement,"blur").pipe((0,p.R)(this.destroy)).subscribe(()=>this.onBlur()),(0,S.R)(this.inputRef.nativeElement,"focus").pipe((0,p.R)(this.destroy)).subscribe(()=>this.onFocus()))}ngOnDestroy(){this.destroy.next()}static#t=this.\u0275fac=function(Tt){return new(Tt||it)(F.Y36(F.Qsj),F.Y36(nt.a5,8))};static#e=this.\u0275cmp=F.Xpm({type:it,selectors:[["rl-text-input"]],contentQueries:function(Tt,z,T){if(1&Tt&&(F.Suo(T,ct,5),F.Suo(T,Mt,5),F.Suo(T,P,5)),2&Tt){let O;F.iGM(O=F.CRH())&&(z.appendRef=O.first),F.iGM(O=F.CRH())&&(z.inputRef=O.first),F.iGM(O=F.CRH())&&(z.prependRef=O.first)}},hostVars:2,hostBindings:function(Tt,z){2&Tt&&F.Tol(z.rootClassnames)},inputs:{color:"color",existingClassnames:[F.lbL.None,"class","existingClassnames"]},ngContentSelectors:q,decls:1,vars:0,template:function(Tt,z){1&Tt&&(F.F$t(),F.Hsn(0))},styles:[".bold-600{font-weight:600}.bold-700{font-weight:700}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.centered{margin:0 auto}.pull-left{float:left}.pull-right{float:right}ul.list-unstyled{list-style:none}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.rl-text-input{align-items:center;background-color:#f7f7f8;box-shadow:0 2px #ccd1d9,inset -1px 1px #ccd1d9,inset 1px 1px #ccd1d9;display:flex;flex-wrap:nowrap;justify-content:space-between;min-height:40px}.rl-text-input--color-alert,.rl-text-input--color-error{box-shadow:0 2px #e62300,inset -1px 1px #ccd1d9,inset 1px 1px #ccd1d9;color:#e62300}.rl-text-input--color-happy{box-shadow:0 2px #00a68a,inset -1px 1px #ccd1d9,inset 1px 1px #ccd1d9;color:#00a68a}.rl-text-input--color-primary{box-shadow:0 2px #d68021,inset -1px 1px #ccd1d9,inset 1px 1px #ccd1d9;color:#d68021}.rl-text-input--color-secondary{color:#3e3f4c}.rl-text-input--has-focus{box-shadow:0 2px #f3c59f,inset -1px 1px #ccd1d9,inset 1px 1px #ccd1d9}.rl-text-input__appendage,.rl-text-input__prependage{flex:0 0 auto;text-align:center}.rl-text-input__input{color:#3e3f4c;font-family:Open Sans,sans-serif;font-style:normal;font-weight:400;font-size:16px;line-height:normal;align-self:stretch;background-color:transparent;border:none;flex:1 1 0;margin:0 20px 0 16px;outline:none;width:100%}.rl-text-input__input:disabled,.rl-text-input__input::placeholder,.rl-text-input__input::-webkit-input-placeholder{color:#696a78;opacity:1}.rl-text-input--disabled{background-color:transparent}\n"],encapsulation:2})}return it})()},5781:(Kt,dt,w)=>{"use strict";w.d(dt,{D5:()=>ct,lo:()=>T,tH:()=>z});var M=w(7290),S=w(5439),p=w(9039);const W=["*"],i="rl-typography",F="bold",nt=Object.freeze(["alert","error","happy","primary","secondary"]);function ct(O){return nt.includes(O)}function Mt(O){return`color-${O}`}const P=Object.freeze(["small","normalSize","large"]);function q(O){return P.includes(O)}function rt(O){return`size-${O}`}const J=Object.freeze(["body","button","heading","tooltip"]);function it(O){return J.includes(O)}function at(O){return`variant-${O}`}const _t=[`${i}--${F}`,...nt.map(O=>`${i}--${Mt(O)}`),...P.map(O=>`${i}--${rt(O)}`),...J.map(O=>`${i}--${at(O)}`)];let z=(()=>{class O{get bold(){return this._bold}set bold(B){this._bold=!!B}constructor(B,K){this.elementRef=B,this.renderer=K,this.classHelper=new S.s(B,K)}addClassnamesToRootElement(){_t.forEach(B=>{this.renderer.removeClass(this.elementRef.nativeElement,B)}),this.getClassnames().split(" ").slice(1).forEach(B=>{this.renderer.addClass(this.elementRef.nativeElement,B)})}getClassnames(B=this){const K={};return B.bold&&(K[F]=B.bold),B.color&&(K[Mt(B.color)]=!0),B.size&&(K[rt(B.size)]=!0),B.variant&&(K[at(B.variant)]=!0),(0,M.PH)(i,K)}ngOnChanges({bold:B,color:K,externalClassnames:vt,size:bt,typography:zt,variant:pt}){let ft;zt&&(zt.previousValue&&("bold"===zt.previousValue?this.bold=!1:ct(zt.previousValue)?this.setColor(void 0):q(zt.previousValue)?this.setSize(void 0):it(zt.previousValue)&&this.setVariant(void 0)),zt.currentValue&&("bold"===zt.currentValue||"normalWeight"===zt.currentValue?(this.bold="bold"===zt.currentValue,ft=0):ct(zt.currentValue)?(this.setColor(zt.currentValue),ft=1):q(zt.currentValue)?(this.setSize(zt.currentValue),ft=2):it(zt.currentValue)&&(this.setVariant(zt.currentValue),ft=3))),B&&(B.currentValue||0!==ft)&&(this.bold=B.currentValue),K&&(K.currentValue||1!==ft)&&this.setColor(K.currentValue),bt&&(bt.currentValue||2!==ft)&&this.setSize(bt.currentValue),pt&&(pt.currentValue||3!==ft)&&this.setVariant(pt.currentValue),this.addClassnamesToRootElement(),vt&&this.classHelper.setClassnames(vt.currentValue,vt.previousValue)}ngOnInit(){this.setColor(this.color),this.setSize(this.size),this.setVariant(this.variant),this.renderer.addClass(this.elementRef.nativeElement,i),this.addClassnamesToRootElement()}setColor(B,K="secondary"){this.color=B&&ct(B)?B:K}setSize(B,K="normalSize"){this.size=B&&q(B)?B:K}setVariant(B,K="body"){this.variant=B&&it(B)?B:K}static#t=this.\u0275fac=function(K){return new(K||O)(p.Y36(p.SBq),p.Y36(p.Qsj))};static#e=this.\u0275dir=p.lG2({type:O,selectors:[["","rl-typography",""]],inputs:{bold:"bold",externalClassnames:[p.lbL.None,"class","externalClassnames"],color:"color",size:"size",typography:[p.lbL.None,"rl-typography","typography"],variant:"variant"},features:[p.TTD]})}return O})(),T=(()=>{class O extends z{static#t=this.\u0275fac=(()=>{let B;return function(vt){return(B||(B=p.n5z(O)))(vt||O)}})();static#e=this.\u0275cmp=p.Xpm({type:O,selectors:[["rl-typography"]],features:[p.qOj],ngContentSelectors:W,decls:1,vars:0,template:function(K,vt){1&K&&(p.F$t(),p.Hsn(0))},styles:[".bold-600{font-weight:600}.bold-700{font-weight:700}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.centered{margin:0 auto}.pull-left{float:left}.pull-right{float:right}ul.list-unstyled{list-style:none}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.rl-typography{color:#3e3f4c;font-family:Open Sans,sans-serif;font-style:normal;font-weight:400;font-size:16px;line-height:normal}.rl-typography--variant-button{color:#fff}.rl-typography--variant-button,.rl-typography--variant-heading{font-size:18px}.rl-typography--variant-tooltip{color:#fff;font-size:14px;line-height:20px}.rl-typography--bold,.rl-typography--variant-heading{font-weight:600}.rl-typography--color-alert,.rl-typography--color-error{color:#e62300}.rl-typography--color-happy{color:#00a68a}.rl-typography--color-primary{color:#d68021}.rl-typography--size-small{font-size:14px}.rl-typography--size-large{font-size:18px}\n"],encapsulation:2})}return O})()},6626:(Kt,dt,w)=>{"use strict";w.d(dt,{Z:()=>S});var M=w(9039);let S=(()=>{class p{static#t=this.\u0275fac=function(F){return new(F||p)};static#e=this.\u0275mod=M.oAB({type:p});static#n=this.\u0275inj=M.cJS({})}return p})()},3071:(Kt,dt,w)=>{"use strict";w.d(dt,{O:()=>S});var M=w(9039);let S=(()=>{class p{static#t=this.\u0275fac=function(F){return new(F||p)};static#e=this.\u0275mod=M.oAB({type:p});static#n=this.\u0275inj=M.cJS({})}return p})()},5765:(Kt,dt,w)=>{"use strict";w.d(dt,{x:()=>F});var M=w(9039),S=w(4713);function p(nt,ct){1&nt&&M._UZ(0,"img",8)}function W(nt,ct){1&nt&&M._UZ(0,"img",9)}const i=["*"];let F=(()=>{class nt{constructor(){this.btnType="button",this.onClick=new M.vpe,this.isDisabled=!1,this.primaryButtonEnabled=!1,this.secondaryButtonEnabled=!1}ngOnInit(){this.primaryButtonEnabled=this.btnClass.indexOf("btn-primary")>-1,this.secondaryButtonEnabled=this.btnClass.indexOf("btn-secondary")>-1}handleClick(Mt){this.onClick.emit(Mt)}static#t=this.\u0275fac=function(P){return new(P||nt)};static#e=this.\u0275cmp=M.Xpm({type:nt,selectors:[["custom-button"]],inputs:{btnType:"btnType",btnClass:"btnClass",defaultTranslation:"defaultTranslation",loadingTranslation:"loadingTranslation",isLoading:"isLoading",isDisabled:"isDisabled"},outputs:{onClick:"onClick"},ngContentSelectors:i,decls:9,vars:14,consts:[["aria-live","polite",3,"type","click"],[1,"text-wrapper"],[1,"centered"],[1,"default-text",3,"key","params"],[1,"loader-wrapper"],[1,"loading-text",3,"key","params"],["class","loader","src","images/global-images/loading-button.svg"],["class","loader","src","images/global-images/loading-button-secondary.svg"],["src","images/global-images/loading-button.svg",1,"loader"],["src","images/global-images/loading-button-secondary.svg",1,"loader"]],template:function(P,q){1&P&&(M.F$t(),M.TgZ(0,"button",0),M.NdJ("click",function(J){return q.handleClick(J)}),M.TgZ(1,"div",1)(2,"div",2),M._UZ(3,"com",3),M.Hsn(4),M.qZA()(),M.TgZ(5,"div",4),M._UZ(6,"com",5),M.YNc(7,p,1,0,"img",6)(8,W,1,0,"img",7),M.qZA()()),2&P&&(M.Tol(q.btnClass),M.Q6J("type",q.btnType),M.uIk("disabled",!(!q.isDisabled&&!q.isLoading)||null),M.xp6(),M.ekj("visible",!q.isLoading),M.xp6(2),M.Q6J("key",null==q.defaultTranslation?null:q.defaultTranslation.key)("params",null==q.defaultTranslation?null:q.defaultTranslation.params),M.xp6(2),M.ekj("visible",q.isLoading),M.xp6(),M.Q6J("key",null==q.loadingTranslation?null:q.loadingTranslation.key)("params",null==q.loadingTranslation?null:q.loadingTranslation.params),M.xp6(),M.um2(7,q.primaryButtonEnabled?7:-1),M.xp6(),M.um2(8,q.secondaryButtonEnabled?8:-1))},dependencies:[S.w],styles:[".bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}button[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-wrap:nowrap;align-items:center;justify-content:center}button[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   .loader-wrapper[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]   .text-wrapper.visible[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   .loader-wrapper.visible[_ngcontent-%COMP%]{display:flex}button[_ngcontent-%COMP%]   .loader-wrapper[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}button[_ngcontent-%COMP%]   .loader-wrapper[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{margin-right:10px}button[_ngcontent-%COMP%]   .loader-wrapper[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{height:20px;width:20px;transform:scale(1.2);position:relative;top:2px;-webkit-user-select:none;user-select:none}button[disabled=true][_ngcontent-%COMP%]{cursor:default;opacity:.6}"]})}return nt})()},7507:(Kt,dt,w)=>{"use strict";w.d(dt,{g:()=>W});var M=w(6575),S=w(6321),p=w(9039);let W=(()=>{class i{static#t=this.\u0275fac=function(ct){return new(ct||i)};static#e=this.\u0275mod=p.oAB({type:i});static#n=this.\u0275inj=p.cJS({imports:[S.j,M.ez]})}return i})()},9882:(Kt,dt,w)=>{"use strict";w.d(dt,{$_:()=>W,AY:()=>F,GU:()=>rt,TI:()=>J,Zm:()=>at,_N:()=>it,aB:()=>Tt,bD:()=>p,bY:()=>q,jV:()=>P,nB:()=>_t,ys:()=>nt});var M=w(339);function S(z){return(0,M.jn)((0,M.kT)(z),"OWNER")}function p(z){return(0,M.Kt)((0,M.kT)(z).reference,z)}function W(z){return(0,M.jn)((0,M.kT)(z),"PAYER")}function i(z){return z.binder.parties.find(T=>T.roles.includes("OWNER")).reference}function F(z){const T=(0,M.kT)(z);return(0,M.jn)(T,"OWNER")&&!(0,M.sG)(z).find(O=>O.partyReference!==T.reference)}function nt(z){return 0!==(0,M.zw)(z).filter(T=>!T.optional).length}function ct(z){const T=(0,M.kT)(z);return 0!==(0,M.sG)(z).filter(O=>O.partyReference!==T.reference).filter(O=>"PENDING"===O.status).length}function P(z){return"SIGN_IN_PROGRESS"===z.binder.status&&S(z)&&function Mt(z){const T=i(z);return 0!==(0,M.sG)(z).filter(O=>"COMPLETED"===O.status&&O.partyReference===T).length}(z)&&ct(z)}function q(z){return"SIGN_IN_PROGRESS"===z.binder.status&&!S(z)&&at(z)&&ct(z)}function rt(z){return("IN_PREPARATION"===z.binder.status||"REVIEW_AND_SHARE"===z.binder.status)&&0!==(0,M.sG)(z).length&&S(z)&&p(z)&&(0,M.L2)(z,i(z))&&(0,M.Kt)(i(z),z)}function J(z){return("SIGN_IN_PROGRESS"===z.binder.status||"IN_PREPARATION"===z.binder.status)&&0!==(0,M.sG)(z).length&&S(z)&&p(z)&&!at(z)&&(0,M.Kt)(i(z),z)}function it(z){return 0!==(0,M.sG)(z).filter(T=>!T.optional).length}function at(z){const T=(0,M.SA)(z,(0,M.kT)(z).reference),O=(0,M.zR)(z,(0,M.kT)(z).reference);return T.length===O.length}function _t(z){return"SIGN_COMPLETED"===z.binder.status&&(p(z)||S(z))}function Tt(z){const T=(0,M.kT)(z);if((0,M.jn)(T,"OWNER")||"SIGN_COMPLETED"===z.binder.status)return!1;const O=z.binder.requests.filter(U=>"SIGN_CANCELLATION"===U.type).concat(z.binder.requests.filter(U=>"SIGNATURE_DECLINE"===U.type&&U.data.partyId===T.id));return O.sort((U,B)=>new Date(B.created).getTime()-new Date(U.created).getTime()),!!O[0]&&"SIGNATURE_DECLINE"===O[0].type}},8685:Kt=>{"use strict";var M,dt="object"==typeof Reflect?Reflect:null,w=dt&&"function"==typeof dt.apply?dt.apply:function(O,U,B){return Function.prototype.apply.call(O,U,B)};M=dt&&"function"==typeof dt.ownKeys?dt.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:function(O){return Object.getOwnPropertyNames(O)};var p=Number.isNaN||function(O){return O!=O};function W(){W.init.call(this)}Kt.exports=W,Kt.exports.once=function _t(T,O){return new Promise(function(U,B){function K(bt){T.removeListener(O,vt),B(bt)}function vt(){"function"==typeof T.removeListener&&T.removeListener("error",K),U([].slice.call(arguments))}z(T,O,vt,{once:!0}),"error"!==O&&function Tt(T,O,U){"function"==typeof T.on&&z(T,"error",O,U)}(T,K,{once:!0})})},W.EventEmitter=W,W.prototype._events=void 0,W.prototype._eventsCount=0,W.prototype._maxListeners=void 0;var i=10;function F(T){if("function"!=typeof T)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}function nt(T){return void 0===T._maxListeners?W.defaultMaxListeners:T._maxListeners}function ct(T,O,U,B){var K,vt,bt;if(F(U),void 0===(vt=T._events)?(vt=T._events=Object.create(null),T._eventsCount=0):(void 0!==vt.newListener&&(T.emit("newListener",O,U.listener?U.listener:U),vt=T._events),bt=vt[O]),void 0===bt)bt=vt[O]=U,++T._eventsCount;else if("function"==typeof bt?bt=vt[O]=B?[U,bt]:[bt,U]:B?bt.unshift(U):bt.push(U),(K=nt(T))>0&&bt.length>K&&!bt.warned){bt.warned=!0;var zt=new Error("Possible EventEmitter memory leak detected. "+bt.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");zt.name="MaxListenersExceededWarning",zt.emitter=T,zt.type=O,zt.count=bt.length,function S(T){console&&console.warn&&console.warn(T)}(zt)}return T}function Mt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function P(T,O,U){var B={fired:!1,wrapFn:void 0,target:T,type:O,listener:U},K=Mt.bind(B);return K.listener=U,B.wrapFn=K,K}function q(T,O,U){var B=T._events;if(void 0===B)return[];var K=B[O];return void 0===K?[]:"function"==typeof K?U?[K.listener||K]:[K]:U?function at(T){for(var O=new Array(T.length),U=0;U<O.length;++U)O[U]=T[U].listener||T[U];return O}(K):J(K,K.length)}function rt(T){var O=this._events;if(void 0!==O){var U=O[T];if("function"==typeof U)return 1;if(void 0!==U)return U.length}return 0}function J(T,O){for(var U=new Array(O),B=0;B<O;++B)U[B]=T[B];return U}function z(T,O,U,B){if("function"==typeof T.on)B.once?T.once(O,U):T.on(O,U);else{if("function"!=typeof T.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T);T.addEventListener(O,function K(vt){B.once&&T.removeEventListener(O,K),U(vt)})}}Object.defineProperty(W,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(T){if("number"!=typeof T||T<0||p(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");i=T}}),W.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},W.prototype.setMaxListeners=function(O){if("number"!=typeof O||O<0||p(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this},W.prototype.getMaxListeners=function(){return nt(this)},W.prototype.emit=function(O){for(var U=[],B=1;B<arguments.length;B++)U.push(arguments[B]);var K="error"===O,vt=this._events;if(void 0!==vt)K=K&&void 0===vt.error;else if(!K)return!1;if(K){var bt;if(U.length>0&&(bt=U[0]),bt instanceof Error)throw bt;var zt=new Error("Unhandled error."+(bt?" ("+bt.message+")":""));throw zt.context=bt,zt}var pt=vt[O];if(void 0===pt)return!1;if("function"==typeof pt)w(pt,this,U);else{var ft=pt.length,de=J(pt,ft);for(B=0;B<ft;++B)w(de[B],this,U)}return!0},W.prototype.on=W.prototype.addListener=function(O,U){return ct(this,O,U,!1)},W.prototype.prependListener=function(O,U){return ct(this,O,U,!0)},W.prototype.once=function(O,U){return F(U),this.on(O,P(this,O,U)),this},W.prototype.prependOnceListener=function(O,U){return F(U),this.prependListener(O,P(this,O,U)),this},W.prototype.off=W.prototype.removeListener=function(O,U){var B,K,vt,bt,zt;if(F(U),void 0===(K=this._events))return this;if(void 0===(B=K[O]))return this;if(B===U||B.listener===U)0==--this._eventsCount?this._events=Object.create(null):(delete K[O],K.removeListener&&this.emit("removeListener",O,B.listener||U));else if("function"!=typeof B){for(vt=-1,bt=B.length-1;bt>=0;bt--)if(B[bt]===U||B[bt].listener===U){zt=B[bt].listener,vt=bt;break}if(vt<0)return this;0===vt?B.shift():function it(T,O){for(;O+1<T.length;O++)T[O]=T[O+1];T.pop()}(B,vt),1===B.length&&(K[O]=B[0]),void 0!==K.removeListener&&this.emit("removeListener",O,zt||U)}return this},W.prototype.removeAllListeners=function(O){var U,B,K;if(void 0===(B=this._events))return this;if(void 0===B.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==B[O]&&(0==--this._eventsCount?this._events=Object.create(null):delete B[O]),this;if(0===arguments.length){var bt,vt=Object.keys(B);for(K=0;K<vt.length;++K)"removeListener"!==(bt=vt[K])&&this.removeAllListeners(bt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(U=B[O]))this.removeListener(O,U);else if(void 0!==U)for(K=U.length-1;K>=0;K--)this.removeListener(O,U[K]);return this},W.prototype.listeners=function(O){return q(this,O,!0)},W.prototype.rawListeners=function(O){return q(this,O,!1)},W.listenerCount=function(T,O){return"function"==typeof T.listenerCount?T.listenerCount(O):rt.call(T,O)},W.prototype.listenerCount=rt,W.prototype.eventNames=function(){return this._eventsCount>0?M(this._events):[]}},2393:Kt=>{Kt.exports=function(){var S=function(e){var n;return function(r){return n||e(n={exports:{},parent:r},n.exports),n.exports}},p=S(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scope=e.ActionName=void 0;var n=function D(Q){if(Q&&Q.__esModule)return Q;var ot={};if(null!=Q)for(var et in Q)if(Object.prototype.hasOwnProperty.call(Q,et)){var ht=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(Q,et):{};ht.get||ht.set?Object.defineProperty(ot,et,ht):ot[et]=Q[et]}return ot.default=Q,ot}(Pt),r=b(J),s=b(an),l=b(ii),d=b(In),m=b(u),_=b(ae),v=b(W({}));function b(Q){return Q&&Q.__esModule?Q:{default:Q}}function E(Q){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(et){return typeof et}:function(et){return et&&"function"==typeof Symbol&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et})(Q)}function k(Q,ot){return!ot||"object"!==E(ot)&&"function"!=typeof ot?function X(Q){if(void 0===Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}(Q):ot}function N(Q,ot,et){return(N=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Jt,oe,Ht){var Vt=function j(Q,ot){for(;!Object.prototype.hasOwnProperty.call(Q,ot)&&null!==(Q=R(Q)););return Q}(Jt,oe);if(Vt){var Oe=Object.getOwnPropertyDescriptor(Vt,oe);return Oe.get?Oe.get.call(Ht):Oe.value}})(Q,ot,et||Q)}function R(Q){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(et){return et.__proto__||Object.getPrototypeOf(et)})(Q)}function Z(Q,ot){if("function"!=typeof ot&&null!==ot)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(ot&&ot.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),ot&&xt(Q,ot)}function xt(Q,ot){return(xt=Object.setPrototypeOf||function(ht,Jt){return ht.__proto__=Jt,ht})(Q,ot)}function Nt(Q,ot){if(!(Q instanceof ot))throw new TypeError("Cannot call a class as a function")}function Wt(Q,ot){for(var et=0;et<ot.length;et++){var ht=ot[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(Q,ht.key,ht)}}function Xt(Q,ot,et){return ot&&Wt(Q.prototype,ot),et&&Wt(Q,et),Q}var mo,Zt=n.win,Ut=n.browser,ue=n.raf,Fi=n.Signals,dn=n.events;e.ActionName=mo,mo||(e.ActionName=mo={});var Dt=function(){function Q(){var ot=this;Nt(this,Q),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.signals=new Fi,this.browser=Ut,this.events=dn,this.utils=n,this.defaults=n.clone(s.default),this.Eventable=l.default,this.actions={names:[],methodDict:{},eventTypes:[]},this.InteractEvent=_.default,this.interactables=new m.default(this),this.documents=[],this._plugins=[],this._pluginMap={},this.onWindowUnload=function(ht){return ot.removeDocument(ht.target)};var et=this;this.Interactable=function(ht){function Jt(){return Nt(this,Jt),k(this,R(Jt).apply(this,arguments))}return Z(Jt,ht),Xt(Jt,[{key:"set",value:function(Ht){return N(R(Jt.prototype),"set",this).call(this,Ht),et.interactables.signals.fire("set",{options:Ht,interactable:this}),this}},{key:"unset",value:function(){N(R(Jt.prototype),"unset",this).call(this);for(var Ht=et.interactions.list.length-1;Ht>=0;Ht--){var Vt=et.interactions.list[Ht];Vt.interactable===this&&(Vt.stop(),et.interactions.signals.fire("destroy",{interaction:Vt}),Vt.destroy(),et.interactions.list.length>2&&et.interactions.list.splice(Ht,1))}et.interactables.signals.fire("unset",{interactable:this})}},{key:"_defaults",get:function(){return et.defaults}}]),Jt}(d.default)}return Xt(Q,[{key:"init",value:function(et){return function ut(Q,ot){return Zt.init(ot),r.default.init(ot),Ut.init(ot),ue.init(ot),dn.init(ot),Q.usePlugin(v.default),Q.document=ot.document,Q.window=ot,Q}(this,et)}},{key:"pluginIsInstalled",value:function(et){return this._pluginMap[et.id]||-1!==this._plugins.indexOf(et)}},{key:"usePlugin",value:function(et,ht){return this.pluginIsInstalled(et)||(et.id&&(this._pluginMap[et.id]=et),et.install(this,ht),this._plugins.push(et)),this}},{key:"addDocument",value:function(et,ht){if(-1!==this.getDocIndex(et))return!1;var Jt=Zt.getWindow(et);ht=ht?n.extend({},ht):{},this.documents.push({doc:et,options:ht}),dn.documents.push(et),et!==this.document&&dn.add(Jt,"unload",this.onWindowUnload),this.signals.fire("add-document",{doc:et,window:Jt,scope:this,options:ht})}},{key:"removeDocument",value:function(et){var ht=this.getDocIndex(et),Jt=Zt.getWindow(et),oe=this.documents[ht].options;dn.remove(Jt,"unload",this.onWindowUnload),this.documents.splice(ht,1),dn.documents.splice(ht,1),this.signals.fire("remove-document",{doc:et,window:Jt,scope:this,options:oe})}},{key:"getDocIndex",value:function(et){for(var ht=0;ht<this.documents.length;ht++)if(this.documents[ht].doc===et)return ht;return-1}},{key:"getDocOptions",value:function(et){var ht=this.getDocIndex(et);return-1===ht?null:this.documents[ht].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),Q}();e.Scope=Dt}),W=S(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=v(Pe),r=v(J),s=v(De),l=v(Be),d=v(En),m=v(i({})),_=v(Do);function v(st){return st&&st.__esModule?st:{default:st}}function b(st){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ut){return typeof ut}:function(ut){return ut&&"function"==typeof Symbol&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut})(st)}function D(st,Dt){return function X(st){if(Array.isArray(st))return st}(st)||function k(st,Dt){var ut=[],Q=!0,ot=!1,et=void 0;try{for(var Jt,ht=st[Symbol.iterator]();!(Q=(Jt=ht.next()).done)&&(ut.push(Jt.value),!Dt||ut.length!==Dt);Q=!0);}catch(oe){ot=!0,et=oe}finally{try{!Q&&null!=ht.return&&ht.return()}finally{if(ot)throw et}}return ut}(st,Dt)||function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(st,Dt){for(var ut=0;ut<Dt.length;ut++){var Q=Dt[ut];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(st,Q.key,Q)}}function Z(st,Dt){return!Dt||"object"!==b(Dt)&&"function"!=typeof Dt?function xt(st){if(void 0===st)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return st}(st):Dt}function Nt(st){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)})(st)}function Xt(st,Dt){return(Xt=Object.setPrototypeOf||function(Q,ot){return Q.__proto__=ot,Q})(st,Dt)}var Zt=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function ue(st,Dt){return function(ut){var Q=Dt.interactions.list,ot=l.default.getPointerType(ut),ht=D(l.default.getEventTargets(ut),2),Jt=ht[0],oe=ht[1],Ht=[];if(/^touch/.test(ut.type)){Dt.prevTouchTime=Dt.now();for(var Vt=0;Vt<ut.changedTouches.length;Vt++){var Oe,Yn={pointer:Oe=ut.changedTouches[Vt],pointerId:l.default.getPointerId(Oe),pointerType:ot,eventType:ut.type,eventTarget:Jt,curEventTarget:oe,scope:Dt},Fa=Fi(Yn);Ht.push([Yn.pointer,Yn.eventTarget,Yn.curEventTarget,Fa])}}else{var ui=!1;if(!n.default.supportsPointerEvent&&/mouse/.test(ut.type)){for(var or=0;or<Q.length&&!ui;or++)ui="mouse"!==Q[or].pointerType&&Q[or].pointerIsDown;ui=ui||Dt.now()-Dt.prevTouchTime<500||0===ut.timeStamp}if(!ui){var rr={pointer:ut,pointerId:l.default.getPointerId(ut),pointerType:ot,eventType:ut.type,curEventTarget:oe,eventTarget:Jt,scope:Dt},Rp=Fi(rr);Ht.push([rr.pointer,rr.eventTarget,rr.curEventTarget,Rp])}}for(var Na=0;Na<Ht.length;Na++){var ar=D(Ht[Na],4);ar[3][st](ar[0],ut,ar[1],ar[2])}}}function Fi(st){var Dt=st.pointerType,ut=st.scope,ot={interaction:_.default.search(st),searchDetails:st};return ut.interactions.signals.fire("find",ot),ot.interaction||ut.interactions.new({pointerType:Dt})}function dn(st,Dt){var ut=st.doc,Q=st.scope,ot=st.options,et=Q.interactions.docEvents,ht=0===Dt.indexOf("add")?s.default.add:s.default.remove;for(var Jt in Q.browser.isIOS&&!ot.events&&(ot.events={passive:!1}),s.default.delegatedEvents)ht(ut,Jt,s.default.delegateListener),ht(ut,Jt,s.default.delegateUseCapture,!0);for(var oe=ot&&ot.events,Ht=0;Ht<et.length;Ht++){var Vt;ht(ut,(Vt=et[Ht]).type,Vt.listener,oe)}}e.default={id:"core/interactions",install:function Ut(st){for(var Dt=new d.default,ut={},Q=0;Q<Zt.length;Q++){var ot=Zt[Q];ut[ot]=ue(ot,st)}var ht,et=n.default.pEventTypes;function Jt(){for(var oe=0;oe<st.interactions.list.length;oe++){var Vt=st.interactions.list[oe];if(Vt.pointerIsDown&&"touch"===Vt.pointerType&&!Vt._interacting)for(var Oe=function(){var Yn=Vt.pointers[xn];st.documents.some(function(Fa){return(0,At.nodeContains)(Fa.doc,Yn.downTarget)})||Vt.removePointer(Yn.pointer,Yn.event)},xn=0;xn<Vt.pointers.length;xn++)Oe()}}(ht=r.default.PointerEvent?[{type:et.down,listener:Jt},{type:et.down,listener:ut.pointerDown},{type:et.move,listener:ut.pointerMove},{type:et.up,listener:ut.pointerUp},{type:et.cancel,listener:ut.pointerUp}]:[{type:"mousedown",listener:ut.pointerDown},{type:"mousemove",listener:ut.pointerMove},{type:"mouseup",listener:ut.pointerUp},{type:"touchstart",listener:Jt},{type:"touchstart",listener:ut.pointerDown},{type:"touchmove",listener:ut.pointerMove},{type:"touchend",listener:ut.pointerUp},{type:"touchcancel",listener:ut.pointerUp}]).push({type:"blur",listener:function(Ht){for(var Vt=0;Vt<st.interactions.list.length;Vt++)st.interactions.list[Vt].documentBlur(Ht)}}),st.signals.on("add-document",dn),st.signals.on("remove-document",dn),st.prevTouchTime=0,st.Interaction=function(oe){function Ht(){return function N(st,Dt){if(!(st instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,Ht),Z(this,Nt(Ht).apply(this,arguments))}return function Wt(st,Dt){if("function"!=typeof Dt&&null!==Dt)throw new TypeError("Super expression must either be null or a function");st.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:st,writable:!0,configurable:!0}}),Dt&&Xt(st,Dt)}(Ht,oe),function R(st,Dt,ut){return Dt&&j(st.prototype,Dt),ut&&j(st,ut),st}(Ht,[{key:"_now",value:function(){return st.now()}},{key:"pointerMoveTolerance",get:function(){return st.interactions.pointerMoveTolerance},set:function(Oe){st.interactions.pointerMoveTolerance=Oe}}]),Ht}(m.default),st.interactions={signals:Dt,list:[],new:function(Ht){Ht.signals=Dt;var Vt=new st.Interaction(Ht);return st.interactions.list.push(Vt),Vt},listeners:ut,docEvents:ht,pointerMoveTolerance:1}},onDocSignal:dn,doOnInteractions:ue,methodNames:Zt}}),i=S(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"PointerInfo",{enumerable:!0,get:function(){return s.default}}),e.default=e.Interaction=e._ProxyMethods=e._ProxyValues=void 0;var D,N,E,n=m(Pt),r=m(ae),s=function d(N){return N&&N.__esModule?N:{default:N}}(Di),l=p({});function m(N){if(N&&N.__esModule)return N;var j={};if(null!=N)for(var R in N)if(Object.prototype.hasOwnProperty.call(N,R)){var Z=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(N,R):{};Z.get||Z.set?Object.defineProperty(j,R,Z):j[R]=N[R]}return j.default=N,j}function v(N,j){for(var R=0;R<j.length;R++){var Z=j[R];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(N,Z.key,Z)}}e._ProxyValues=D,(N=D||(e._ProxyValues=D={})).interactable="",N.element="",N.prepared="",N.pointerIsDown="",N.pointerWasMoved="",N._proxy="",e._ProxyMethods=E,function(N){N.start="",N.move="",N.end="",N.stop="",N.interacting=""}(E||(e._ProxyMethods=E={}));var k=function(){function N(j){var R=this,Z=j.pointerType,xt=j.signals;(function _(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")})(this,N),this.interactable=null,this.element=null,this.prepared={name:null,axis:null,edges:null},this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=n.warnOnce(function(Ut){this.move(Ut)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:n.pointer.newCoords(),prev:n.pointer.newCoords(),cur:n.pointer.newCoords(),delta:n.pointer.newCoords(),velocity:n.pointer.newCoords()},this._signals=xt,this.pointerType=Z;var Nt=this;this._proxy={};var Wt=function(ue){Object.defineProperty(R._proxy,ue,{get:function(){return Nt[ue]}})};for(var Xt in D)Wt(Xt);var Zt=function(ue){Object.defineProperty(R._proxy,ue,{value:function(){return Nt[ue].apply(Nt,arguments)}})};for(var Xt in E)Zt(Xt);this._signals.fire("new",{interaction:this})}return function b(N,j,R){return j&&v(N.prototype,j),R&&v(N,R),N}(N,[{key:"pointerDown",value:function(R,Z,xt){var Nt=this.updatePointer(R,Z,xt,!0);this._signals.fire("down",{pointer:R,event:Z,eventTarget:xt,pointerIndex:Nt,interaction:this})}},{key:"start",value:function(R,Z,xt){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(R.name===l.ActionName.Gesture?2:1)||!Z.options[R.name].enabled)&&(n.copyAction(this.prepared,R),this.interactable=Z,this.element=xt,this.rect=Z.getRect(xt),this.edges=this.prepared.edges,this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:r.EventPhase.Start})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(R,Z,xt){!this.simulation&&(!this.modifiers||!this.modifiers.endPrevented)&&(this.updatePointer(R,Z,xt,!1),n.pointer.setCoords(this.coords.cur,this.pointers.map(function(Ut){return Ut.pointer}),this._now()));var Wt,Xt,Nt=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(this.pointerWasMoved=n.hypot(Wt=this.coords.cur.client.x-this.coords.start.client.x,Xt=this.coords.cur.client.y-this.coords.start.client.y)>this.pointerMoveTolerance);var Zt={pointer:R,pointerIndex:this.getPointerIndex(R),event:Z,eventTarget:xt,dx:Wt,dy:Xt,duplicate:Nt,interaction:this};Nt||(n.pointer.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),n.pointer.setCoordVelocity(this.coords.velocity,this.coords.delta)),this._signals.fire("move",Zt),Nt||(this.interacting()&&this.move(Zt),this.pointerWasMoved&&n.pointer.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(R){(R=n.extend({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},R||{})).phase=r.EventPhase.Move,this._doPhase(R)}},{key:"pointerUp",value:function(R,Z,xt,Nt){var Wt=this.getPointerIndex(R);-1===Wt&&(Wt=this.updatePointer(R,Z,xt,!1)),this._signals.fire(/cancel$/i.test(Z.type)?"cancel":"up",{pointer:R,pointerIndex:Wt,event:Z,eventTarget:xt,curEventTarget:Nt,interaction:this}),this.simulation||this.end(Z),this.pointerIsDown=!1,this.removePointer(R,Z)}},{key:"documentBlur",value:function(R){this.end(R),this._signals.fire("blur",{event:R,interaction:this})}},{key:"end",value:function(R){var Z;this._ending=!0,R=R||this._latestPointer.event,this.interacting()&&(Z=this._doPhase({event:R,interaction:this,phase:r.EventPhase.End})),this._ending=!1,!0===Z&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._signals.fire("stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(R){var Z=n.pointer.getPointerId(R);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:n.arr.findIndex(this.pointers,function(xt){return xt.id===Z})}},{key:"getPointerInfo",value:function(R){return this.pointers[this.getPointerIndex(R)]}},{key:"updatePointer",value:function(R,Z,xt,Nt){var Wt=n.pointer.getPointerId(R),Xt=this.getPointerIndex(R),Zt=this.pointers[Xt];return Nt=!1!==Nt&&(Nt||/(down|start)$/i.test(Z.type)),Zt?Zt.pointer=R:(Zt=new s.default(Wt,R,Z,null,null),Xt=this.pointers.length,this.pointers.push(Zt)),Nt&&(this.pointerIsDown=!0,this.interacting()||(n.pointer.setCoords(this.coords.start,this.pointers.map(function(Ut){return Ut.pointer}),this._now()),n.pointer.copyCoords(this.coords.cur,this.coords.start),n.pointer.copyCoords(this.coords.prev,this.coords.start),n.pointer.pointerExtend(this.downPointer,R),this.downEvent=Z,Zt.downTime=this.coords.cur.timeStamp,Zt.downTarget=xt,this.pointerWasMoved=!1)),this._updateLatestPointer(R,Z,xt),this._signals.fire("update-pointer",{pointer:R,event:Z,eventTarget:xt,down:Nt,pointerInfo:Zt,pointerIndex:Xt,interaction:this}),Xt}},{key:"removePointer",value:function(R,Z){var xt=this.getPointerIndex(R);-1!==xt&&(this._signals.fire("remove-pointer",{pointer:R,event:Z,pointerIndex:xt,pointerInfo:this.pointers[xt],interaction:this}),this.pointers.splice(xt,1))}},{key:"_updateLatestPointer",value:function(R,Z,xt){this._latestPointer.pointer=R,this._latestPointer.event=Z,this._latestPointer.eventTarget=xt}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(R,Z,xt,Nt){return new r.default(this,R,this.prepared.name,Z,this.element,null,xt,Nt)}},{key:"_fireEvent",value:function(R){this.interactable.fire(R),(!this.prevEvent||R.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=R)}},{key:"_doPhase",value:function(R){var Z=R.event,xt=R.phase,Nt=R.preEnd,Wt=R.type;if(!1===this._signals.fire("before-action-".concat(xt),R))return!1;var Zt=R.iEvent=this._createPreparedEvent(Z,xt,Nt,Wt),Ut=this.rect;if(Ut){var ue=this.edges||this.prepared.edges||{left:!0,right:!0,top:!0,bottom:!0};ue.top&&(Ut.top+=Zt.delta.y),ue.bottom&&(Ut.bottom+=Zt.delta.y),ue.left&&(Ut.left+=Zt.delta.x),ue.right&&(Ut.right+=Zt.delta.x),Ut.width=Ut.right-Ut.left,Ut.height=Ut.bottom-Ut.top}return this._signals.fire("action-".concat(xt),R),this._fireEvent(Zt),this._signals.fire("after-action-".concat(xt),R),!0}},{key:"_now",value:function(){return Date.now()}},{key:"pointerMoveTolerance",get:function(){return 1}}]),N}();e.Interaction=k,e.default=k}),F={};function Mt(t,e){for(var n=0;n<e.length;n++)t.push(e[n]);return t}function q(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}Object.defineProperty(F,"__esModule",{value:!0}),F.contains=function nt(t,e){return-1!==t.indexOf(e)},F.remove=function ct(t,e){return t.splice(t.indexOf(e),1)},F.merge=Mt,F.from=function P(t){return Mt([],t)},F.findIndex=q,F.find=function rt(t,e){return t[q(t,e)]};var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.default=void 0;var it={init:function Tt(t){var e=t;it.document=e.document,it.DocumentFragment=e.DocumentFragment||at,it.SVGElement=e.SVGElement||at,it.SVGSVGElement=e.SVGSVGElement||at,it.SVGElementInstance=e.SVGElementInstance||at,it.Element=e.Element||at,it.HTMLElement=e.HTMLElement||it.Element,it.Event=e.Event,it.Touch=e.Touch||at,it.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function at(){}J.default=it;var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0,z.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.init=vt,O.getWindow=bt,O.default=void 0;var U=function B(t){return t&&t.__esModule?t:{default:t}}(z);var K={realWindow:void 0,window:void 0,getWindow:bt,init:vt};function vt(t){K.realWindow=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),K.window=t}function bt(t){return(0,U.default)(t)?t:(t.ownerDocument||t).defaultView||K.window}typeof window>"u"?(K.window=void 0,K.realWindow=void 0):vt(window),K.init=vt,O.default=K;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.array=pt.plainObject=pt.element=pt.string=pt.bool=pt.number=pt.func=pt.object=pt.docFrag=pt.window=void 0;var ft=gt(z),de=gt(O);function gt(t){return t&&t.__esModule?t:{default:t}}function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}pt.window=function(e){return e===de.default.window||(0,ft.default)(e)},pt.docFrag=function(e){return ee(e)&&11===e.nodeType};var ee=function(e){return!!e&&"object"===Ot(e)};pt.object=ee;var pn=function(e){return"function"==typeof e};pt.func=pn,pt.number=function(e){return"number"==typeof e},pt.bool=function(e){return"boolean"==typeof e},pt.string=function(e){return"string"==typeof e},pt.element=function(e){if(!e||"object"!==Ot(e))return!1;var n=de.default.getWindow(e)||de.default.window;return/object|function/.test(Ot(n.Element))?e instanceof n.Element:1===e.nodeType&&"string"==typeof e.nodeName},pt.plainObject=function(e){return ee(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},pt.array=function(e){return ee(e)&&typeof e.length<"u"&&pn(e.splice)};var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0;var Xe=Wn(J),wn=function di(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(pt),fn=Wn(O);function Wn(t){return t&&t.__esModule?t:{default:t}}var fe={init:function Ni(t){var e=Xe.default.Element,n=fn.default.window.navigator;fe.supportsTouch="ontouchstart"in t||wn.func(t.DocumentTouch)&&Xe.default.document instanceof t.DocumentTouch,fe.supportsPointerEvent=!1!==n.pointerEnabled&&!!Xe.default.PointerEvent,fe.isIOS=/iP(hone|od|ad)/.test(n.platform),fe.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),fe.isIe9=/MSIE 9/.test(n.userAgent),fe.isOperaMobile="Opera"===n.appName&&fe.supportsTouch&&/Presto/.test(n.userAgent),fe.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",fe.pEventTypes=fe.supportsPointerEvent?Xe.default.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,fe.wheelEvent="onmousewheel"in Xe.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};Pe.default=fe;var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.nodeContains=function Li(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},At.closest=function fi(t,e){for(;Ye.element(t);){if(gn(t,e))return t;t=qe(t)}return null},At.parentNode=qe,At.matchesSelector=gn,At.indexOfDeepestElement=function Ue(t){var s,l,e=[],n=t[0],r=n?0:-1;for(s=1;s<t.length;s++){var d=t[s];if(d&&d!==n){if(!n){n=d,r=s;continue}if(d.parentNode!==d.ownerDocument){if(n.parentNode===d.ownerDocument){n=d,r=s;continue}if(d.parentNode===n.parentNode){var m=parseInt((0,Qe.getWindow)(n).getComputedStyle(n).zIndex,10)||0;(parseInt((0,Qe.getWindow)(d).getComputedStyle(d).zIndex,10)||0)>=m&&(n=d,r=s);continue}if(!e.length)for(var v=n,b=void 0;(b=Gn(v))&&b!==v.ownerDocument;)e.unshift(v),v=b;var D=void 0;if(n instanceof jt.default.HTMLElement&&d instanceof jt.default.SVGElement&&!(d instanceof jt.default.SVGSVGElement)){if(d===n.parentNode)continue;D=d.ownerSVGElement}else D=d;for(var E=[];D.parentNode!==D.ownerDocument;)E.unshift(D),D=Gn(D);for(l=0;E[l]&&E[l]===e[l];)l++;for(var k=[E[l-1],E[l],e[l]],X=k[0].lastChild;X;){if(X===k[1]){n=d,r=s,e=E;break}if(X===k[2])break;X=X.previousSibling}}}}return r},At.matchesUpTo=function gi(t,e,n){for(;Ye.element(t);){if(gn(t,e))return!0;if((t=qe(t))===n)return gn(t,e)}return!1},At.getActualElement=function Zn(t){return t instanceof jt.default.SVGElementInstance?t.correspondingUseElement:t},At.getScrollXY=Jn,At.getElementClientRect=je,At.getElementRect=function It(t){var e=je(t);if(!Un.default.isIOS7&&e){var n=Jn(Qe.default.getWindow(t));e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e},At.getPath=function Hi(t){for(var e=[];t;)e.push(t),t=qe(t);return e},At.trySelector=function Kn(t){return!!Ye.string(t)&&(jt.default.document.querySelector(t),!0)};var Un=hi(Pe),jt=hi(J),Ye=Mn(pt),Qe=Mn(O);function Mn(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function hi(t){return t&&t.__esModule?t:{default:t}}function qe(t){var e=t.parentNode;if(Ye.docFrag(e)){for(;(e=e.host)&&Ye.docFrag(e););return e}return e}function gn(t,e){return Qe.default.window!==Qe.default.realWindow&&(e=e.replace(/\/deep\//g," ")),t[Un.default.prefixedMatchesSelector](e)}var Gn=function(e){return e.parentNode?e.parentNode:e.host};function Jn(t){return{x:(t=t||Qe.default.window).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function je(t){var e=t instanceof jt.default.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}var On={};Object.defineProperty(On,"__esModule",{value:!0}),On.default=function vi(t){var e={};for(var n in t){var r=t[n];e[n]=mi.plainObject(r)?vi(r):mi.array(r)?_o.from(r):r}return e};var _o=_i(F),mi=_i(pt);function _i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}var tn={};function Pn(t,e){for(var n in e){var r=Pn.prefixedPropREs,s=!1;for(var l in r)if(0===n.indexOf(l)&&r[l].test(n)){s=!0;break}!s&&"function"!=typeof e[n]&&(t[n]=e[n])}return t}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0,Pn.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/},tn.default=Pn;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=void 0,Ge.default=function(e,n){return Math.sqrt(e*e+n*n)};var Be={};Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=void 0;var $n=_n(Pe),be=_n(J),Xn=mn(At),yi=_n(Ge),en=mn(pt);function mn(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function _n(t){return t&&t.__esModule?t:{default:t}}var he={copyCoords:function(e,n){e.page=e.page||{},e.page.x=n.page.x,e.page.y=n.page.y,e.client=e.client||{},e.client.x=n.client.x,e.client.y=n.client.y,e.timeStamp=n.timeStamp},setCoordDeltas:function(e,n,r){e.page.x=r.page.x-n.page.x,e.page.y=r.page.y-n.page.y,e.client.x=r.client.x-n.client.x,e.client.y=r.client.y-n.client.y,e.timeStamp=r.timeStamp-n.timeStamp},setCoordVelocity:function(e,n){var r=Math.max(n.timeStamp/1e3,.001);e.page.x=n.page.x/r,e.page.y=n.page.y/r,e.client.x=n.client.x/r,e.client.y=n.client.y/r,e.timeStamp=r},isNativePointer:function(e){return e instanceof be.default.Event||e instanceof be.default.Touch},getXY:function(e,n,r){return(r=r||{}).x=n[(e=e||"page")+"X"],r.y=n[e+"Y"],r},getPageXY:function(e,n){return n=n||{x:0,y:0},$n.default.isOperaMobile&&he.isNativePointer(e)?(he.getXY("screen",e,n),n.x+=window.scrollX,n.y+=window.scrollY):he.getXY("page",e,n),n},getClientXY:function(e,n){return n=n||{},$n.default.isOperaMobile&&he.isNativePointer(e)?he.getXY("screen",e,n):he.getXY("client",e,n),n},getPointerId:function(e){return en.number(e.pointerId)?e.pointerId:e.identifier},setCoords:function(e,n,r){var s=n.length>1?he.pointerAverage(n):n[0],l={};he.getPageXY(s,l),e.page.x=l.x,e.page.y=l.y,he.getClientXY(s,l),e.client.x=l.x,e.client.y=l.y,e.timeStamp=r},pointerExtend:_n(tn).default,getTouchPair:function(e){var n=[];return en.array(e)?(n[0]=e[0],n[1]=e[1]):"touchend"===e.type?1===e.touches.length?(n[0]=e.touches[0],n[1]=e.changedTouches[0]):0===e.touches.length&&(n[0]=e.changedTouches[0],n[1]=e.changedTouches[1]):(n[0]=e.touches[0],n[1]=e.touches[1]),n},pointerAverage:function(e){for(var n={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++){var l=e[r];for(var d in n)n[d]+=l[d]}for(var m in n)n[m]/=e.length;return n},touchBBox:function(e){if(!(e.length||e.touches&&e.touches.length>1))return null;var n=he.getTouchPair(e),r=Math.min(n[0].pageX,n[1].pageX),s=Math.min(n[0].pageY,n[1].pageY),l=Math.max(n[0].pageX,n[1].pageX),d=Math.max(n[0].pageY,n[1].pageY);return{x:r,y:s,left:r,top:s,right:l,bottom:d,width:l-r,height:d-s}},touchDistance:function(e,n){var r=n+"X",s=n+"Y",l=he.getTouchPair(e);return(0,yi.default)(l[0][r]-l[1][r],l[0][s]-l[1][s])},touchAngle:function(e,n){var r=n+"X",s=n+"Y",l=he.getTouchPair(e);return 180*Math.atan2(l[1][s]-l[0][s],l[1][r]-l[0][r])/Math.PI},getPointerType:function(e){return en.string(e.pointerType)?e.pointerType:en.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type)||e instanceof be.default.Touch?"touch":"mouse"},getEventTargets:function(e){var n=en.func(e.composedPath)?e.composedPath():e.path;return[Xn.getActualElement(n?n[0]:e.target),Xn.getActualElement(e.currentTarget)]},newCoords:function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},coordsToEvent:function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons}}}};Be.default=he;var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.default=De.FakeEvent=void 0;var vn=Dn(At),Qn=Dn(pt),xi=Mi(tn),wi=Mi(Be);function Mi(t){return t&&t.__esModule?t:{default:t}}function Dn(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,e){return function Ce(t){if(Array.isArray(t))return t}(t)||function Ui(t,e){var n=[],r=!0,s=!1,l=void 0;try{for(var m,d=t[Symbol.iterator]();!(r=(m=d.next()).done)&&(n.push(m.value),!e||n.length!==e);r=!0);}catch(_){s=!0,l=_}finally{try{!r&&null!=d.return&&d.return()}finally{if(s)throw l}}return n}(t,e)||function Wi(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var le=[],Fe=[],Se={},xe=[];function ti(t,e,n,r){var s=bn(r),l=le.indexOf(t),d=Fe[l];d||(d={events:{},typeCount:0},l=le.push(t)-1,Fe.push(d)),d.events[e]||(d.events[e]=[],d.typeCount++),(0,F.contains)(d.events[e],n)||(t.addEventListener(e,n,nn.supportsOptions?s:!!s.capture),d.events[e].push(n))}function Ve(t,e,n,r){var s=bn(r),l=le.indexOf(t),d=Fe[l];if(d&&d.events){if("all"===e){for(e in d.events)d.events.hasOwnProperty(e)&&Ve(t,e,"all");return}if(d.events[e]){var m=d.events[e].length;if("all"===n){for(var _=0;_<m;_++)Ve(t,e,d.events[e][_],s);return}for(var v=0;v<m;v++)if(d.events[e][v]===n){t.removeEventListener(e,n,nn.supportsOptions?s:!!s.capture),d.events[e].splice(v,1);break}d.events[e]&&0===d.events[e].length&&(d.events[e]=null,d.typeCount--)}d.typeCount||(Fe.splice(l,1),le.splice(l,1))}}function Sn(t,e){for(var n=bn(e),r=new Oi(t),s=Se[t.type],m=yn(wi.default.getEventTargets(t),1)[0],_=m;Qn.element(_);){for(var v=0;v<s.selectors.length;v++){var D=s.contexts[v];if(vn.matchesSelector(_,s.selectors[v])&&vn.nodeContains(D,m)&&vn.nodeContains(D,_)){var E=s.listeners[v];r.currentTarget=_;for(var k=0;k<E.length;k++){var j=yn(E[k],3);j[1]===!!n.capture&&j[2]===n.passive&&(0,j[0])(r)}}}_=vn.parentNode(_)}}function ei(t){return Sn.call(this,t,!0)}function bn(t){return Qn.object(t)?t:{capture:t}}var Oi=function(){function t(e){(function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.originalEvent=e,(0,xi.default)(this,e)}return function Vi(t,e,n){return e&&jn(t.prototype,e),n&&jn(t,n),t}(t,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),t}();De.FakeEvent=Oi;var nn={add:ti,remove:Ve,addDelegate:function Gi(t,e,n,r,s){var l=bn(s);if(!Se[n]){Se[n]={contexts:[],listeners:[],selectors:[]};for(var d=0;d<xe.length;d++){var m=xe[d];ti(m,n,Sn),ti(m,n,ei,!0)}}var v,_=Se[n];for(v=_.selectors.length-1;v>=0&&(_.selectors[v]!==t||_.contexts[v]!==e);v--);-1===v&&(v=_.selectors.length,_.selectors.push(t),_.contexts.push(e),_.listeners.push([])),_.listeners[v].push([r,!!l.capture,l.passive])},removeDelegate:function Zi(t,e,n,r,s){var _,l=bn(s),d=Se[n],m=!1;if(d)for(_=d.selectors.length-1;_>=0;_--)if(d.selectors[_]===t&&d.contexts[_]===e){for(var v=d.listeners[_],b=v.length-1;b>=0;b--){var D=yn(v[b],3);if(D[0]===r&&D[1]===!!l.capture&&D[2]===l.passive){v.splice(b,1),v.length||(d.selectors.splice(_,1),d.contexts.splice(_,1),d.listeners.splice(_,1),Ve(e,n,Sn),Ve(e,n,ei,!0),d.selectors.length||(Se[n]=null)),m=!0;break}}if(m)break}},delegateListener:Sn,delegateUseCapture:ei,delegatedEvents:Se,documents:xe,supportsOptions:!1,supportsPassive:!1,_elements:le,_targets:Fe,init:function(e){e.document.createElement("div").addEventListener("test",null,{get capture(){return nn.supportsOptions=!0},get passive(){return nn.supportsPassive=!0}})}};De.default=nn;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.default=function Te(t,e){for(var n in e)t[n]=e[n];return t};var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.getStringOptionResult=x,ce.resolveRectLike=I,ce.rectToXY=Y,ce.xywhToTlbr=H,ce.tlbrToXywh=G,ce.default=void 0;var ni=function y(t){return t&&t.__esModule?t:{default:t}}(qt),on=function rn(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(pt);function Et(t){return function g(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function h(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(t,e,n){return"parent"===t?(0,At.parentNode)(n):"self"===t?e.getRect(n):(0,At.closest)(n,t)}function I(t,e,n,r){return on.string(t)?t=x(t,e,n):on.func(t)&&(t=t.apply(void 0,Et(r))),on.element(t)&&(t=(0,At.getElementRect)(t)),t}function Y(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function H(t){return t&&!("left"in t&&"top"in t)&&((t=(0,ni.default)({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t}function G(t){return t&&!("x"in t&&"y"in t)&&((t=(0,ni.default)({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||t.right-t.x,t.height=t.height||t.bottom-t.y),t}ce.default={getStringOptionResult:x,resolveRectLike:I,rectToXY:Y,xywhToTlbr:H,tlbrToXywh:G};var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=function yt(t,e,n){var r=t.options[n],d=(0,ce.resolveRectLike)(r&&r.origin||t.options.origin,t,e,[t&&e]);return(0,ce.rectToXY)(d)||{x:0,y:0}};var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=function we(t,e,n){if(n=n||{},St.string(t)&&-1!==t.search(" ")&&(t=Le(t)),St.array(t))return t.reduce(function(_,v){return(0,kt.default)(_,we(v,e,n))},n);if(St.object(t)&&(e=t,t=""),St.func(e))n[t]=n[t]||[],n[t].push(e);else if(St.array(e))for(var r=0;r<e.length;r++)we(t,e[r],n);else if(St.object(e))for(var d in e)we(Le(d).map(function(_){return"".concat(t).concat(_)}),e[d],n);return n};var kt=function Ne(t){return t&&t.__esModule?t:{default:t}}(qt),St=function Rt(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(pt);function Le(t){return t.trim().split(/ +/)}var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=void 0;var Gt,Tn,ge=0;Lt.default={request:function(e){return Gt(e)},cancel:function(e){return Tn(e)},init:function Ke(t){if(Tn=t.cancelAnimationFrame,!(Gt=t.requestAnimationFrame))for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var r=e[n];Gt=t["".concat(r,"RequestAnimationFrame")],Tn=t["".concat(r,"CancelAnimationFrame")]||t["".concat(r,"CancelRequestAnimationFrame")]}Gt||(Gt=function(l){var d=Date.now(),m=Math.max(0,16-(d-ge)),_=setTimeout(function(){l(d+m)},m);return ge=d+m,_},Tn=function(l){return clearTimeout(l)})}};var En={};function Ki(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(En,"__esModule",{value:!0}),En.default=void 0,En.default=function(){function t(){(function sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.listeners={}}return function lr(t,e,n){return e&&Ki(t.prototype,e),n&&Ki(t,n),t}(t,[{key:"on",value:function(n,r){this.listeners[n]?this.listeners[n].push(r):this.listeners[n]=[r]}},{key:"off",value:function(n,r){if(this.listeners[n]){var s=this.listeners[n].indexOf(r);-1!==s&&this.listeners[n].splice(s,1)}}},{key:"fire",value:function(n,r){var s=this.listeners[n];if(s)for(var l=0;l<s.length;l++)if(!1===(0,s[l])(r,n))return!1}}]),t}();var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.warnOnce=function Or(t,e){var n=!1;return function(){return n||(vo.default.window.console.warn(e),n=!0),t.apply(this,arguments)}},Pt._getQBezierValue=Xi,Pt.getQuadraticCurvePoint=function Pr(t,e,n,r,s,l,d){return{x:Xi(d,t,n,s),y:Xi(d,e,r,l)}},Pt.easeOutQuad=function Dr(t,e,n,r){return-n*(t/=r)*(t-2)+e},Pt.copyAction=function Sr(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t},Object.defineProperty(Pt,"win",{enumerable:!0,get:function(){return vo.default}}),Object.defineProperty(Pt,"browser",{enumerable:!0,get:function(){return fr.default}}),Object.defineProperty(Pt,"clone",{enumerable:!0,get:function(){return gr.default}}),Object.defineProperty(Pt,"events",{enumerable:!0,get:function(){return mr.default}}),Object.defineProperty(Pt,"extend",{enumerable:!0,get:function(){return _r.default}}),Object.defineProperty(Pt,"getOriginXY",{enumerable:!0,get:function(){return vr.default}}),Object.defineProperty(Pt,"hypot",{enumerable:!0,get:function(){return yr.default}}),Object.defineProperty(Pt,"normalizeListeners",{enumerable:!0,get:function(){return br.default}}),Object.defineProperty(Pt,"pointer",{enumerable:!0,get:function(){return Cr.default}}),Object.defineProperty(Pt,"raf",{enumerable:!0,get:function(){return xr.default}}),Object.defineProperty(Pt,"rect",{enumerable:!0,get:function(){return wr.default}}),Object.defineProperty(Pt,"Signals",{enumerable:!0,get:function(){return Mr.default}}),Pt.is=Pt.dom=Pt.arr=void 0;var dr=$i(F);Pt.arr=dr;var pr=$i(At);Pt.dom=pr;var hr=$i(pt);Pt.is=hr;var vo=Ae(O),fr=Ae(Pe),gr=Ae(On),mr=Ae(De),_r=Ae(qt),vr=Ae(tt),yr=Ae(Ge),br=Ae(Bt),Cr=Ae(Be),xr=Ae(Lt),wr=Ae(ce),Mr=Ae(En);function Ae(t){return t&&t.__esModule?t:{default:t}}function $i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function Xi(t,e,n,r){var s=1-t;return s*s*e+2*s*t*n+t*t*r}var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.default=an.defaults=void 0;var Qi={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};an.defaults=Qi,an.default=Qi;var ii={};Object.defineProperty(ii,"__esModule",{value:!0}),ii.default=void 0;var Er=function Ar(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(F),Ir=bo(qt),yo=bo(Bt);function bo(t){return t&&t.__esModule?t:{default:t}}function Co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xo(t,e){for(var n=0;n<e.length;n++){var s=e[n];if(t.immediatePropagationStopped)break;s(t)}}ii.default=function(){function t(e){(function kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.options=(0,Ir.default)({},e||{})}return function Rr(t,e,n){return e&&Co(t.prototype,e),n&&Co(t,n),t}(t,[{key:"fire",value:function(n){var r,s=this.global;(r=this.types[n.type])&&xo(n,r),!n.propagationStopped&&s&&(r=s[n.type])&&xo(n,r)}},{key:"on",value:function(n,r){var s=(0,yo.default)(n,r);for(n in s)this.types[n]=Er.merge(this.types[n]||[],s[n])}},{key:"off",value:function(n,r){var s=(0,yo.default)(n,r);for(n in s){var l=this.types[n];if(l&&l.length)for(var d=0;d<s[n].length;d++){var v=l.indexOf(s[n][d]);-1!==v&&l.splice(v,1)}}}}]),t}();var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.default=In.Interactable=void 0;var wo=ji(F),Fr=An(Pe),Mo=An(On),We=An(De),qi=An(qt),Yt=ji(pt),Nr=An(Bt),Lr=An(ii);function An(t){return t&&t.__esModule?t:{default:t}}function ji(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n,r){(function Hr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.events=new Lr.default,this._actions=n.actions,this.target=e,this._context=n.context||r,this._win=(0,O.getWindow)((0,At.trySelector)(e)?this._context:e),this._doc=this._win.document,this.set(n)}return function A(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}(t,[{key:"setOnEvents",value:function(n,r){return Yt.func(r.onstart)&&this.on("".concat(n,"start"),r.onstart),Yt.func(r.onmove)&&this.on("".concat(n,"move"),r.onmove),Yt.func(r.onend)&&this.on("".concat(n,"end"),r.onend),Yt.func(r.oninertiastart)&&this.on("".concat(n,"inertiastart"),r.oninertiastart),this}},{key:"updatePerActionListeners",value:function(n,r,s){(Yt.array(r)||Yt.object(r))&&this.off(n,r),(Yt.array(s)||Yt.object(s))&&this.on(n,s)}},{key:"setPerAction",value:function(n,r){var s=this._defaults;for(var l in r){var d=this.options[n],m=r[l],_=Yt.array(m);"listeners"===l&&this.updatePerActionListeners(n,d.listeners,m),_?d[l]=wo.from(m):!_&&Yt.plainObject(m)?(d[l]=(0,qi.default)(d[l]||{},(0,Mo.default)(m)),Yt.object(s.perAction[l])&&"enabled"in s.perAction[l]&&(d[l].enabled=!1!==m.enabled)):Yt.bool(m)&&Yt.object(s.perAction[l])?d[l].enabled=m:d[l]=m}}},{key:"getRect",value:function(n){return n=n||(Yt.element(this.target)?this.target:null),Yt.string(this.target)&&(n=n||this._context.querySelector(this.target)),(0,At.getElementRect)(n)}},{key:"rectChecker",value:function(n){return Yt.func(n)?(this.getRect=n,this):null===n?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(n,r){if((0,At.trySelector)(r)||Yt.object(r)){this.options[n]=r;for(var s=0;s<this._actions.names.length;s++)this.options[this._actions.names[s]][n]=r;return this}return this.options[n]}},{key:"origin",value:function(n){return this._backCompatOption("origin",n)}},{key:"deltaSource",value:function(n){return"page"===n||"client"===n?(this.options.deltaSource=n,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(n){return this._context===n.ownerDocument||(0,At.nodeContains)(this._context,n)}},{key:"testIgnoreAllow",value:function(n,r,s){return!this.testIgnore(n.ignoreFrom,r,s)&&this.testAllow(n.allowFrom,r,s)}},{key:"testAllow",value:function(n,r,s){return!n||!!Yt.element(s)&&(Yt.string(n)?(0,At.matchesUpTo)(s,n,r):!!Yt.element(n)&&(0,At.nodeContains)(n,s))}},{key:"testIgnore",value:function(n,r,s){return!(!n||!Yt.element(s))&&(Yt.string(n)?(0,At.matchesUpTo)(s,n,r):!!Yt.element(n)&&(0,At.nodeContains)(n,s))}},{key:"fire",value:function(n){return this.events.fire(n),this}},{key:"_onOff",value:function(n,r,s,l){Yt.object(r)&&!Yt.array(r)&&(l=s,s=null);var d="on"===n?"add":"remove",m=(0,Nr.default)(r,s);for(var _ in m){"wheel"===_&&(_=Fr.default.wheelEvent);for(var v=0;v<m[_].length;v++){var D=m[_][v];wo.contains(this._actions.eventTypes,_)?this.events[n](_,D):Yt.string(this.target)?We.default["".concat(d,"Delegate")](this.target,this._context,_,D,l):We.default[d](this.target,_,D,l)}}return this}},{key:"on",value:function(n,r,s){return this._onOff("on",n,r,s)}},{key:"off",value:function(n,r,s){return this._onOff("off",n,r,s)}},{key:"set",value:function(n){var r=this._defaults;for(var s in Yt.object(n)||(n={}),this.options=(0,Mo.default)(r.base),this._actions.methodDict){var l=this._actions.methodDict[s];this.options[s]={},this.setPerAction(s,(0,qi.default)((0,qi.default)({},r.perAction),r.actions[s])),this[l](n[s])}for(var d in n)Yt.func(this[d])&&this[d](n[d]);return this}},{key:"unset",value:function(){if(We.default.remove(this.target,"all"),Yt.string(this.target))for(var n in We.default.delegatedEvents){var r=We.default.delegatedEvents[n];r.selectors[0]===this.target&&r.contexts[0]===this._context&&(r.selectors.splice(0,1),r.contexts.splice(0,1),r.listeners.splice(0,1),r.selectors.length||(r[n]=null)),We.default.remove(this._context,n,We.default.delegateListener),We.default.remove(this._context,n,We.default.delegateUseCapture,!0)}else We.default.remove(this.target,"all")}},{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}}]),t}();In.Interactable=o,In.default=o;var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var C=me(F),V=me(At),Ct=te(qt),lt=me(pt),$t=te(En);function te(t){return t&&t.__esModule?t:{default:t}}function me(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}u.default=function(){function t(e){var n=this;(function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.scope=e,this.signals=new $t.default,this.list=[],this.selectorMap={},this.signals.on("unset",function(r){var s=r.interactable,l=s.target,d=s._context,m=lt.string(l)?n.selectorMap[l]:l[n.scope.id],_=m.findIndex(function(v){return v.context===d});m[_]&&(m[_].context=null,m[_].interactable=null),m.splice(_,1)})}return function to(t,e,n){return e&&kn(t.prototype,e),n&&kn(t,n),t}(t,[{key:"new",value:function(n,r){r=(0,Ct.default)(r||{},{actions:this.scope.actions});var s=new this.scope.Interactable(n,r,this.scope.document),l={context:s._context,interactable:s};return this.scope.addDocument(s._doc),this.list.push(s),lt.string(n)?(this.selectorMap[n]||(this.selectorMap[n]=[]),this.selectorMap[n].push(l)):(s.target[this.scope.id]||Object.defineProperty(n,this.scope.id,{value:[],configurable:!0}),n[this.scope.id].push(l)),this.signals.fire("new",{target:n,options:r,interactable:s,win:this.scope._win}),s}},{key:"get",value:function(n,r){var s=r&&r.context||this.scope.document,l=lt.string(n),d=l?this.selectorMap[n]:n[this.scope.id];if(!d)return null;var m=C.find(d,function(_){return _.context===s&&(l||_.interactable.inContext(n))});return m&&m.interactable}},{key:"forEachMatch",value:function(n,r){for(var s=0;s<this.list.length;s++){var d=this.list[s],m=void 0;if((lt.string(d.target)?lt.element(n)&&V.matchesSelector(n,d.target):n===d.target)&&d.inContext(n)&&(m=r(d)),void 0!==m)return m}}}]),t}();var Rn,t,Ee={};function ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=Ee.BaseEvent=Ee.EventPhase=void 0,Ee.EventPhase=Rn,(t=Rn||(Ee.EventPhase=Rn={})).Start="start",t.Move="move",t.End="end",t._NONE="";var Oo=function(){function t(e){(function oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}return function Pi(t,e,n){return e&&ri(t.prototype,e),n&&ri(t,n),t}(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"interaction",get:function(){return this._interaction._proxy}}]),t}();Ee.BaseEvent=Oo,Ee.default=Oo;var ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=ae.InteractEvent=ae.EventPhase=void 0;var Ur,ke=no(qt),al=no(tt),sl=no(Ge),ll=no(Ee),cl=no(an);function no(t){return t&&t.__esModule?t:{default:t}}function Po(t){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function La(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(t){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(t)}function Ha(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wr(t,e)}function Wr(t,e){return(Wr=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r})(t,e)}ae.EventPhase=Ur,function(t){t.Start="start",t.Move="move",t.End="end",t._NONE=""}(Ur||(ae.EventPhase=Ur={}));var Ya=function(t){function e(n,r,s,l,d,m,_,v){var b;(function ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),b=function pl(t,e){return!e||"object"!==Po(e)&&"function"!=typeof e?Ha(t):e}(this,Vr(e).call(this,n));var D=n.interactable,E=(D&&D.options||cl.default).deltaSource,k=(0,al.default)(D,d=d||n.element,s),X="start"===l,N="end"===l,j=X?Ha(b):n.prevEvent,R=X?n.coords.start:N?{page:j.page,client:j.client,timeStamp:n.coords.cur.timeStamp}:n.coords.cur;return b.page=(0,ke.default)({},R.page),b.client=(0,ke.default)({},R.client),b.rect=(0,ke.default)({},n.rect),b.timeStamp=R.timeStamp,N||(b.page.x-=k.x,b.page.y-=k.y,b.client.x-=k.x,b.client.y-=k.y),b.ctrlKey=r.ctrlKey,b.altKey=r.altKey,b.shiftKey=r.shiftKey,b.metaKey=r.metaKey,b.button=r.button,b.buttons=r.buttons,b.target=d,b.currentTarget=d,b.relatedTarget=m||null,b.preEnd=_,b.type=v||s+(l||""),b.interactable=D,b.t0=X?n.pointers[n.pointers.length-1].downTime:j.t0,b.x0=n.coords.start.page.x-k.x,b.y0=n.coords.start.page.y-k.y,b.clientX0=n.coords.start.client.x-k.x,b.clientY0=n.coords.start.client.y-k.y,b.delta=X||N?{x:0,y:0}:{x:b[E].x-j[E].x,y:b[E].y-j[E].y},b.dt=n.coords.delta.timeStamp,b.duration=b.timeStamp-b.t0,b.velocity=(0,ke.default)({},n.coords.velocity[E]),b.speed=(0,sl.default)(b.velocity.x,b.velocity.y),b.swipe=N||"inertiastart"===l?b.getSwipe():null,b}return hl(e,t),function dl(t,e,n){return e&&La(t.prototype,e),n&&La(t,n),t}(e,[{key:"getSwipe",value:function(){var r=this._interaction;if(r.prevEvent.speed<600||this.timeStamp-r.prevEvent.timeStamp>150)return null;var s=180*Math.atan2(r.prevEvent.velocityY,r.prevEvent.velocityX)/Math.PI;s<0&&(s+=360);var d=112.5<=s&&s<247.5,m=202.5<=s&&s<337.5;return{up:m,down:!m&&22.5<=s&&s<157.5,left:d,right:!d&&(292.5<=s||s<67.5),angle:s,speed:r.prevEvent.speed,velocity:{x:r.prevEvent.velocityX,y:r.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"pageX",get:function(){return this.page.x},set:function(r){this.page.x=r}},{key:"pageY",get:function(){return this.page.y},set:function(r){this.page.y=r}},{key:"clientX",get:function(){return this.client.x},set:function(r){this.client.x=r}},{key:"clientY",get:function(){return this.client.y},set:function(r){this.client.y=r}},{key:"dx",get:function(){return this.delta.x},set:function(r){this.delta.x=r}},{key:"dy",get:function(){return this.delta.y},set:function(r){this.delta.y=r}},{key:"velocityX",get:function(){return this.velocity.x},set:function(r){this.velocity.x=r}},{key:"velocityY",get:function(){return this.velocity.y},set:function(r){this.velocity.y=r}}]),e}(ll.default);ae.InteractEvent=Ya,ae.default=Ya;var Di={};Object.defineProperty(Di,"__esModule",{value:!0}),Di.default=Di.PointerInfo=void 0;var Va=function t(e,n,r,s,l){(function gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=e,this.pointer=n,this.event=r,this.downTime=s,this.downTarget=l};Di.PointerInfo=Va,Di.default=Va;var Do={};Object.defineProperty(Do,"__esModule",{value:!0}),Do.default=void 0;var _l=function vl(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(At);var So={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var n=0;n<So.methodOrder.length;n++){var l=So[So.methodOrder[n]](e);if(l)return l}},simulationResume:function(e){var n=e.pointerType,s=e.eventTarget,l=e.scope;if(!/down|start/i.test(e.eventType))return null;for(var d=0;d<l.interactions.list.length;d++){var _=l.interactions.list[d],v=s;if(_.simulation&&_.simulation.allowResume&&_.pointerType===n)for(;v;){if(v===_.element)return _;v=_l.parentNode(v)}}return null},mouseOrPen:function(e){var n=e.pointerId,r=e.pointerType,s=e.eventType,l=e.scope;if("mouse"!==r&&"pen"!==r)return null;for(var d,m=0;m<l.interactions.list.length;m++){var v=l.interactions.list[m];if(v.pointerType===r){if(v.simulation&&!Wa(v,n))continue;if(v.interacting())return v;d||(d=v)}}if(d)return d;for(var b=0;b<l.interactions.list.length;b++){var E=l.interactions.list[b];if(!(E.pointerType!==r||/down/i.test(s)&&E.simulation))return E}return null},hasPointer:function(e){for(var n=e.pointerId,r=e.scope,s=0;s<r.interactions.list.length;s++){var d=r.interactions.list[s];if(Wa(d,n))return d}return null},idle:function(e){for(var n=e.pointerType,r=e.scope,s=0;s<r.interactions.list.length;s++){var d=r.interactions.list[s];if(1===d.pointers.length){var m=d.interactable;if(m&&(!m.options.gesture||!m.options.gesture.enabled))continue}else if(d.pointers.length>=2)continue;if(!d.interacting()&&n===d.pointerType)return d}return null}};function Wa(t,e){return t.pointers.some(function(n){return n.id===e})}Do.default=So;var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.default=void 0;var Gr=p({}),bl=Ga(F),Ua=Ga(pt);function Ga(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function Zr(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function Za(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var s="x"===r?"y":"x";e.page[s]=n.coords.start.page[s],e.client[s]=n.coords.start.client[s],e.delta[s]=0}}}Gr.ActionName.Drag="drag";var To={id:"actions/drag",install:function Cl(t){var e=t.actions,n=t.Interactable,r=t.interactions,s=t.defaults;r.signals.on("before-action-move",Zr),r.signals.on("action-resume",Zr),r.signals.on("action-move",Za),n.prototype.draggable=To.draggable,e[Gr.ActionName.Drag]=To,e.names.push(Gr.ActionName.Drag),bl.merge(e.eventTypes,["dragstart","dragmove","draginertiastart","dragresume","dragend"]),e.methodDict.drag="draggable",s.actions.drag=To.defaults},draggable:function(e){return Ua.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):Ua.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:Zr,move:Za,defaults:{startAxis:"xy",lockAxis:"xy"},checker:function(e,n,r){var s=r.options.drag;return s.enabled?{name:"drag",axis:"start"===s.lockAxis?s.startAxis:s.lockAxis}:null},getCursor:function(){return"move"}};io.default=To;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.default=void 0;var Ml=function Dl(t){return t&&t.__esModule?t:{default:t}}(Ee),Ol=function Pl(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(F);function Io(t){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Ja(t){return function El(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function Tl(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function Sl(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kl(t,e){return!e||"object"!==Io(e)&&"function"!=typeof e?function Rl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jr(t){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(t)}function zl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kr(t,e)}function Kr(t,e){return(Kr=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r})(t,e)}Eo.default=function(t){function e(n,r,s){var l;(function Il(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(l=kl(this,Jr(e).call(this,r._interaction))).propagationStopped=!1,l.immediatePropagationStopped=!1;var d="dragleave"===s?n.prev:n.cur,m=d.element,_=d.dropzone;return l.type=s,l.target=m,l.currentTarget=m,l.dropzone=_,l.dragEvent=r,l.relatedTarget=r.target,l.draggable=r.interactable,l.timeStamp=r.timeStamp,l}return zl(e,t),function Al(t,e,n){return e&&Ka(t.prototype,e),n&&Ka(t,n),t}(e,[{key:"reject",value:function(){var r=this,s=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&s.cur.dropzone===this.dropzone&&s.cur.element===this.target)if(s.prev.dropzone=this.dropzone,s.prev.element=this.target,s.rejected=!0,s.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var l=s.activeDrops,d=Ol.findIndex(l,function(_){return _.dropzone===r.dropzone&&_.element===r.target});s.activeDrops=[].concat(Ja(l.slice(0,d)),Ja(l.slice(d+1)));var m=new e(s,this.dragEvent,"dropdeactivate");m.dropzone=this.dropzone,m.target=this.target,this.dropzone.fire(m)}else this.dropzone.fire(new e(s,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}(Ml.default);var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.default=void 0;var ne=function Ll(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(Pt),Nl=$a(io),Si=$a(Eo);function $a(t){return t&&t.__esModule?t:{default:t}}function Xa(t,e){for(var n=0;n<t.length;n++){var r,l=(r=t[n]).dropzone,d=r.element;e.dropzone=l,e.target=d,l.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function $r(t,e){for(var n=function Yl(t,e){for(var n=t.interactables,r=[],s=0;s<n.list.length;s++){var d=n.list[s];if(d.options.drop.enabled){var m=d.options.drop.accept;if(!(ne.is.element(m)&&m!==e||ne.is.string(m)&&!ne.dom.matchesSelector(e,m)||ne.is.func(m)&&!m({dropzone:d,draggableElement:e})))for(var _=ne.is.string(d.target)?d._context.querySelectorAll(d.target):ne.is.array(d.target)?d.target:[d.target],v=0;v<_.length;v++){var b;(b=_[v])!==e&&r.push({dropzone:d,element:b})}}}return r}(t,e),r=0;r<n.length;r++){var s;(s=n[r]).rect=s.dropzone.getRect(s.element)}return n}function Qa(t,e,n){for(var r=t.dropState,s=t.interactable,l=t.element,d=[],m=0;m<r.activeDrops.length;m++){var _,D=(_=r.activeDrops[m]).element;d.push(_.dropzone.dropCheck(e,n,s,l,D,_.rect)?D:null)}var k=ne.dom.indexOfDeepestElement(d);return r.activeDrops[k]||null}function Xr(t,e,n){var r=t.dropState,s={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(s.activate=new Si.default(r,n,"dropactivate"),s.activate.target=null,s.activate.dropzone=null),"dragend"===n.type&&(s.deactivate=new Si.default(r,n,"dropdeactivate"),s.deactivate.target=null,s.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(s.leave=new Si.default(r,n,"dragleave"),n.dragLeave=s.leave.target=r.prev.element,n.prevDropzone=s.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(s.enter=new Si.default(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(s.drop=new Si.default(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(s.move=new Si.default(r,n,"dropmove"),s.move.dragmove=n,n.dropzone=r.cur.dropzone)),s}function Qr(t,e){var n=t.dropState,r=n.activeDrops,s=n.cur;e.leave&&n.prev.dropzone.fire(e.leave),e.move&&s.dropzone.fire(e.move),e.enter&&s.dropzone.fire(e.enter),e.drop&&s.dropzone.fire(e.drop),e.deactivate&&Xa(r,e.deactivate),n.prev.dropzone=s.dropzone,n.prev.element=s.element}function qa(t,e){var n=t.interaction,r=t.iEvent,s=t.event;if("dragmove"===r.type||"dragend"===r.type){var l=n.dropState;e.dynamicDrop&&(l.activeDrops=$r(e,n.element));var d=r,m=Qa(n,d,s);l.rejected=l.rejected&&!!m&&m.dropzone===l.cur.dropzone&&m.element===l.cur.element,l.cur.dropzone=m&&m.dropzone,l.cur.element=m&&m.element,l.events=Xr(n,0,d)}}var ja={id:"actions/drop",install:function Hl(t){var e=t.actions,n=t.interact,r=t.Interactable,s=t.interactions,l=t.defaults;t.usePlugin(Nl.default),s.signals.on("before-action-start",function(d){var m=d.interaction;"drag"===m.prepared.name&&(m.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:null})}),s.signals.on("after-action-start",function(d){var m=d.interaction,v=d.iEvent;if("drag"===m.prepared.name){var b=m.dropState;b.activeDrops=null,b.events=null,b.activeDrops=$r(t,m.element),b.events=Xr(m,0,v),b.events.activate&&Xa(b.activeDrops,b.events.activate)}}),s.signals.on("action-move",function(d){return qa(d,t)}),s.signals.on("action-end",function(d){return qa(d,t)}),s.signals.on("after-action-move",function(d){var m=d.interaction;"drag"===m.prepared.name&&(Qr(m,m.dropState.events),m.dropState.events={})}),s.signals.on("after-action-end",function(d){var m=d.interaction;"drag"===m.prepared.name&&Qr(m,m.dropState.events)}),s.signals.on("stop",function(d){var m=d.interaction;if("drag"===m.prepared.name){var _=m.dropState;_&&(_.activeDrops=null,_.events=null,_.cur.dropzone=null,_.cur.element=null,_.prev.dropzone=null,_.prev.element=null,_.rejected=!1)}}),r.prototype.dropzone=function(d){return function Vl(t,e){if(ne.is.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=ne.normalizeListeners(e.listeners),r=Object.keys(n).reduce(function(s,l){return s[/^(enter|leave)/.test(l)?"drag".concat(l):/^(activate|deactivate|move)/.test(l)?"drop".concat(l):l]=n[l],s},{});t.off(t.options.drop.listeners),t.on(r),t.options.drop.listeners=r}return ne.is.func(e.ondrop)&&t.on("drop",e.ondrop),ne.is.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),ne.is.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),ne.is.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),ne.is.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),ne.is.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:ne.is.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return ne.is.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,d)},r.prototype.dropCheck=function(d,m,_,v,b,D){return function Wl(t,e,n,r,s,l,d){var m=!1;if(!(d=d||t.getRect(l)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,m,t,l,r,s);var _=t.options.drop.overlap;if("pointer"===_){var v=ne.getOriginXY(r,s,"drag"),b=ne.pointer.getPageXY(e);b.x+=v.x,b.y+=v.y,m=b.x>d.left&&b.x<d.right&&b.y>d.top&&b.y<d.bottom}var k=r.getRect(s);if(k&&"center"===_){var X=k.left+k.width/2,N=k.top+k.height/2;m=X>=d.left&&X<=d.right&&N>=d.top&&N<=d.bottom}return k&&ne.is.number(_)&&(m=Math.max(0,Math.min(d.right,k.right)-Math.max(d.left,k.left))*Math.max(0,Math.min(d.bottom,k.bottom)-Math.max(d.top,k.top))/(k.width*k.height)>=_),t.options.drop.checker&&(m=t.options.drop.checker(e,n,m,t,l,r,s)),m}(this,d,m,_,v,b,D)},n.dynamicDrop=function(d){return ne.is.bool(d)?(t.dynamicDrop=d,n):t.dynamicDrop},ne.arr.merge(e.eventTypes,["dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop"]),e.methodDict.drop="dropzone",t.dynamicDrop=!1,l.actions.drop=ja.defaults},getActiveDrops:$r,getDrop:Qa,getDropEvents:Xr,fireDropEvents:Qr,defaults:{enabled:!1,accept:null,overlap:"pointer"}};Ao.default=ja;var ko={};Object.defineProperty(ko,"__esModule",{value:!0}),ko.default=void 0;var Gl=function Jl(t){return t&&t.__esModule?t:{default:t}}(ae),qr=p({}),sn=function Zl(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(Pt);qr.ActionName.Gesture="gesture";var jr={id:"actions/gesture",install:function Kl(t){var e=t.actions,r=t.interactions,s=t.defaults;t.Interactable.prototype.gesturable=function(l){return sn.is.object(l)?(this.options.gesture.enabled=!1!==l.enabled,this.setPerAction("gesture",l),this.setOnEvents("gesture",l),this):sn.is.bool(l)?(this.options.gesture.enabled=l,this):this.options.gesture},r.signals.on("action-start",ta),r.signals.on("action-move",ta),r.signals.on("action-end",ta),r.signals.on("new",function(l){l.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}}),e[qr.ActionName.Gesture]=jr,e.names.push(qr.ActionName.Gesture),sn.arr.merge(e.eventTypes,["gesturestart","gesturemove","gestureend"]),e.methodDict.gesture="gesturable",s.actions.gesture=jr.defaults},defaults:{},checker:function(e,n,r,s,l){return l.pointers.length>=2?{name:"gesture"}:null},getCursor:function(){return""}};function ta(t){var e=t.interaction,n=t.iEvent,r=t.event,s=t.phase;if("gesture"===e.prepared.name){var l=e.pointers.map(function(b){return b.pointer}),d="start"===s,m="end"===s,_=e.interactable.options.deltaSource;if(n.touches=[l[0],l[1]],d)n.distance=sn.pointer.touchDistance(l,_),n.box=sn.pointer.touchBBox(l),n.scale=1,n.ds=0,n.angle=sn.pointer.touchAngle(l,_),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(m||r instanceof Gl.default){var v=e.prevEvent;n.distance=v.distance,n.box=v.box,n.scale=v.scale,n.ds=0,n.angle=v.angle,n.da=0}else n.distance=sn.pointer.touchDistance(l,_),n.box=sn.pointer.touchBBox(l),n.scale=n.distance/e.gesture.startDistance,n.angle=sn.pointer.touchAngle(l,_),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,sn.is.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}ko.default=jr;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.default=void 0;var zo=p({}),Xl=ea(F),Ql=ea(At),zn=function ql(t){return t&&t.__esModule?t:{default:t}}(qt),ln=ea(pt);function ea(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}zo.ActionName.Resize="resize";var Ti={id:"actions/resize",install:function jl(t){var e=t.actions,n=t.browser,r=t.Interactable,s=t.interactions,l=t.defaults;s.signals.on("new",function(d){d.resizeAxes="xy"}),s.signals.on("action-start",ic),s.signals.on("action-move",oc),s.signals.on("action-end",rc),s.signals.on("action-start",ts),s.signals.on("action-move",ts),Ti.cursors=function nc(t){return t.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Ti.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(d){return function tc(t,e,n){return ln.object(e)?(t.options.resize.enabled=!1!==e.enabled,t.setPerAction("resize",e),t.setOnEvents("resize",e),ln.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),ln.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:ln.bool(e.square)&&(t.options.resize.square=e.square),t):ln.bool(e)?(t.options.resize.enabled=e,t):t.options.resize}(this,d,t)},e[zo.ActionName.Resize]=Ti,e.names.push(zo.ActionName.Resize),Xl.merge(e.eventTypes,["resizestart","resizemove","resizeinertiastart","resizeresume","resizeend"]),e.methodDict.resize="resizable",l.actions.resize=Ti.defaults},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},checker:function(e,n,r,s,l,d){if(!d)return null;var m=(0,zn.default)({},l.coords.cur.page),_=r.options;if(_.resize.enabled){var v=_.resize,b={left:!1,right:!1,top:!1,bottom:!1};if(ln.object(v.edges)){for(var D in b)b[D]=ec(D,v.edges[D],m,l._latestPointer.eventTarget,s,d,v.margin||this.defaultMargin);if(b.left=b.left&&!b.right,b.top=b.top&&!b.bottom,b.left||b.right||b.top||b.bottom)return{name:"resize",edges:b}}else{var E="y"!==_.resize.axis&&m.x>d.right-this.defaultMargin,k="x"!==_.resize.axis&&m.y>d.bottom-this.defaultMargin;if(E||k)return{name:"resize",axes:(E?"x":"")+(k?"y":"")}}}return null},cursors:null,getCursor:function(e){var n=e.edges,r=e.axis,l=Ti.cursors,d=null;if(r)d=l[e.name+r];else if(n){for(var m="",_=["top","bottom","left","right"],v=0;v<_.length;v++){var b=_[v];n[b]&&(m+=b)}d=l[m]}return d},defaultMargin:null};function ec(t,e,n,r,s,l,d){if(!e)return!1;if(!0===e){var m=ln.number(l.width)?l.width:l.right-l.left,_=ln.number(l.height)?l.height:l.bottom-l.top;if(d=Math.min(d,("left"===t||"right"===t?m:_)/2),m<0&&("left"===t?t="right":"right"===t&&(t="left")),_<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return n.x<(m>=0?l.left:l.right)+d;if("top"===t)return n.y<(_>=0?l.top:l.bottom)+d;if("right"===t)return n.x>(m>=0?l.right:l.left)-d;if("bottom"===t)return n.y>(_>=0?l.bottom:l.top)-d}return!!ln.element(r)&&(ln.element(e)?e===r:Ql.matchesUpTo(r,e,s))}function ic(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=(0,zn.default)({},n.rect),s=n.interactable.options.resize;if(s.square||s.preserveAspectRatio){var l=(0,zn.default)({},n.prepared.edges);l.top=l.top||l.left&&!l.bottom,l.left=l.left||l.top&&!l.right,l.bottom=l.bottom||l.right&&!l.top,l.right=l.right||l.bottom&&!l.left,n.prepared._linkedEdges=l}else n.prepared._linkedEdges=null;s.preserveAspectRatio&&(n.resizeStartAspectRatio=r.width/r.height),n.resizeRects={start:r,current:{left:r.left,right:r.right,top:r.top,bottom:r.bottom},inverted:(0,zn.default)({},r),previous:(0,zn.default)({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.edges=n.prepared.edges,e.rect=n.resizeRects.inverted,e.deltaRect=n.resizeRects.delta}}function oc(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var N,r=n.interactable.options.resize,s=r.invert,l="reposition"===s||"negate"===s,d=n.prepared.edges,m=n.resizeRects.start,_=n.resizeRects.current,v=n.resizeRects.inverted,b=n.resizeRects.delta,D=(0,zn.default)(n.resizeRects.previous,v),E=d,k=(0,zn.default)({},e.delta);if(r.preserveAspectRatio||r.square){var X=r.preserveAspectRatio?n.resizeStartAspectRatio:1;d=n.prepared._linkedEdges,E.left&&E.bottom||E.right&&E.top?k.y=-k.x/X:E.left||E.right?k.y=k.x/X:(E.top||E.bottom)&&(k.x=k.y*X)}for(var j in d.top&&(_.top+=k.y),d.bottom&&(_.bottom+=k.y),d.left&&(_.left+=k.x),d.right&&(_.right+=k.x),l?((0,zn.default)(v,_),"reposition"===s&&(v.top>v.bottom&&(N=v.top,v.top=v.bottom,v.bottom=N),v.left>v.right&&(N=v.left,v.left=v.right,v.right=N))):(v.top=Math.min(_.top,m.bottom),v.bottom=Math.max(_.bottom,m.top),v.left=Math.min(_.left,m.right),v.right=Math.max(_.right,m.left)),v.width=v.right-v.left,v.height=v.bottom-v.top,v)b[j]=v[j]-D[j];e.edges=n.prepared.edges,e.rect=v,e.deltaRect=b}}function rc(t){var e=t.iEvent,n=t.interaction;"resize"!==n.prepared.name||!n.prepared.edges||(e.edges=n.prepared.edges,e.rect=n.resizeRects.inverted,e.deltaRect=n.resizeRects.delta)}function ts(t){var e=t.iEvent,n=t.interaction;t.action===zo.ActionName.Resize&&n.resizeAxes&&(n.interactable.options.resize.square?("y"===n.resizeAxes?e.delta.x=e.delta.y:e.delta.y=e.delta.x,e.axes="xy"):(e.axes=n.resizeAxes,"x"===n.resizeAxes?e.delta.y=0:"y"===n.resizeAxes&&(e.delta.x=0)))}Ro.default=Ti;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.install=function sc(t){t.usePlugin(is.default),t.usePlugin(os.default),t.usePlugin(es.default),t.usePlugin(ns.default)},Object.defineProperty(Cn,"drag",{enumerable:!0,get:function(){return es.default}}),Object.defineProperty(Cn,"drop",{enumerable:!0,get:function(){return ns.default}}),Object.defineProperty(Cn,"gesture",{enumerable:!0,get:function(){return is.default}}),Object.defineProperty(Cn,"resize",{enumerable:!0,get:function(){return os.default}}),Cn.id=void 0;var es=Bo(io),ns=Bo(Ao),is=Bo(ko),os=Bo(Ro);function Bo(t){return t&&t.__esModule?t:{default:t}}Cn.id="actions";var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.getContainer=Fo,Bn.getScroll=ao,Bn.getScrollSize=function pc(t){return oo.window(t)&&(t=window.document.body),{x:t.scrollWidth,y:t.scrollHeight}},Bn.getScrollSizeDelta=function hc(t,e){var n=t.interaction,r=t.element,s=n&&n.interactable.options[n.prepared.name].autoScroll;if(!s||!s.enabled)return e(),{x:0,y:0};var l=Fo(s.container,n.interactable,r),d=ao(l);e();var m=ao(l);return{x:m.x-d.x,y:m.y-d.y}},Bn.default=void 0;var cc=rs(At),oo=rs(pt),ro=function uc(t){return t&&t.__esModule?t:{default:t}}(Lt);function rs(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}var wt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:null,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){wt.isScrolling=!0,ro.default.cancel(wt.i),e.autoScroll=wt,wt.interaction=e,wt.prevTime=wt.now(),wt.i=ro.default.request(wt.scroll)},stop:function(){wt.isScrolling=!1,wt.interaction&&(wt.interaction.autoScroll=null),ro.default.cancel(wt.i)},scroll:function(){var e=wt.interaction,n=e.interactable,r=e.element,s=n.options[wt.interaction.prepared.name].autoScroll,l=Fo(s.container,n,r),d=wt.now(),_=s.speed*((d-wt.prevTime)/1e3);if(_>=1){var v={x:wt.x*_,y:wt.y*_};if(v.x||v.y){var b=ao(l);oo.window(l)?l.scrollBy(v.x,v.y):l&&(l.scrollLeft+=v.x,l.scrollTop+=v.y);var D=ao(l),E={x:D.x-b.x,y:D.y-b.y};(E.x||E.y)&&n.fire({type:"autoscroll",target:r,interactable:n,delta:E,interaction:e,container:l})}wt.prevTime=d}wt.isScrolling&&(ro.default.cancel(wt.i),wt.i=ro.default.request(wt.scroll))},check:function(e,n){var r=e.options;return r[n].autoScroll&&r[n].autoScroll.enabled},onInteractionMove:function(e){var n=e.interaction,r=e.pointer;if(n.interacting()&&wt.check(n.interactable,n.prepared.name)){if(n.simulation)return void(wt.x=wt.y=0);var s,l,d,m,_=n.interactable,b=_.options[n.prepared.name].autoScroll,D=Fo(b.container,_,n.element);if(oo.window(D))m=r.clientX<wt.margin,s=r.clientY<wt.margin,l=r.clientX>D.innerWidth-wt.margin,d=r.clientY>D.innerHeight-wt.margin;else{var E=cc.getElementClientRect(D);m=r.clientX<E.left+wt.margin,s=r.clientY<E.top+wt.margin,l=r.clientX>E.right-wt.margin,d=r.clientY>E.bottom-wt.margin}wt.x=l?1:m?-1:0,wt.y=d?1:s?-1:0,wt.isScrolling||(wt.margin=b.margin,wt.speed=b.speed,wt.start(n))}}};function Fo(t,e,n){return(oo.string(t)?(0,ce.getStringOptionResult)(t,e,n):t)||(0,O.getWindow)(n)}function ao(t){return oo.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}Bn.default={id:"auto-scroll",install:function dc(t){var e=t.interactions,n=t.defaults,r=t.actions;t.autoScroll=wt,wt.now=function(){return t.now()},e.signals.on("new",function(s){s.interaction.autoScroll=null}),e.signals.on("destroy",function(s){s.interaction.autoScroll=null,wt.stop(),wt.interaction&&(wt.interaction=null)}),e.signals.on("stop",wt.stop),e.signals.on("action-move",function(s){return wt.onInteractionMove(s)}),r.eventTypes.push("autoscroll"),n.perAction.autoScroll=wt.defaults}};var No={};Object.defineProperty(No,"__esModule",{value:!0}),No.default=void 0;var as=function gc(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(pt);function _c(t,e,n,r){var s=this.defaultActionChecker(t,e,n,r);return this.options.actionChecker?this.options.actionChecker(t,e,s,this,r,n):s}function yc(t){return as.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function bc(t){return as.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}No.default={id:"auto-start/interactableMethods",install:function mc(t){var e=t.Interactable,n=t.actions;e.prototype.getAction=_c,e.prototype.ignoreFrom=(0,Pt.warnOnce)(function(r){return this._backCompatOption("ignoreFrom",r)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=(0,Pt.warnOnce)(function(r){return this._backCompatOption("allowFrom",r)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=bc,e.prototype.styleCursor=yc,e.prototype.defaultActionChecker=function(r,s,l,d){return function vc(t,e,n,r,s,l){for(var d=t.getRect(s),m=n.buttons||{0:1,1:4,3:8,4:16}[n.button],_=null,v=0;v<l.names.length;v++){var D=l.names[v];if((!r.pointerIsDown||!/mouse|pointer/.test(r.pointerType)||m&t.options[D].mouseButtons)&&(_=l[D].checker(e,n,t,s,r,d)))return _}}(this,r,s,l,d,n)}}};var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.default=void 0;var ai=function Mc(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(Pt),xc=function wc(t){return t&&t.__esModule?t:{default:t}}(No);function ss(t,e,n,r,s){return e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&Lo(e,n,t,s)?t:null}function Pc(t,e,n,r,s,l,d){for(var m=0,_=r.length;m<_;m++){var v=r[m],b=s[m],D=v.getAction(e,n,t,b);if(D){var E=ss(D,v,b,l,d);if(E)return{action:E,interactable:v,element:b}}}return{action:null,interactable:null,element:null}}function ls(t,e,n,r,s){var l=[],d=[],m=r;function _(b){l.push(b),d.push(m)}for(;ai.is.element(m);){l=[],d=[],s.interactables.forEachMatch(m,_);var v=Pc(t,e,n,l,d,r,s);if(v.action&&!v.interactable.options[v.action.name].manualStart)return v;m=ai.dom.parentNode(m)}return{action:null,interactable:null,element:null}}function cs(t,e,n){var r=e.action,s=e.interactable,l=e.element;r=r||{name:null},t.interactable&&t.interactable.options.styleCursor&&na(t.element,"",n),t.interactable=s,t.element=l,ai.copyAction(t.prepared,r),t.rect=s&&r.name?s.getRect(l):null,ds(t,n),n.autoStart.signals.fire("prepared",{interaction:t})}function Lo(t,e,n,r){var s=t.options,l=s[n.name].max,d=s[n.name].maxPerElement,m=r.autoStart.maxInteractions,_=0,v=0,b=0;if(!(l&&d&&m))return!1;for(var D=0;D<r.interactions.list.length;D++){var k=r.interactions.list[D],X=k.prepared.name;if(k.interacting()){if(++_>=m)return!1;if(k.interactable===t&&((v+=X===n.name?1:0)>=l||k.element===e&&(b++,X===n.name&&b>=d)))return!1}}return m>0}function us(t,e){return ai.is.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function na(t,e,n){n.autoStart.cursorElement&&(n.autoStart.cursorElement.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function ds(t,e){var n=t.interactable,r=t.element,s=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var l="";if(s.name){var d=n.options[s.name].cursorChecker;l=ai.is.func(d)?d(s,n,r,t._interacting):e.actions[s.name].getCursor(s)}na(t.element,l||"",e)}}Ei.default={id:"auto-start/base",install:function Oc(t){var e=t.interact,n=t.interactions,r=t.defaults;t.usePlugin(xc.default),n.signals.on("down",function(s){var l=s.interaction,d=s.pointer,m=s.event,_=s.eventTarget;l.interacting()||cs(l,ls(l,d,m,_,t),t)}),n.signals.on("move",function(s){var l=s.interaction,d=s.pointer,m=s.event,_=s.eventTarget;"mouse"!==l.pointerType||l.pointerIsDown||l.interacting()||cs(l,ls(l,d,m,_,t),t)}),n.signals.on("move",function(s){var l=s.interaction;if(l.pointerIsDown&&!l.interacting()&&l.pointerWasMoved&&l.prepared.name){t.autoStart.signals.fire("before-start",s);var d=l.interactable;l.prepared.name&&d&&(d.options[l.prepared.name].manualStart||!Lo(d,l.element,l.prepared,t)?l.stop():(l.start(l.prepared,d,l.element),ds(l,t)))}}),n.signals.on("stop",function(s){var l=s.interaction,d=l.interactable;d&&d.options.styleCursor&&na(l.element,"",t)}),r.base.actionChecker=null,r.base.styleCursor=!0,ai.extend(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(s){return us(s,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Lo,cursorElement:null,signals:new ai.Signals}},maxInteractions:us,withinInteractionLimit:Lo,validateAction:ss};var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.default=void 0;var ia=p({}),Sc=function Ic(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(pt),Tc=function Ec(t){return t&&t.__esModule?t:{default:t}}(Ei);Ho.default={id:"auto-start/dragAxis",install:function Ac(t){t.autoStart.signals.on("before-start",function(n){var r=n.interaction,s=n.eventTarget,d=n.dy;if("drag"===r.prepared.name){var m=Math.abs(n.dx),_=Math.abs(d),v=r.interactable.options.drag,b=v.startAxis,D=m>_?"x":m<_?"y":"xy";if(r.prepared.axis="start"===v.lockAxis?D[0]:v.lockAxis,"xy"!==D&&"xy"!==b&&b!==D){r.prepared.name=null;for(var E=s,k=function(j){if(j!==r.interactable){var R=r.interactable.options.drag;if(!R.manualStart&&j.testIgnoreAllow(R,E,s)){var Z=j.getAction(r.downPointer,r.downEvent,r,E);if(Z&&Z.name===ia.ActionName.Drag&&function e(n,r){if(!r)return!1;var s=r.options[ia.ActionName.Drag].startAxis;return"xy"===n||"xy"===s||s===n}(D,j)&&Tc.default.validateAction(Z,j,E,s,t))return j}}};Sc.element(E);){var X=t.interactables.forEachMatch(E,k);if(X){r.prepared.name=ia.ActionName.Drag,r.interactable=X,r.element=E;break}E=(0,At.parentNode)(E)}}}})}};var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.default=void 0;var Rc=function zc(t){return t&&t.__esModule?t:{default:t}}(Ei);function oa(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}Yo.default={id:"auto-start/hold",install:function Bc(t){var e=t.autoStart,n=t.interactions,r=t.defaults;t.usePlugin(Rc.default),r.perAction.hold=0,r.perAction.delay=0,n.signals.on("new",function(s){s.autoStartHoldTimer=null}),e.signals.on("prepared",function(s){var l=s.interaction,d=oa(l);d>0&&(l.autoStartHoldTimer=setTimeout(function(){l.start(l.prepared,l.interactable,l.element)},d))}),n.signals.on("move",function(s){var l=s.interaction;l.pointerWasMoved&&!s.duplicate&&clearTimeout(l.autoStartHoldTimer)}),e.signals.on("before-start",function(s){var l=s.interaction;oa(l)>0&&(l.prepared.name=null)})},getHoldDuration:oa};var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.install=function Nc(t){t.usePlugin(ps.default),t.usePlugin(fs.default),t.usePlugin(hs.default)},Object.defineProperty(Fn,"autoStart",{enumerable:!0,get:function(){return ps.default}}),Object.defineProperty(Fn,"dragAxis",{enumerable:!0,get:function(){return hs.default}}),Object.defineProperty(Fn,"hold",{enumerable:!0,get:function(){return fs.default}}),Fn.id=void 0;var ps=ra(Ei),hs=ra(Ho),fs=ra(Yo);function ra(t){return t&&t.__esModule?t:{default:t}}Fn.id="auto-start";var so={};Object.defineProperty(so,"__esModule",{value:!0}),so.install=ms,so.default=void 0;var Hc=function Vc(t){return t&&t.__esModule?t:{default:t}}(De),gs=function Yc(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(pt);function Wc(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):gs.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function Gc(t){var e=t.interaction;e.interactable&&e.interactable.checkAndPreventDefault(t.event)}function ms(t){var e=t.Interactable;e.prototype.preventDefault=Wc,e.prototype.checkAndPreventDefault=function(l){return function Uc(t,e,n){var r=t.options.preventDefault;if("never"!==r){if("always"===r)return void n.preventDefault();if(Hc.default.supportsPassive&&/^touch(start|move)$/.test(n.type)){var s=(0,O.getWindow)(n.target).document,l=e.getDocOptions(s);if(!l||!l.events||!1!==l.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||gs.element(n.target)&&(0,At.matchesSelector)(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}(this,t,l)};for(var n=["down","move","up","cancel"],r=0;r<n.length;r++)t.interactions.signals.on(n[r],Gc);t.interactions.docEvents.push({type:"dragstart",listener:function(d){for(var m=0;m<t.interactions.list.length;m++){var v=t.interactions.list[m];if(v.element&&(v.element===d.target||(0,At.nodeContains)(v.element,d.target)))return void v.interactable.checkAndPreventDefault(d)}}})}so.default={id:"core/interactablePreventDefault",install:ms};var Vo={};function aa(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.default=void 0,aa(J),aa(qt),function Qc(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(pt),aa(O);Vo.default={id:"dev-tools",install:function(){}};var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.startAll=ua,cn.setAll=Wo,cn.prepareStates=ha,cn.makeModifier=Ps,cn.default=void 0;var Ii=function su(t){return t&&t.__esModule?t:{default:t}}(qt);function Cs(t,e){return function uu(t){if(Array.isArray(t))return t}(t)||function cu(t,e){var n=[],r=!0,s=!1,l=void 0;try{for(var m,d=t[Symbol.iterator]();!(r=(m=d.next()).done)&&(n.push(m.value),!e||n.length!==e);r=!0);}catch(_){s=!0,l=_}finally{try{!r&&null!=d.return&&d.return()}finally{if(s)throw l}}return n}(t,e)||function lu(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ca(t,e){var n=t.interaction,r=t.phase,s=n.interactable,l=n.element,m=ha(ws(n)),_=(0,Ii.default)({},n.rect);"width"in _||(_.width=_.right-_.left),"height"in _||(_.height=_.bottom-_.top);var v=Os(_,e);n.modifiers.startOffset=v,n.modifiers.startDelta={x:0,y:0};var b={interaction:n,interactable:s,element:l,pageCoords:e,phase:r,rect:_,startOffset:v,states:m,preEnd:!1,requireEndOnly:!1};return n.modifiers.states=m,n.modifiers.result=null,ua(b),b.pageCoords=(0,Ii.default)({},n.coords.start.page),n.modifiers.result=Wo(b)}function ua(t){for(var e=t.states,n=0;n<e.length;n++){var s=e[n];s.methods.start&&(t.state=s,s.methods.start(t))}}function Wo(t){var e=t.interaction,n=t.modifiersState,r=void 0===n?e.modifiers:n,s=t.prevCoords,l=void 0===s?r.result?r.result.coords:e.coords.prev.page:s,d=t.phase,m=t.preEnd,_=t.requireEndOnly,v=t.rect,b=t.skipModifiers,D=b?t.states.slice(b):t.states;t.coords=(0,Ii.default)({},t.pageCoords),t.rect=(0,Ii.default)({},v);for(var E={delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},coords:t.coords,changed:!0},k=0;k<D.length;k++){var N=D[k];!N.methods.set||!ga(N.options,m,_,d)||(t.state=N,N.methods.set(t))}E.delta.x=t.coords.x-t.pageCoords.x,E.delta.y=t.coords.y-t.pageCoords.y;var R=!1;return v&&(E.rectDelta.left=t.rect.left-v.left,E.rectDelta.right=t.rect.right-v.right,E.rectDelta.top=t.rect.top-v.top,E.rectDelta.bottom=t.rect.bottom-v.bottom,R=0!==E.rectDelta.left||0!==E.rectDelta.right||0!==E.rectDelta.top||0!==E.rectDelta.bottom),E.changed=l.x!==E.coords.x||l.y!==E.coords.y||R,E}function da(t){var e=t.interaction,m=Wo({interaction:e,interactable:e.interactable,element:e.element,preEnd:t.preEnd,phase:t.phase,pageCoords:e.coords.cur.page,rect:e.rect,states:e.modifiers.states,requireEndOnly:!1,skipModifiers:t.skipModifiers});if(e.modifiers.result=m,!m.changed&&e.interacting())return!1;Ms(t)}function xs(t){var e=t.interaction,n=t.event,s=e.modifiers.states;if(!t.noPreEnd&&s&&s.length)for(var l=!1,d=0;d<s.length;d++){var _=s[d];t.state=_;var v=_.options,b=_.methods;if(!1===(b.beforeEnd&&b.beforeEnd(t)))return e.modifiers.endPrevented=!0,!1;!l&&ga(v,!0,!0)&&(e.move({event:n,preEnd:!0}),l=!0)}}function pa(t){var e=t.interaction,n=e.modifiers.states;if(n&&n.length){var r=(0,Ii.default)({states:n,interactable:e.interactable,element:e.element},t);fa(t);for(var s=0;s<n.length;s++){var d=n[s];r.state=d,d.methods.stop&&d.methods.stop(r)}t.interaction.modifiers.states=null,t.interaction.modifiers.endPrevented=!1}}function ws(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n.filter(function(r){return!r.options||!1!==r.options.enabled}):["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(r){var s=e[r];return s&&s.enabled&&{options:s,methods:s._methods}}).filter(function(r){return!!r})}function ha(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],s=r.options;s&&!1===s.enabled||e.push({options:s,methods:r.methods,index:n,name:r.name})}return e}function Ms(t){var e=t.interaction,r=t.curCoords||e.coords.cur,s=t.startCoords||e.coords.start,l=e.modifiers,d=l.result,m=l.startDelta,_=d.delta;"start"===t.phase&&(0,Ii.default)(e.modifiers.startDelta,d.delta);for(var v=[[s,m],[r,_]],b=0;b<v.length;b++){var D=Cs(v[b],2),E=D[0],k=D[1];E.page.x+=k.x,E.page.y+=k.y,E.client.x+=k.x,E.client.y+=k.y}var X=e.modifiers.result.rectDelta,N=t.rect||e.rect;N.left+=X.left,N.right+=X.right,N.top+=X.top,N.bottom+=X.bottom,N.width=N.right-N.left,N.height=N.bottom-N.top}function fa(t){var e=t.interaction,n=e.coords,r=e.rect,s=e.modifiers;if(s.result){for(var d=s.result,_=d.rectDelta,v=[[n.start,s.startDelta],[n.cur,d.delta]],b=0;b<v.length;b++){var D=Cs(v[b],2),E=D[0],k=D[1];E.page.x-=k.x,E.page.y-=k.y,E.client.x-=k.x,E.client.y-=k.y}r.left-=_.left,r.right-=_.right,r.top-=_.top,r.bottom-=_.bottom}}function ga(t,e,n,r){return t?!1!==t.enabled&&(e||!t.endOnly)&&(!n||t.endOnly||t.alwaysOnEnd)&&(t.setStart||"start"!==r):!n}function Os(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}function Ps(t,e){var n=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},s=function(d){var m=d||{};for(var _ in m.enabled=!1!==m.enabled,n)_ in m||(m[_]=n[_]);return{options:m,methods:r,name:e}};return e&&"string"==typeof e&&(s._defaults=n,s._methods=r),s}cn.default={id:"modifiers/base",install:function du(t){var e=t.interactions;t.defaults.perAction.modifiers=[],e.signals.on("new",function(n){n.interaction.modifiers={startOffset:{left:0,right:0,top:0,bottom:0},offsets:{},states:null,result:null,endPrevented:!1,startDelta:null}}),e.signals.on("before-action-start",function(n){ca(n,n.interaction.coords.start.page)}),e.signals.on("action-resume",function(n){pa(n),ca(n,n.interaction.coords.cur.page),da(n)}),e.signals.on("after-action-move",fa),e.signals.on("before-action-move",da),e.signals.on("before-action-start",Ms),e.signals.on("after-action-start",fa),e.signals.on("before-action-end",xs),e.signals.on("stop",pa)},startAll:ua,setAll:Wo,prepareStates:ha,start:ca,beforeMove:da,beforeEnd:xs,stop:pa,shouldDo:ga,getModifierList:ws,getRectOffset:Os,makeModifier:Ps};var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.default=void 0;var ma=Ds(cn),Me=function hu(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(Pt),Ai=Ds(Lt);function Ds(t){return t&&t.__esModule?t:{default:t}}function Ss(t,e){var n=Go(t),r=n.resistance,s=-Math.log(n.endSpeed/e.v0)/r;e.x0=t.prevEvent.page.x,e.y0=t.prevEvent.page.y,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-s)/r,e.modifiedYe=e.ye=(e.vy0-s)/r,e.te=s,e.lambda_v0=r/e.v0,e.one_ve_v0=1-n.endSpeed/e.v0}function _a(t){ya(t),Me.pointer.setCoordDeltas(t.coords.delta,t.coords.prev,t.coords.cur),Me.pointer.setCoordVelocity(t.coords.velocity,t.coords.delta);var e=t.inertia,r=Go(t).resistance,s=t._now()/1e3-e.t0;if(s<e.te){var l=1-(Math.exp(-r*s)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*l,e.sy=e.ye*l;else{var d=Me.getQuadraticCurvePoint(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,l);e.sx=d.x,e.sy=d.y}t.move(),e.timeout=Ai.default.request(function(){return _a(t)})}else e.sx=e.modifiedXe,e.sy=e.modifiedYe,t.move(),t.end(e.startEvent),e.active=!1,t.simulation=null;Me.pointer.copyCoords(t.coords.prev,t.coords.cur)}function va(t){ya(t);var e=t.inertia,n=t._now()-e.t0,s=Go(t).smoothEndDuration;n<s?(e.sx=Me.easeOutQuad(n,0,e.xe,s),e.sy=Me.easeOutQuad(n,0,e.ye,s),t.move(),e.timeout=Ai.default.request(function(){return va(t)})):(e.sx=e.xe,e.sy=e.ye,t.move(),t.end(e.startEvent),e.smoothEnd=e.active=!1,t.simulation=null)}function ya(t){var e=t.inertia;if(e.active){var n=e.upCoords.page,r=e.upCoords.client;Me.pointer.setCoords(t.coords.cur,[{pageX:n.x+e.sx,pageY:n.y+e.sy,clientX:r.x+e.sx,clientY:r.y+e.sy}],t._now())}}function Go(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}ae.EventPhase.Resume="resume",ae.EventPhase.InertiaStart="inertiastart",Uo.default={id:"inertia",install:function fu(t){var e=t.interactions,n=t.defaults;e.signals.on("new",function(r){r.interaction.inertia={active:!1,smoothEnd:!1,allowResume:!1,upCoords:{},timeout:null}}),e.signals.on("before-action-end",function(r){return function mu(t,e){var n=t.interaction,r=t.event,s=t.noPreEnd,l=n.inertia;if(!n.interacting()||n.simulation&&n.simulation.active||s)return null;var D,d=Go(n),m=n._now(),_=n.coords.velocity.client,v=Me.hypot(_.x,_.y),b=!1,E=d&&d.enabled&&"gesture"!==n.prepared.name&&r!==l.startEvent,k=E&&m-n.coords.cur.timeStamp<50&&v>d.minSpeed&&v>d.endSpeed,X={interaction:n,pageCoords:Me.extend({},n.coords.cur.page),states:E&&n.modifiers.states.map(function(N){return Me.extend({},N)}),preEnd:!0,prevCoords:void 0,requireEndOnly:null};return E&&!k&&(X.prevCoords=n.prevEvent.page,X.requireEndOnly=!1,(D=ma.default.setAll(X)).changed&&(b=!0)),k||b?(Me.pointer.copyCoords(l.upCoords,n.coords.cur),n.pointers[0].pointer=l.startEvent=new e.InteractEvent(n,r,n.prepared.name,ae.EventPhase.InertiaStart,n.element),l.t0=m,l.active=!0,l.allowResume=d.allowResume,n.simulation=l,n.interactable.fire(l.startEvent),k?(l.vx0=n.coords.velocity.client.x,l.vy0=n.coords.velocity.client.y,l.v0=v,Ss(n,l),Me.extend(X.pageCoords,n.coords.cur.page),X.pageCoords.x+=l.xe,X.pageCoords.y+=l.ye,X.prevCoords=void 0,X.requireEndOnly=!0,D=ma.default.setAll(X),l.modifiedXe+=D.delta.x,l.modifiedYe+=D.delta.y,l.timeout=Ai.default.request(function(){return _a(n)})):(l.smoothEnd=!0,l.xe=D.delta.x,l.ye=D.delta.y,l.sx=l.sy=0,l.timeout=Ai.default.request(function(){return va(n)})),!1):null}(r,t)}),e.signals.on("down",function(r){return function gu(t,e){var n=t.interaction,r=t.event,s=t.pointer,l=t.eventTarget,d=n.inertia;if(d.active)for(var m=l;Me.is.element(m);){if(m===n.element){Ai.default.cancel(d.timeout),d.active=!1,n.simulation=null,n.updatePointer(s,r,l,!0),Me.pointer.setCoords(n.coords.cur,n.pointers.map(function(b){return b.pointer}),n._now()),e.interactions.signals.fire("action-resume",{interaction:n});var v=new e.InteractEvent(n,r,n.prepared.name,ae.EventPhase.Resume,n.element);n._fireEvent(v),Me.pointer.copyCoords(n.coords.prev,n.coords.cur);break}m=Me.dom.parentNode(m)}}(r,t)}),e.signals.on("stop",function(r){return function _u(t){var e=t.interaction,n=e.inertia;n.active&&(Ai.default.cancel(n.timeout),n.active=!1,e.simulation=null)}(r)}),n.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300},t.usePlugin(ma.default)},calcInertia:Ss,inertiaTick:_a,smothEndTick:va,updateInertiaCoords:ya};var ki={};Object.defineProperty(ki,"__esModule",{value:!0}),ki.default=void 0;var yu=Ts(qt),bu=function Cu(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(pt),ba=Ts(ce);function Ts(t){return t&&t.__esModule?t:{default:t}}function Ca(t,e,n){return bu.func(t)?ba.default.resolveRectLike(t,e.interactable,e.element,[n.x,n.y,e]):ba.default.resolveRectLike(t,e.interactable,e.element)}ki.default={start:function xu(t){var e=t.rect,n=t.startOffset,r=t.state,s=t.interaction,l=t.pageCoords,d=r.options,m=d.elementRect,_=(0,yu.default)({left:0,top:0,right:0,bottom:0},d.offset||{});if(e&&m){var v=Ca(d.restriction,s,l);if(v){var b=v.right-v.left-e.width,D=v.bottom-v.top-e.height;b<0&&(_.left+=b,_.right+=b),D<0&&(_.top+=D,_.bottom+=D)}_.left+=n.left-e.width*m.left,_.top+=n.top-e.height*m.top,_.right+=n.right-e.width*(1-m.right),_.bottom+=n.bottom-e.height*(1-m.bottom)}r.offset=_},set:function wu(t){var e=t.coords,r=t.state,l=r.offset,d=Ca(r.options.restriction,t.interaction,e);if(d){var m=ba.default.xywhToTlbr(d);e.x=Math.max(Math.min(m.right-l.right,e.x),m.left+l.left),e.y=Math.max(Math.min(m.bottom-l.bottom,e.y),m.top+l.top)}},getRestrictionRect:Ca,defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};var lo={};Object.defineProperty(lo,"__esModule",{value:!0}),lo.default=void 0;var Du=xa(qt),Su=xa(ce);function xa(t){return t&&t.__esModule?t:{default:t}}var Zo=xa(ki).default.getRestrictionRect,Es={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Is={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function As(t,e){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var s=n[r];s in t||(t[s]=e[s])}return t}lo.default={noInner:Es,noOuter:Is,getRestrictionRect:Zo,start:function Eu(t){var l,e=t.interaction,n=t.state,r=n.options,s=e.modifiers.startOffset;if(r){var d=Zo(r.offset,e,e.coords.start.page);l=Su.default.rectToXY(d)}n.offset={top:(l=l||{x:0,y:0}).y+s.top,left:l.x+s.left,bottom:l.y-s.bottom,right:l.x-s.right}},set:function Iu(t){var e=t.coords,n=t.interaction,r=t.state,s=r.offset,l=r.options,d=n.prepared._linkedEdges||n.prepared.edges;if(d){var m=(0,Du.default)({},e),_=Zo(l.inner,n,m)||{},v=Zo(l.outer,n,m)||{};As(_,Es),As(v,Is),d.top?e.y=Math.min(Math.max(v.top+s.top,m.y),_.top+s.top):d.bottom&&(e.y=Math.max(Math.min(v.bottom+s.bottom,m.y),_.bottom+s.bottom)),d.left?e.x=Math.min(Math.max(v.left+s.left,m.x),_.left+s.left):d.right&&(e.x=Math.max(Math.min(v.right+s.right,m.x),_.right+s.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.default=void 0;var zu=ks(qt),wa=ks(ki);function ks(t){return t&&t.__esModule?t:{default:t}}var Bu=(0,zu.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},wa.default.defaults);Jo.default={start:wa.default.start,set:wa.default.set,defaults:Bu};var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.default=void 0;var Rs=Oa(qt),Ma=Oa(ce),Ri=Oa(lo);function Oa(t){return t&&t.__esModule?t:{default:t}}var Lu={width:-1/0,height:-1/0},Hu={width:1/0,height:1/0};Ko.default={start:function Yu(t){return Ri.default.start(t)},set:function Vu(t){var e=t.interaction,n=t.state,r=n.options,s=e.prepared._linkedEdges||e.prepared.edges;if(s){var l=Ma.default.xywhToTlbr(e.resizeRects.inverted),d=Ma.default.tlbrToXywh(Ri.default.getRestrictionRect(r.min,e,t.coords))||Lu,m=Ma.default.tlbrToXywh(Ri.default.getRestrictionRect(r.max,e,t.coords))||Hu;n.options={endOnly:r.endOnly,inner:(0,Rs.default)({},Ri.default.noInner),outer:(0,Rs.default)({},Ri.default.noOuter)},s.top?(n.options.inner.top=l.bottom-d.height,n.options.outer.top=l.bottom-m.height):s.bottom&&(n.options.inner.bottom=l.top+d.height,n.options.outer.bottom=l.top+m.height),s.left?(n.options.inner.left=l.right-d.width,n.options.outer.left=l.right-m.width):s.right&&(n.options.inner.right=l.left+d.width,n.options.outer.right=l.left+m.width),Ri.default.set(t),n.options=r}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};var co={};Object.defineProperty(co,"__esModule",{value:!0}),co.default=void 0;var He=function Zu(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(Pt);co.default={start:function Ju(t){var b,e=t.interaction,n=t.interactable,r=t.element,s=t.rect,l=t.state,d=t.startOffset,m=l.options,_=[],v=m.offsetWithOrigin?function $u(t){return He.rect.rectToXY(He.rect.resolveRectLike(t.state.options.origin,[t.interaction.element]))||He.getOriginXY(t.interactable,t.interaction.element,t.interaction.prepared.name)}(t):{x:0,y:0};if("startCoords"===m.offset)b={x:e.coords.start.page.x,y:e.coords.start.page.y};else{var D=He.rect.resolveRectLike(m.offset,n,r,[e]);(b=He.rect.rectToXY(D)||{x:0,y:0}).x+=v.x,b.y+=v.y}var E=m.relativePoints||[];if(s&&m.relativePoints&&m.relativePoints.length)for(var k=0;k<E.length;k++){var X=E[k];_.push({index:k,relativePoint:X,x:d.left-s.width*X.x+b.x,y:d.top-s.height*X.y+b.y})}else _.push(He.extend({index:0,relativePoint:null},b));l.offsets=_},set:function Ku(t){var v,e=t.interaction,n=t.coords,r=t.state,s=r.options,l=r.offsets,d=He.getOriginXY(e.interactable,e.element,e.prepared.name),m=He.extend({},n),_=[];s.offsetWithOrigin||(m.x-=d.x,m.y-=d.y),r.realX=m.x,r.realY=m.y;for(var b=0;b<l.length;b++)for(var E=l[b],k=m.x-E.x,X=m.y-E.y,N=0,j=s.targets.length;N<j;N++){var R=s.targets[N];(v=He.is.func(R)?R(k,X,e,E,N):R)&&_.push({x:(He.is.number(v.x)?v.x:k)+E.x,y:(He.is.number(v.y)?v.y:X)+E.y,range:He.is.number(v.range)?v.range:s.range})}for(var Z={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0},xt=0,Nt=_.length;xt<Nt;xt++){var Wt=(v=_[xt]).range,Xt=v.x-m.x,Zt=v.y-m.y,Ut=He.hypot(Xt,Zt),ue=Ut<=Wt;Wt===1/0&&Z.inRange&&Z.range!==1/0&&(ue=!1),(!Z.target||(ue?Z.inRange&&Wt!==1/0?Ut/Wt<Z.distance/Z.range:Wt===1/0&&Z.range!==1/0||Ut<Z.distance:!Z.inRange&&Ut<Z.distance))&&(Z.target=v,Z.distance=Ut,Z.range=Wt,Z.inRange=ue,Z.dx=Xt,Z.dy=Zt,r.range=Wt)}Z.inRange&&(n.x=Z.target.x,n.y=Z.target.y),r.closest=Z},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};var uo={};Object.defineProperty(uo,"__esModule",{value:!0}),uo.default=void 0;var ju=Bs(qt),td=function ed(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(pt),zs=Bs(co);function Bs(t){return t&&t.__esModule?t:{default:t}}function nd(t,e){return function rd(t){if(Array.isArray(t))return t}(t)||function od(t,e){var n=[],r=!0,s=!1,l=void 0;try{for(var m,d=t[Symbol.iterator]();!(r=(m=d.next()).done)&&(n.push(m.value),!e||n.length!==e);r=!0);}catch(_){s=!0,l=_}finally{try{!r&&null!=d.return&&d.return()}finally{if(s)throw l}}return n}(t,e)||function id(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}uo.default={start:function ad(t){var n=t.state,r=n.options,s=t.interaction.prepared.edges;if(!s)return null;t.state={options:{targets:null,relativePoints:[{x:s.left?0:1,y:s.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},n.targetFields=n.targetFields||[["width","height"],["x","y"]],zs.default.start(t),n.offsets=t.state.offsets,t.state=n},set:function sd(t){var e=t.interaction,n=t.state,r=t.coords,s=n.options,l=n.offsets,d={x:r.x-l[0].x,y:r.y-l[0].y};n.options=(0,ju.default)({},s),n.options.targets=[];for(var m=0;m<(s.targets||[]).length;m++){var v=(s.targets||[])[m],b=void 0;if(b=td.func(v)?v(d.x,d.y,e):v){for(var D=0;D<n.targetFields.length;D++){var X=nd(n.targetFields[D],2),N=X[0],j=X[1];if(N in b||j in b){b.x=b[N],b.y=b[j];break}}n.options.targets.push(b)}}zs.default.set(t),n.options=s},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};var $o={};Object.defineProperty($o,"__esModule",{value:!0}),$o.default=void 0;var dd=Da(On),pd=Da(qt),Pa=Da(uo);function Da(t){return t&&t.__esModule?t:{default:t}}var gd={start:function hd(t){var e=t.interaction.prepared.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],Pa.default.start(t)):null},set:function fd(t){return Pa.default.set(t)},defaults:(0,pd.default)((0,dd.default)(Pa.default.defaults),{offset:{x:0,y:0}})};$o.default=gd;var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.restrictSize=_e.restrictEdges=_e.restrictRect=_e.restrict=_e.snapEdges=_e.snapSize=_e.snap=void 0;var _d=Nn(cn),vd=Nn(lo),yd=Nn(ki),bd=Nn(Jo),Cd=Nn(Ko),xd=Nn($o),wd=Nn(co),Md=Nn(uo);function Nn(t){return t&&t.__esModule?t:{default:t}}var si=_d.default.makeModifier,Od=si(wd.default,"snap");_e.snap=Od;var Pd=si(Md.default,"snapSize");_e.snapSize=Pd;var Dd=si(xd.default,"snapEdges");_e.snapEdges=Dd;var Sd=si(yd.default,"restrict");_e.restrict=Sd;var Td=si(bd.default,"restrictRect");_e.restrictRect=Td;var Ed=si(vd.default,"restrictEdges");_e.restrictEdges=Ed;var Id=si(Cd.default,"restrictSize");_e.restrictSize=Id;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.default=void 0;var Ad=Fs(Ee),Qo=Fs(Be);function Fs(t){return t&&t.__esModule?t:{default:t}}function qo(t){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sa(t){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(t)}function Ta(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bd(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ea(t,e)}function Ea(t,e){return(Ea=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r})(t,e)}Xo.default=function(t){function e(n,r,s,l,d,m){var _;if(function kd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_=function zd(t,e){return!e||"object"!==qo(e)&&"function"!=typeof e?Ta(t):e}(this,Sa(e).call(this,d)),Qo.default.pointerExtend(Ta(_),s),s!==r&&Qo.default.pointerExtend(Ta(_),r),_.timeStamp=m,_.originalEvent=s,_.type=n,_.pointerId=Qo.default.getPointerId(r),_.pointerType=Qo.default.getPointerType(r),_.target=l,_.currentTarget=null,"tap"===n){var v=d.getPointerIndex(r);_.dt=_.timeStamp-d.pointers[v].downTime,_.double=!!(d.prevTap&&"doubletap"!==d.prevTap.type&&d.prevTap.target===_.target&&_.timeStamp-d.tapTime<500)}else"doubletap"===n&&(_.dt=r.timeStamp-d.tapTime);return _}return Bd(e,t),function Rd(t,e,n){return e&&Ns(t.prototype,e),n&&Ns(t,n),t}(e,[{key:"_subtractOrigin",value:function(r){var s=r.x,l=r.y;return this.pageX-=s,this.pageY-=l,this.clientX-=s,this.clientY-=l,this}},{key:"_addOrigin",value:function(r){var s=r.x,l=r.y;return this.pageX+=s,this.pageY+=l,this.clientX+=s,this.clientY+=l,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),e}(Ad.default);var po={};Object.defineProperty(po,"__esModule",{value:!0}),po.default=void 0;var jo=function Ld(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(Pt),Ls=function Nd(t){return t&&t.__esModule?t:{default:t}}(Xo);var tr=new jo.Signals,Hs=["down","up","cancel"],Hd=["down","up","cancel"],Ia={id:"pointer-events/base",install:function Vd(t){var e=t.interactions;t.pointerEvents=Ia,t.defaults.actions.pointerEvents=Ia.defaults,e.signals.on("new",function(d){var m=d.interaction;m.prevTap=null,m.tapTime=0}),e.signals.on("update-pointer",function(d){var _=d.pointerInfo;!d.down&&_.hold||(_.hold={duration:1/0,timeout:null})}),e.signals.on("move",function(d){var m=d.interaction,_=d.pointer,v=d.event,b=d.eventTarget,D=d.duplicateMove,E=m.getPointerIndex(_);!D&&(!m.pointerIsDown||m.pointerWasMoved)&&(m.pointerIsDown&&clearTimeout(m.pointers[E].hold.timeout),zi({interaction:m,pointer:_,event:v,eventTarget:b,type:"move"},t))}),e.signals.on("down",function(d){for(var m=d.interaction,_=d.pointer,v=d.event,b=d.eventTarget,E=m.pointers[d.pointerIndex].hold,k=jo.dom.getPath(b),X={interaction:m,pointer:_,event:v,eventTarget:b,type:"hold",targets:[],path:k,node:null},N=0;N<k.length;N++)X.node=k[N],tr.fire("collect-targets",X);if(X.targets.length){for(var Z=1/0,xt=0;xt<X.targets.length;xt++){var Xt=X.targets[xt].eventable.options.holdDuration;Xt<Z&&(Z=Xt)}E.duration=Z,E.timeout=setTimeout(function(){zi({interaction:m,eventTarget:b,pointer:_,event:v,type:"hold"},t)},Z)}});for(var n=["up","cancel"],r=0;r<n.length;r++)e.signals.on(n[r],function(d){var m=d.interaction,_=d.pointerIndex;m.pointers[_].hold&&clearTimeout(m.pointers[_].hold.timeout)});for(var l=0;l<Hs.length;l++)e.signals.on(Hs[l],Vs(Hd[l],t));e.signals.on("up",function(d){var m=d.interaction;m.pointerWasMoved||zi({interaction:m,eventTarget:d.eventTarget,pointer:d.pointer,event:d.event,type:"tap"},t)})},signals:tr,PointerEvent:Ls.default,fire:zi,collectEventTargets:Ys,createSignalListener:Vs,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:["down","move","up","cancel","tap","doubletap","hold"]};function zi(t,e){for(var n=t.interaction,r=t.pointer,s=t.event,l=t.eventTarget,d=t.type,m=void 0===d?t.pointerEvent.type:d,_=t.targets,v=void 0===_?Ys(t):_,b=t.pointerEvent,D=void 0===b?new Ls.default(m,r,s,l,n,e.now()):b,E={interaction:n,pointer:r,event:s,eventTarget:l,targets:v,type:m,pointerEvent:D},k=0;k<v.length;k++){var X=v[k];for(var N in X.props||{})D[N]=X.props[N];var j=jo.getOriginXY(X.eventable,X.node);if(D._subtractOrigin(j),D.eventable=X.eventable,D.currentTarget=X.node,X.eventable.fire(D),D._addOrigin(j),D.immediatePropagationStopped||D.propagationStopped&&k+1<v.length&&v[k+1].node!==D.currentTarget)break}if(tr.fire("fired",E),"tap"===m){var R=D.double?zi({interaction:n,pointer:r,event:s,eventTarget:l,type:"doubletap"},e):D;n.prevTap=R,n.tapTime=R.timeStamp}return D}function Ys(t){var e=t.interaction,n=t.pointer,r=t.event,s=t.eventTarget,l=t.type,d=e.getPointerIndex(n),m=e.pointers[d];if("tap"===l&&(e.pointerWasMoved||!m||m.downTarget!==s))return[];for(var _=jo.dom.getPath(s),v={interaction:e,pointer:n,event:r,eventTarget:s,type:l,path:_,targets:[],node:null},b=0;b<_.length;b++)v.node=_[b],tr.fire("collect-targets",v);return"hold"===l&&(v.targets=v.targets.filter(function(k){return k.eventable.options.holdDuration===e.pointers[d].hold.duration})),v.targets}function Vs(t,e){return function(n){zi({interaction:n.interaction,eventTarget:n.eventTarget,pointer:n.pointer,event:n.event,type:t},e)}}po.default=Ia;var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var Ud=function Gd(t){return t&&t.__esModule?t:{default:t}}(po);function Jd(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)}function $d(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}er.default={id:"pointer-events/holdRepeat",install:function Zd(t){var e=t.pointerEvents,n=t.interactions;t.usePlugin(Ud.default),e.signals.on("new",Jd),e.signals.on("fired",function(d){return function Kd(t,e){var n=t.interaction,r=t.pointerEvent,s=t.eventTarget,l=t.targets;if("hold"===r.type&&l.length){var d=l[0].eventable.options.holdRepeatInterval;d<=0||(n.holdIntervalHandle=setTimeout(function(){e.pointerEvents.fire({interaction:n,eventTarget:s,type:"hold",pointer:r,event:r},e)},d))}}(d,t)});for(var r=["move","up","cancel","endall"],s=0;s<r.length;s++)n.signals.on(r[s],$d);e.defaults.holdRepeatInterval=0,e.types.push("holdrepeat")}};var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var Aa=function Qd(t){return t&&t.__esModule?t:{default:t}}(qt);function jd(t){return(0,Aa.default)(this.events.options,t),this}nr.default={id:"pointer-events/interactableTargets",install:function qd(t){var e=t.pointerEvents,n=t.actions,r=t.Interactable,s=t.interactables;e.signals.on("collect-targets",function(d){var m=d.targets,_=d.node,v=d.type,b=d.eventTarget;t.interactables.forEachMatch(_,function(D){var E=D.events;E.types[v]&&E.types[v].length&&D.testIgnoreAllow(E.options,_,b)&&m.push({node:_,eventable:E,props:{interactable:D}})})}),s.signals.on("new",function(d){var m=d.interactable;m.events.getRect=function(_){return m.getRect(_)}}),s.signals.on("set",function(d){var m=d.interactable,_=d.options;(0,Aa.default)(m.events.options,e.defaults),(0,Aa.default)(m.events.options,_.pointerEvents||{})}),(0,F.merge)(n.eventTypes,e.types),r.prototype.pointerEvents=jd;var l=r.prototype._backCompatOption;r.prototype._backCompatOption=function(d,m){var _=l.call(this,d,m);return _===this&&(this.events.options[d]=m),_}}};var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.install=function ep(t){t.usePlugin(Ws.default),t.usePlugin(Us.default),t.usePlugin(Gs.default)},Object.defineProperty(Ln,"pointerEvents",{enumerable:!0,get:function(){return Ws.default}}),Object.defineProperty(Ln,"holdRepeat",{enumerable:!0,get:function(){return Us.default}}),Object.defineProperty(Ln,"interactableTargets",{enumerable:!0,get:function(){return Gs.default}}),Ln.id=void 0;var Ws=ka(po),Us=ka(er),Gs=ka(nr);function ka(t){return t&&t.__esModule?t:{default:t}}Ln.id="pointer-events";var ho={};function Zs(t){for(var e=t.actions,n=t.interactions,r=t.Interactable,s=0;s<e.names.length;s++)e.eventTypes.push("".concat(e.names[s],"reflow"));n.signals.on("stop",function(m){var _=m.interaction;_.pointerType===ae.EventPhase.Reflow&&(_._reflowResolve&&_._reflowResolve(),Pt.arr.remove(t.interactions.list,_))}),r.prototype.reflow=function(m){return function ip(t,e,n){for(var r=Pt.is.string(t.target)?Pt.arr.from(t._context.querySelectorAll(t.target)):[t.target],s=Pt.win.window.Promise,l=s?[]:null,d=function(){var D=r[m],E=t.getRect(D);if(!E)return"break";var k=Pt.arr.find(n.interactions.list,function(Z){return Z.interacting()&&Z.interactable===t&&Z.element===D&&Z.prepared.name===e.name}),X=void 0;if(k)k.move(),l&&(X=k._reflowPromise||new s(function(Z){k._reflowResolve=Z}));else{var N=Pt.rect.tlbrToXywh(E),j={page:{x:N.x,y:N.y},client:{x:N.x,y:N.y},timeStamp:n.now()},R=Pt.pointer.coordsToEvent(j);X=function op(t,e,n,r,s){var l=t.interactions.new({pointerType:"reflow"}),d={interaction:l,event:s,pointer:s,eventTarget:n,phase:ae.EventPhase.Reflow};l.interactable=e,l.element=n,l.prepared=(0,Pt.extend)({},r),l.prevEvent=s,l.updatePointer(s,s,n,!0),l._doPhase(d);var m=Pt.win.window.Promise?new Pt.win.window.Promise(function(_){l._reflowResolve=_}):null;return l._reflowPromise=m,l.start(r,e,n),l._interacting?(l.move(d),l.end(s)):l.stop(),l.removePointer(s,s),l.pointerIsDown=!1,m}(n,t,D,e,R)}l&&l.push(X)},m=0;m<r.length&&"break"!==d();m++);return l&&s.all(l).then(function(){return t})}(this,m,t)}}Object.defineProperty(ho,"__esModule",{value:!0}),ho.install=Zs,ho.default=void 0,ae.EventPhase.Reflow="reflow",ho.default={id:"reflow",install:Zs};var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.default=Hn.scope=Hn.interact=void 0;var ap=p({}),ve=function sp(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(Pt),Js=$s(Pe),Ks=$s(De);function $s(t){return t&&t.__esModule?t:{default:t}}var li={},ie=new ap.Scope;Hn.scope=ie;var Ft=function(e,n){var r=ie.interactables.get(e,n);return r||((r=ie.interactables.new(e,n)).events.global=li),r};Hn.interact=Ft,Ft.use=function lp(t,e){return ie.usePlugin(t,e),Ft},Ft.isSet=function cp(t,e){return!!ie.interactables.get(t,e&&e.context)},Ft.on=function up(t,e,n){if(ve.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),ve.is.array(t)){for(var r=0;r<t.length;r++)Ft.on(t[r],e,n);return Ft}if(ve.is.object(t)){for(var d in t)Ft.on(d,t[d],e);return Ft}return ve.arr.contains(ie.actions.eventTypes,t)?li[t]?li[t].push(e):li[t]=[e]:Ks.default.add(ie.document,t,e,{options:n}),Ft},Ft.off=function dp(t,e,n){if(ve.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),ve.is.array(t)){for(var r=0;r<t.length;r++)Ft.off(t[r],e,n);return Ft}if(ve.is.object(t)){for(var d in t)Ft.off(d,t[d],e);return Ft}var m;return ve.arr.contains(ie.actions.eventTypes,t)?t in li&&-1!==(m=li[t].indexOf(e))&&li[t].splice(m,1):Ks.default.remove(ie.document,t,e,n),Ft},Ft.debug=function pp(){return ie},Ft.getPointerAverage=ve.pointer.pointerAverage,Ft.getTouchBBox=ve.pointer.touchBBox,Ft.getTouchDistance=ve.pointer.touchDistance,Ft.getTouchAngle=ve.pointer.touchAngle,Ft.getElementRect=ve.dom.getElementRect,Ft.getElementClientRect=ve.dom.getElementClientRect,Ft.matchesSelector=ve.dom.matchesSelector,Ft.closest=ve.dom.closest,Ft.supportsTouch=function hp(){return Js.default.supportsTouch},Ft.supportsPointerEvent=function fp(){return Js.default.supportsPointerEvent},Ft.stop=function gp(){for(var t=0;t<ie.interactions.list.length;t++)ie.interactions.list[t].stop();return Ft},Ft.pointerMoveTolerance=function mp(t){return ve.is.number(t)?(ie.interactions.pointerMoveTolerance=t,Ft):ie.interactions.pointerMoveTolerance},ie.interactables.signals.on("unset",function(t){var e=t.interactable;ie.interactables.list.splice(ie.interactables.list.indexOf(e),1);for(var n=0;n<ie.interactions.list.length;n++){var s=ie.interactions.list[n];s.interactable===e&&s.interacting()&&!s._ending&&s.stop()}}),Ft.addDocument=function(t,e){return ie.addDocument(t,e)},Ft.removeDocument=function(t){return ie.removeDocument(t)},ie.interact=Ft,Hn.default=Ft;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.init=function yp(t){for(var e in Re.scope.init(t),Re.default.use(qs.default),Re.default.use(nl),Re.default.use(js.default),Re.default.use(vp),Re.default.use(Xs),Re.default.use(el.default),tl){var n=tl[e],r=n._defaults;r._methods=n._methods,Re.scope.defaults.perAction[e]=r}return Re.default.use(Qs.default),Re.default.use(il.default),Re.default},Object.defineProperty(Ie,"autoScroll",{enumerable:!0,get:function(){return Qs.default}}),Object.defineProperty(Ie,"interactablePreventDefault",{enumerable:!0,get:function(){return qs.default}}),Object.defineProperty(Ie,"inertia",{enumerable:!0,get:function(){return js.default}}),Object.defineProperty(Ie,"modifiers",{enumerable:!0,get:function(){return el.default}}),Object.defineProperty(Ie,"reflow",{enumerable:!0,get:function(){return il.default}}),Object.defineProperty(Ie,"interact",{enumerable:!0,get:function(){return Re.default}}),Ie.pointerEvents=Ie.actions=Ie.default=void 0;var Xs=fo(Cn);Ie.actions=Xs;var Qs=Bi(Bn),vp=fo(Fn),qs=Bi(so),js=(Bi(Vo),Bi(Uo)),tl=fo(_e),el=Bi(cn),nl=fo(Ln);Ie.pointerEvents=nl;var il=Bi(ho),Re=fo(Hn);function Bi(t){return t&&t.__esModule?t:{default:t}}function fo(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}Re.default.version="1.6.2",Ie.default=Re.default;var ir={};function ol(t,e){return function Mp(t){if(Array.isArray(t))return t}(t)||function wp(t,e){var n=[],r=!0,s=!1,l=void 0;try{for(var m,d=t[Symbol.iterator]();!(r=(m=d.next()).done)&&(n.push(m.value),!e||n.length!==e);r=!0);}catch(_){s=!0,l=_}finally{try{!r&&null!=d.return&&d.return()}finally{if(s)throw l}}return n}(t,e)||function xp(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0,ir.default=function Op(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(n){var r=ol(n,2);return r[0]in t||r[1]in t});return function(n,r){for(var l=t.limits,d=void 0===l?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:l,m=t.offset,_=void 0===m?{x:0,y:0}:m,v={range:t.range},b=0;b<e.length;b++){var k=ol(e[b],2),X=k[0],N=k[1],j=Math.round((n-_.x)/t[X]),R=Math.round((r-_.y)/t[N]);v[X]=Math.max(d.left,Math.min(d.right,j*t[X]+_.x)),v[N]=Math.max(d.top,Math.min(d.bottom,R*t[N]+_.y))}return v}};var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0}),Object.defineProperty(Ra,"grid",{enumerable:!0,get:function(){return Dp.default}});var Dp=function Sp(t){return t&&t.__esModule?t:{default:t}}(ir);var un={exports:{}};Object.defineProperty(un.exports,"__esModule",{value:!0}),un.exports.init=Ba,un.exports.default=void 0;var $e=za(Ie),Tp=za(_e),Ep=function Ap(t){return t&&t.__esModule?t:{default:t}}(qt),Ip=za(Ra);function za(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function go(t){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Ba(t){return(0,$e.init)(t),$e.default.use({id:"interactjs",install:function(){$e.default.modifiers=(0,Ep.default)({},Tp),$e.default.snappers=Ip,$e.default.createSnapGrid=$e.default.snappers.grid}})}return"object"===(typeof window>"u"?"undefined":go(window))&&window&&Ba(window),un.exports.default=$e.default,$e.default.default=$e.default,$e.default.init=Ba,"object"===go(un)&&un&&(un.exports=$e.default),un.exports}()},9016:(Kt,dt,w)=>{"use strict";w.d(dt,{R:()=>P});var M=w(384),S=w(2235),p=w(9912),W=w(1287),i=w(2602),F=w(7825);const nt=["addListener","removeListener"],ct=["addEventListener","removeEventListener"],Mt=["on","off"];function P(at,_t,Tt,z){if((0,i.m)(Tt)&&(z=Tt,Tt=void 0),z)return P(at,_t,Tt).pipe((0,F.Z)(z));const[T,O]=function it(at){return(0,i.m)(at.addEventListener)&&(0,i.m)(at.removeEventListener)}(at)?ct.map(U=>B=>at[U](_t,B,Tt)):function rt(at){return(0,i.m)(at.addListener)&&(0,i.m)(at.removeListener)}(at)?nt.map(q(at,_t)):function J(at){return(0,i.m)(at.on)&&(0,i.m)(at.off)}(at)?Mt.map(q(at,_t)):[];if(!T&&(0,W.z)(at))return(0,p.z)(U=>P(U,_t,Tt))((0,M.Xf)(at));if(!T)throw new TypeError("Invalid event target");return new S.y(U=>{const B=(...K)=>U.next(1<K.length?K:K[0]);return T(B),()=>O(B)})}function q(at,_t){return Tt=>z=>at[Tt](_t,z)}},7542:(Kt,dt,w)=>{"use strict";w.d(dt,{_7:()=>rn,w_:()=>on});var M=w(6575),S=w(8849),p=w(9039);const W=(y,Et)=>({myDpMonthLabel:y,myDpHeaderLabelBtnNotEdit:Et});function i(y,Et){if(1&y){const a=p.EpF();p.TgZ(0,"button",8),p.NdJ("click",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.opts.monthSelector&&x.onMonthViewBtnClicked(g))}),p._uU(1),p.qZA()}if(2&y){const a=p.oxw();p.s9C("tabindex",a.opts.monthSelector?"0":"-1"),p.Q6J("ngClass",p.WLB(3,W,a.opts.monthSelector,!a.opts.monthSelector)),p.xp6(),p.Oqu(a.visibleMonth.monthTxt)}}const F=y=>({myDpHeaderBtnDisabled:y}),nt=(y,Et)=>({myDpYearLabel:y,myDpHeaderLabelBtnNotEdit:Et});function ct(y,Et){1&y&&(p.TgZ(0,"th",4),p._uU(1,"#"),p.qZA())}function Mt(y,Et){if(1&y&&(p.TgZ(0,"th",5),p._uU(1),p.qZA()),2&y){const a=Et.$implicit;p.xp6(),p.Oqu(a)}}function P(y,Et){if(1&y&&(p.TgZ(0,"td",8),p._uU(1),p.qZA()),2&y){const a=p.oxw().$implicit;p.xp6(),p.Oqu(a.weekNbr)}}const q=y=>({"border-top":y});function rt(y,Et){if(1&y&&p._UZ(0,"span",12),2&y){const a=p.oxw().$implicit;p.Q6J("ngStyle",p.VKq(1,q,"8px solid "+a.markedDate.color))}}const J=(y,Et,a,h,g,x,I,Y,H)=>({myDpRangeColor:y,myDpPrevMonth:Et,myDpCurrMonth:a,myDpNextMonth:h,myDpSelectedDay:g,myDpRangeBegin:x,myDpRangeEnd:I,myDpDisabled:Y,myDpTableSingleDay:H}),it=(y,Et,a)=>({myDpMarkCurrDay:y,myDpDimDay:Et,myDpHighlight:a}),at=y=>[y];function _t(y,Et){if(1&y){const a=p.EpF();p.TgZ(0,"td",9),p.NdJ("click",function(g){const I=p.CHM(a).$implicit,Y=p.oxw(2);return p.KtG(Y.onDayCellClicked(g,I))})("keydown",function(g){const I=p.CHM(a).$implicit,Y=p.oxw(2);return p.KtG(Y.onDayCellKeyDown(g,I))})("mouseenter",function(){const x=p.CHM(a).$implicit,I=p.oxw(2);return p.KtG(I.onDayCellMouseEnter(x))})("mouseleave",function(){p.CHM(a);const g=p.oxw(2);return p.KtG(g.onDayCellMouseLeave())}),p.YNc(1,rt,1,3,"span",10),p.TgZ(2,"span",11),p.ALo(3,"date"),p._uU(4),p.qZA()()}if(2&y){const a=Et.$implicit,h=p.oxw(2);p.DjV("d_",a.row,"_",a.col," myDpDaycell ",a.markedDate.styleClass," ",a.disabledDate.styleClass,""),p.hYB("id","d_",a.row,"_",a.col,""),p.Q6J("ngClass",p.rFY(20,J,[h.isDateInRange(a.dateObj)||a.range,a.cmo===h.prevMonthId,a.cmo===h.currMonthId&&!a.disabledDate.disabled,a.cmo===h.nextMonthId,h.isDaySelected(a),h.opts.dateRange&&h.isDateRangeBegin(a.dateObj),h.opts.dateRange&&h.isDateRangeEnd(a.dateObj),a.disabledDate.disabled&&!a.disabledDate.styleClass.length,!a.disabledDate.disabled])),p.uIk("aria-current",a.currDay?"date":null)("aria-disabled",a.disabledDate.disabled||null)("aria-selected",h.isDaySelected(a)||null)("tabindex",a.disabledDate.disabled?-1:0),p.xp6(),p.Q6J("ngIf",a.markedDate.marked&&a.markedDate.color.length),p.xp6(),p.Q6J("ngClass",p.kEZ(30,it,a.currDay&&h.opts.markCurrentDay,a.highlight&&(a.cmo===h.prevMonthId||a.cmo===h.nextMonthId||a.disabledDate.disabled),a.highlight)),p.uIk("aria-label",p.VKq(34,at,p.xi3(3,17,a.dateObj.month+"/"+a.dateObj.day+"/"+a.dateObj.year,"fullDate"))),p.xp6(2),p.Oqu(a.dateObj.day)}}function Tt(y,Et){if(1&y&&(p.TgZ(0,"tr"),p.YNc(1,P,2,1,"td",6)(2,_t,5,36,"td",7),p.qZA()),2&y){const a=Et.$implicit,h=p.oxw();p.xp6(),p.Q6J("ngIf",h.opts.showWeekNumbers&&"mo"===h.opts.firstDayOfWeek),p.xp6(),p.Q6J("ngForOf",a.week)}}const z=(y,Et,a,h)=>({"ng-myrtl":y,myDpFooter:Et,myDpNoFooter:a,myDpViewChangeAnimation:h});function T(y,Et){if(1&y&&(p.TgZ(0,"span",6),p._uU(1),p.qZA()),2&y){const a=p.oxw().$implicit;p.xp6(),p.Oqu(a.nbr)}}const O=(y,Et,a)=>({myDpSelectedMonth:y,myDpDisabled:Et,myDpTableSingleMonth:a}),U=y=>({myDpMarkCurrMonth:y});function B(y,Et){if(1&y){const a=p.EpF();p.TgZ(0,"td",3),p.NdJ("click",function(g){const I=p.CHM(a).$implicit,Y=p.oxw(2);return p.KtG(Y.onMonthCellClicked(g,I))})("keydown",function(g){const I=p.CHM(a).$implicit,Y=p.oxw(2);return p.KtG(Y.onMonthCellKeyDown(g,I))}),p.YNc(1,T,2,1,"span",4),p.TgZ(2,"span",5),p.ALo(3,"date"),p._uU(4),p.qZA()()}if(2&y){const a=Et.$implicit,h=p.oxw(2);p.MT6("m_",a.row,"_",a.col," myDpMonthcell"),p.hYB("id","m_",a.row,"_",a.col,""),p.Q6J("ngClass",p.kEZ(18,O,a.selected,a.disabled,!a.disabled)),p.uIk("aria-current",a.currMonth?"date":null)("aria-disabled",a.disabled||null)("aria-selected",a.selected||null)("tabindex",a.disabled?-1:0),p.xp6(),p.Q6J("ngIf",h.opts.showMonthNumber),p.xp6(),p.Q6J("ngClass",p.VKq(22,U,a.currMonth&&h.opts.markCurrentMonth)),p.uIk("aria-label",p.VKq(24,at,p.xi3(3,15,a.nbr+"/1/"+a.year,"MMMM yyyy"))),p.xp6(2),p.Oqu(a.name)}}function K(y,Et){if(1&y&&(p.TgZ(0,"tr"),p.YNc(1,B,5,26,"td",2),p.qZA()),2&y){const a=Et.$implicit;p.xp6(),p.Q6J("ngForOf",a)}}const vt=(y,Et,a)=>({myDpSelectedYear:y,myDpDisabled:Et,myDpTableSingleYear:a}),bt=y=>({myDpMarkCurrYear:y});function zt(y,Et){if(1&y){const a=p.EpF();p.TgZ(0,"td",3),p.NdJ("click",function(g){const I=p.CHM(a).$implicit,Y=p.oxw(2);return p.KtG(Y.onYearCellClicked(g,I))})("keydown",function(g){const I=p.CHM(a).$implicit,Y=p.oxw(2);return p.KtG(Y.onYearCellKeyDown(g,I))}),p.TgZ(1,"span",4),p.ALo(2,"date"),p._uU(3),p.qZA()()}if(2&y){const a=Et.$implicit,h=p.oxw(2);p.MT6("y_",a.row,"_",a.col," myDpYearcell"),p.hYB("id","y_",a.row,"_",a.col,""),p.Q6J("ngClass",p.kEZ(17,vt,a.selected,a.disabled,!a.disabled)),p.uIk("aria-current",a.currYear?"date":null)("aria-disabled",a.disabled||null)("aria-selected",a.selected||null)("tabindex",a.disabled?-1:0),p.xp6(),p.Q6J("ngClass",p.VKq(21,bt,a.currYear&&h.opts.markCurrentYear)),p.uIk("aria-label",p.VKq(23,at,p.xi3(2,14,"1/1/"+a.year,"yyyy"))),p.xp6(2),p.Oqu(a.year)}}function pt(y,Et){if(1&y&&(p.TgZ(0,"tr"),p.YNc(1,zt,4,25,"td",2),p.qZA()),2&y){const a=Et.$implicit;p.xp6(),p.Q6J("ngForOf",a)}}const ft=["selectorEl"],de=["styleEl"];function gt(y,Et){if(1&y){const a=p.EpF();p.TgZ(0,"lib-day-view",8),p.NdJ("dayCellClicked",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.onDayCellClicked(g))})("dayCellKeyDown",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.onDayCellKeyDown(g))})("viewActivated",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.onViewActivated(g))}),p.qZA()}if(2&y){const a=p.oxw();p.Q6J("opts",a.opts)("dates",a.dates)("weekDays",a.weekDays)("selectedDate",a.selectedDate)("selectedDateRange",a.selectedDateRange)("viewChanged",a.viewChanged)}}function Ot(y,Et){if(1&y){const a=p.EpF();p.TgZ(0,"lib-month-view",9),p.NdJ("monthCellClicked",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.onMonthCellClicked(g))})("monthCellKeyDown",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.onMonthCellKeyDown(g))})("viewActivated",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.onViewActivated(g))}),p.qZA()}if(2&y){const a=p.oxw();p.Q6J("opts",a.opts)("months",a.months)("viewChanged",a.viewChanged)}}function Qt(y,Et){if(1&y){const a=p.EpF();p.TgZ(0,"lib-year-view",10),p.NdJ("yearCellClicked",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.onYearCellClicked(g))})("yearCellKeyDown",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.onYearCellKeyDown(g))})("viewActivated",function(g){p.CHM(a);const x=p.oxw();return p.KtG(x.onViewActivated(g))}),p.qZA()}if(2&y){const a=p.oxw();p.Q6J("opts",a.opts)("years",a.years)("viewChanged",a.viewChanged)}}function ye(y,Et){if(1&y){const a=p.EpF();p.TgZ(0,"lib-footer-bar",11),p.NdJ("footerBarTxtClicked",function(){p.CHM(a);const g=p.oxw();return p.KtG(g.onTodayFooterClicked())}),p.qZA()}if(2&y){const a=p.oxw();p.Q6J("opts",a.opts)}}const ee=(y,Et,a,h)=>({inline:y,selectorWidth:Et,selectorHeight:a,selectorPos:h}),pn=(y,Et,a,h,g)=>({myDpSelectorArrow:y,myDpSelectorArrowLeft:Et,myDpSelectorArrowRight:a,myDpSelectorAbsolute:h,myDpSelectorPosInitial:g});var mt=function(y){return y[y.enter=13]="enter",y[y.esc=27]="esc",y[y.space=32]="space",y[y.leftArrow=37]="leftArrow",y[y.upArrow=38]="upArrow",y[y.rightArrow=39]="rightArrow",y[y.downArrow=40]="downArrow",y[y.tab=9]="tab",y[y.shift=16]="shift",y}(mt||{}),se=function(y){return y.enter="Enter",y.esc="Escape|Esc",y.space=" |Spacebar",y.leftArrow="ArrowLeft|Left",y.upArrow="ArrowUp|Up",y.rightArrow="ArrowRight|Right",y.downArrow="ArrowDown|Down",y.tab="Tab",y.shift="Shift",y}(se||{});const wn="yyyy",Ue="th",Kn="click",tn="options",Pn="defaultMonth",$n="innerHTML",be="opts",Xn="yearsDuration",en="visibleMonth",bi="selectMonth",mn="selectYear",_n="prevViewDisabled",he="nextViewDisabled",De="weekDays",vn="selectedDate",Qn="selectedDateRange",wi="animationend",Dn="myDpAnimation",qn=["Fade","ScaleTop","ScaleCenter","Rotate","FlipDiagonal","Own"],yn="tabindex";let Ce=(()=>{class y{constructor(){this.weekDays=["su","mo","tu","we",Ue,"fr","sa"]}isDateValid(a,h,g){const{dateFormat:x,minYear:I,maxYear:Y,monthLabels:H}=h,G=this.resetDate(),L=[31,28,31,30,31,30,31,31,30,31,30,31],tt=-1!==x.indexOf("mmm"),yt=x.match(/[^(d#my)]{1,}/g);if(!a||""===a)return G;const Bt=this.getDateValue(a,x,yt);let kt=0,St=0,Rt=0;for(let Lt of Bt){if(-1!=Lt.format.indexOf("##")){const Tn=parseInt(Lt.value.replace(/\D/g,"")),Ke=Lt.value.replace(/[0-9]/g,"");if(this.getOrdinal(Tn)!==Ke)return G;Lt.value=Lt.value.replace("st","").replace("nd","").replace("rd","").replace(Ue,""),Lt.format=Lt.format.replace("##","")}const{value:ge,format:Gt}=Lt;if(ge&&/^\d+$/.test(ge)&&0===Number(ge))return G;-1!==Gt.indexOf(wn)?kt=this.getNumberByValue(Lt):-1!==Gt.indexOf("m")?St=tt?this.getMonthNumberByMonthName(Lt,H):this.getNumberByValue(Lt):-1!==Gt.indexOf("d")&&(Rt=this.getNumberByValue(Lt))}const{validateDisabledDates:Ne,selectedValue:we}=g;kt=0===kt&&we?we.year:kt,St=0===St&&we?we.month:St,Rt=0===Rt&&we?we.day:Rt;const Le=this.getToday();if(0===kt&&(0!==St||0!==Rt)&&(kt=Le.year),0===St&&(0!==kt||0!==Rt)&&(St=Le.month),0===Rt&&(0!==kt||0!==St)&&(Rt=Le.day),-1!==St&&-1!==Rt&&-1!==kt){if(kt<I||kt>Y||St<1||St>12)return G;const Lt={year:kt,month:St,day:Rt};return Ne&&this.isDisabledDate(Lt,h).disabled||((kt%400==0||kt%100!=0&&kt%4==0)&&(L[1]=29),Rt<1||Rt>L[St-1])?G:Lt}return G}isDateValidDateRange(a,h,g){let x={begin:this.resetDate(),end:this.resetDate()};if(a&&a.length){const I=a.split(h.dateRangeDatesDelimiter);if(I&&2===I.length){const[Y,H]=I;let{selectedValue:G}=g;G&&(g.selectedValue=G.begin);const L=this.isDateValid(Y,h,g);if(this.isInitializedDate(L)){G&&(g.selectedValue=G.end);const tt=this.isDateValid(H,h,g);this.isInitializedDate(tt)&&this.isDateSameOrEarlier(L,tt)&&(x={begin:L,end:tt})}}}return x}getDateValue(a,h,g){let x="";if(g)for(const L of g)-1===x.indexOf(L)&&(x+=L);const I=new RegExp("["+x+"]"),Y=a.split(I),H=h.split(I),G=[];for(let L=0;L<H.length;L++)-1!==H[L].indexOf(wn)&&G.push({value:Y[L],format:H[L]}),-1!==H[L].indexOf("m")&&G.push({value:Y[L],format:H[L]}),-1!==H[L].indexOf("d")&&G.push({value:Y[L],format:H[L]});return G}getMonthNumberByMonthName(a,h){if(a.value)for(let g=1;g<=12;g++)if(a.value.toLowerCase()===h[g].toLowerCase())return g;return-1}getNumberByValue(a){if(!/^\d+$/.test(a.value))return-1;let h=Number(a.value);return(1===a.format.length&&1!==a.value.length&&h<10||1===a.format.length&&2!==a.value.length&&h>=10||2===a.format.length&&a.value.length>2)&&(h=-1),h}parseDefaultMonth(a){const h={monthTxt:"",monthNbr:0,year:0};if(""!==a){const g=a.split(a.match(/[^0-9]/)[0]);h.monthNbr=Number(2===g[0].length?g[0]:g[1]),h.year=Number(2===g[0].length?g[1]:g[0])}return h}isDisabledDate(a,h){const{minYear:g,maxYear:x,disableUntil:I,disableSince:Y,disableWeekends:H,disableDates:G,disableDateRanges:L,disableWeekdays:tt,enableDates:yt}=h;if(this.dateMatchToDates(a,yt))return this.getDisabledValue(!1,"");if(a.year<g&&12===a.month||a.year>x&&1===a.month)return this.getDisabledValue(!0,"");const Bt=G;if(Bt.find(Rt=>Rt.dates)){for(const Rt of Bt)if(this.dateMatchToDates(a,Rt.dates))return this.getDisabledValue(!0,Rt.styleClass)}else if(this.dateMatchToDates(a,Bt))return this.getDisabledValue(!0,"");if(this.isDisabledByDisableUntil(a,I))return this.getDisabledValue(!0,"");if(this.isDisabledByDisableSince(a,Y))return this.getDisabledValue(!0,"");if(H){const Rt=this.getDayNumber(a);if(0===Rt||6===Rt)return this.getDisabledValue(!0,"")}const St=this.getDayNumber(a);if(tt.length>0)for(const Rt of tt)if(St===this.getWeekdayIndex(Rt))return this.getDisabledValue(!0,"");return this.isDisabledByDisableDateRange(a,a,L)?this.getDisabledValue(!0,""):this.getDisabledValue(!1,"")}getDisabledValue(a,h){return{disabled:a,styleClass:h}}dateMatchToDates(a,h){for(const g of h)if(!(0!==g.year&&g.year!==a.year||0!==g.month&&g.month!==a.month||g.day!==a.day))return!0;return!1}isDisabledMonth(a,h,g){const{disableUntil:x,disableSince:I,disableDateRanges:Y,enableDates:H}=g,G={year:a,month:h,day:this.datesInMonth(h,a)},L={year:a,month:h,day:1};return!this.isDatesEnabled(L,G,H)&&!!(this.isDisabledByDisableUntil(G,x)||this.isDisabledByDisableSince(L,I)||this.isDisabledByDisableDateRange(L,G,Y))}isDisabledYear(a,h){const{disableUntil:g,disableSince:x,disableDateRanges:I,enableDates:Y,minYear:H,maxYear:G}=h,L={year:a,month:12,day:31},tt={year:a,month:1,day:1};return!this.isDatesEnabled(tt,L,Y)&&!!(this.isDisabledByDisableUntil(L,g)||this.isDisabledByDisableSince(tt,x)||this.isDisabledByDisableDateRange(tt,L,I)||a<H||a>G)}isDisabledByDisableUntil(a,h){return this.isInitializedDate(h)&&this.getTimeInMilliseconds(a)<=this.getTimeInMilliseconds(h)}isDisabledByDisableSince(a,h){return this.isInitializedDate(h)&&this.getTimeInMilliseconds(a)>=this.getTimeInMilliseconds(h)}isPastDatesEnabled(a,h){for(const g of h)if(this.getTimeInMilliseconds(g)<=this.getTimeInMilliseconds(a))return!0;return!1}isFutureDatesEnabled(a,h){for(const g of h)if(this.getTimeInMilliseconds(g)>=this.getTimeInMilliseconds(a))return!0;return!1}isDatesEnabled(a,h,g){for(const x of g)if(this.getTimeInMilliseconds(x)>=this.getTimeInMilliseconds(a)&&this.getTimeInMilliseconds(x)<=this.getTimeInMilliseconds(h))return!0;return!1}isDisabledByDisableDateRange(a,h,g){const x=this.getTimeInMilliseconds(a),I=this.getTimeInMilliseconds(h);for(const Y of g)if(this.isInitializedDate(Y.begin)&&this.isInitializedDate(Y.end)&&x>=this.getTimeInMilliseconds(Y.begin)&&I<=this.getTimeInMilliseconds(Y.end))return!0;return!1}isMarkedDate(a,h){const{markDates:g,markWeekends:x}=h;for(const I of g)if(this.dateMatchToDates(a,I.dates))return this.getMarkedValue(!0,I.color,I.styleClass);if(x&&x.marked){const I=this.getDayNumber(a);if(0===I||6===I)return this.getMarkedValue(!0,x.color,"")}return this.getMarkedValue(!1,"","")}getMarkedValue(a,h,g){return{marked:a,color:h||"",styleClass:g||""}}isHighlightedDate(a,h){const{sunHighlight:g,satHighlight:x,highlightDates:I}=h,Y=this.getDayNumber(a);return!!(g&&0===Y||x&&6===Y||this.dateMatchToDates(a,I))}getWeekNumber(a){const h=new Date(a.year,a.month-1,a.day,0,0,0,0);return h.setDate(h.getDate()+(0===h.getDay()?-3:4-h.getDay())),Math.round((h.getTime()-new Date(h.getFullYear(),0,4).getTime())/864e5/7)+1}getDateModel(a,h,g,x,I,Y=""){let H=null,G=null;return a?H={date:a,jsDate:this.myDateToJsDate(a),formatted:Y.length?Y:this.formatDate(a,g,x),epoc:this.getEpocTime(a)}:G={beginDate:h.begin,beginJsDate:this.myDateToJsDate(h.begin),beginEpoc:this.getEpocTime(h.begin),endDate:h.end,endJsDate:this.myDateToJsDate(h.end),endEpoc:this.getEpocTime(h.end),formatted:this.formatDate(h.begin,g,x)+I+this.formatDate(h.end,g,x)},{isRange:null===a,singleDate:H,dateRange:G}}formatDate(a,h,g){let x=h.replace(wn,String(a.year));return x=-1!==h.indexOf("mmm")?x.replace("mmm",g[a.month]):-1!==h.indexOf("mm")?x.replace("mm",this.preZero(a.month)):x.replace("m",String(a.month)),x=-1!==h.indexOf("dd")?x.replace("dd",this.preZero(a.day)):x.replace("d",String(a.day)),-1!==h.indexOf("##")&&(x=x.replace("##",this.getOrdinal(a.day))),x}getOrdinal(a){if(a>3&&a<21)return Ue;switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return Ue}}getFormattedDate(a){return a.isRange?a.dateRange.formatted:a.singleDate.formatted}preZero(a){return a<10?"0"+a:String(a)}isInitializedDate(a){return 0!==a.year&&0!==a.month&&0!==a.day}isDateEarlier(a,h){return this.getTimeInMilliseconds(a)<this.getTimeInMilliseconds(h)}isDateSameOrEarlier(a,h){return this.getTimeInMilliseconds(a)<=this.getTimeInMilliseconds(h)}isDateSame(a,h){return this.getTimeInMilliseconds(a)===this.getTimeInMilliseconds(h)}isDateRangeBeginOrEndSame(a,h){const g=this.getTimeInMilliseconds(h);return this.getTimeInMilliseconds(a.begin)===g||this.getTimeInMilliseconds(a.end)===g}isDateRangeBegin(a,h){const g=this.getTimeInMilliseconds(h);return this.getTimeInMilliseconds(a.begin)===g}isDateRangeEnd(a,h){const g=this.getTimeInMilliseconds(h);return this.getTimeInMilliseconds(a.end)===g}isDateInRange(a,h){return!(!this.isInitializedDate(h.begin)||!this.isInitializedDate(h.end))&&this.isDateSameOrEarlier(h.begin,a)&&this.isDateSameOrEarlier(a,h.end)}resetDate(){return{year:0,month:0,day:0}}getTimeInMilliseconds(a){return this.myDateToJsDate(a).getTime()}getToday(){const a=new Date;return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}}getDayNumber(a){return new Date(a.year,a.month-1,a.day,0,0,0,0).getDay()}getWeekdayIndex(a){return this.weekDays.indexOf(a)}getEpocTime(a){return Math.round(this.getTimeInMilliseconds(a)/1e3)}jsDateToMyDate(a){return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}}myDateToJsDate(a){const{year:h,month:g,day:x}=a;return new Date(h,g-1,x,0,0,0,0)}datesInMonth(a,h){return new Date(h,a,0).getDate()}datesInPrevMonth(a,h){const g=this.getJsDate(h,a,1);return g.setMonth(g.getMonth()-1),this.datesInMonth(g.getMonth()+1,g.getFullYear())}getJsDate(a,h,g){return new Date(a,h-1,g,0,0,0,0)}getSelectedValue(a,h){if(!a)return null;if(h){const{beginDate:g,endDate:x}=a;return{begin:g,end:x}}return a.date}getKeyCodeFromEvent(a){let h=a.key||a.keyCode||a.which;return this.checkKeyName(h,se.enter)||h===mt.enter?mt.enter:this.checkKeyName(h,se.esc)||h===mt.esc?mt.esc:this.checkKeyName(h,se.space)||h===mt.space?mt.space:this.checkKeyName(h,se.leftArrow)||h===mt.leftArrow?mt.leftArrow:this.checkKeyName(h,se.upArrow)||h===mt.upArrow?mt.upArrow:this.checkKeyName(h,se.rightArrow)||h===mt.rightArrow?mt.rightArrow:this.checkKeyName(h,se.downArrow)||h===mt.downArrow?mt.downArrow:this.checkKeyName(h,se.tab)||h===mt.tab?mt.tab:this.checkKeyName(h,se.shift)||h===mt.shift?mt.shift:null}checkKeyName(a,h){return-1!==h.split("|").indexOf(a)}static#t=this.\u0275fac=function(h){return new(h||y)};static#e=this.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac})}return y})();var le=function(y){return y[y.prev=1]="prev",y[y.curr=2]="curr",y[y.next=3]="next",y}(le||{}),Fe=function(y){return y[y.Date=1]="Date",y[y.Month=2]="Month",y[y.Year=3]="Year",y}(Fe||{}),Se=function(y){return y[y.None=0]="None",y[y.Fade=1]="Fade",y[y.ScaleTop=2]="ScaleTop",y[y.ScaleCenter=3]="ScaleCenter",y[y.Rotate=4]="Rotate",y[y.FlipDiagonal=5]="FlipDiagonal",y[y.Own=6]="Own",y}(Se||{}),xe=function(y){return y[y.PrevBtnClick=1]="PrevBtnClick",y[y.NextBtnClick=2]="NextBtnClick",y[y.MonthBtnClick=3]="MonthBtnClick",y[y.YearBtnClick=4]="YearBtnClick",y}(xe||{});let ti=(()=>{class y{constructor(){this.prevNavigateBtnClicked=new p.vpe,this.nextNavigateBtnClicked=new p.vpe,this.monthViewBtnClicked=new p.vpe,this.yearViewBtnClicked=new p.vpe}ngOnChanges(a){a.hasOwnProperty(be)&&(this.opts=a[be].currentValue),a.hasOwnProperty(Xn)&&(this.yearsDuration=a[Xn].currentValue),a.hasOwnProperty(en)&&(this.visibleMonth=a[en].currentValue),a.hasOwnProperty(bi)&&(this.selectMonth=a[bi].currentValue),a.hasOwnProperty(mn)&&(this.selectYear=a[mn].currentValue),a.hasOwnProperty(_n)&&(this.prevViewDisabled=a[_n].currentValue),a.hasOwnProperty(he)&&(this.nextViewDisabled=a[he].currentValue)}onPrevNavigateBtnClicked(a){a.stopPropagation(),this.opts.rtl?this.nextNavigateBtnClicked.emit():this.prevNavigateBtnClicked.emit()}onNextNavigateBtnClicked(a){a.stopPropagation(),this.opts.rtl?this.prevNavigateBtnClicked.emit():this.nextNavigateBtnClicked.emit()}onMonthViewBtnClicked(a){a.stopPropagation(),this.monthViewBtnClicked.emit()}onYearViewBtnClicked(a){a.stopPropagation(),this.yearViewBtnClicked.emit()}static#t=this.\u0275fac=function(h){return new(h||y)};static#e=this.\u0275cmp=p.Xpm({type:y,selectors:[["lib-selection-bar"]],inputs:{opts:"opts",yearsDuration:"yearsDuration",visibleMonth:"visibleMonth",selectMonth:"selectMonth",selectYear:"selectYear",prevViewDisabled:"prevViewDisabled",nextViewDisabled:"nextViewDisabled"},outputs:{prevNavigateBtnClicked:"prevNavigateBtnClicked",nextNavigateBtnClicked:"nextNavigateBtnClicked",monthViewBtnClicked:"monthViewBtnClicked",yearViewBtnClicked:"yearViewBtnClicked"},features:[p.TTD],decls:9,vars:19,consts:[[1,"myDpMonthYearSelBar"],[1,"myDpPrevBtn"],["type","button",1,"myDpHeaderBtn","myDpIcon","myDpIconLeftArrow","myDpHeaderBtnEnabled",3,"tabindex","disabled","ngClass","click"],[1,"myDpMonthYearText"],["type","button","class","myDpHeaderBtn myDpMonthBtn",3,"tabindex","ngClass","click",4,"ngIf"],["type","button",1,"myDpHeaderBtn","myDpYearBtn",3,"tabindex","ngClass","click"],[1,"myDpNextBtn"],["type","button",1,"myDpHeaderBtn","myDpIcon","myDpIconRightArrow","myDpHeaderBtnEnabled",3,"tabindex","disabled","ngClass","click"],["type","button",1,"myDpHeaderBtn","myDpMonthBtn",3,"tabindex","ngClass","click"]],template:function(h,g){1&h&&(p.TgZ(0,"div",0)(1,"div",1)(2,"button",2),p.NdJ("click",function(I){return g.onPrevNavigateBtnClicked(I)}),p.qZA()(),p.TgZ(3,"div",3),p.YNc(4,i,2,6,"button",4),p.TgZ(5,"button",5),p.NdJ("click",function(I){return g.opts.yearSelector&&g.onYearViewBtnClicked(I)}),p._uU(6),p.qZA()(),p.TgZ(7,"div",6)(8,"button",7),p.NdJ("click",function(I){return g.onNextNavigateBtnClicked(I)}),p.qZA()()()),2&h&&(p.xp6(2),p.s9C("tabindex",g.prevViewDisabled?"-1":"0"),p.Q6J("disabled",g.prevViewDisabled)("ngClass",p.VKq(12,F,g.prevViewDisabled)),p.uIk("aria-label",g.opts.ariaLabelPrevMonth),p.xp6(2),p.Q6J("ngIf",!g.selectYear),p.xp6(),p.s9C("tabindex",g.opts.yearSelector?"0":"-1"),p.Q6J("ngClass",p.WLB(14,nt,g.opts.yearSelector,!g.opts.yearSelector)),p.xp6(),p.Oqu(g.selectYear?g.yearsDuration:g.visibleMonth.year),p.xp6(2),p.s9C("tabindex",g.nextViewDisabled?"-1":"0"),p.Q6J("disabled",g.nextViewDisabled)("ngClass",p.VKq(17,F,g.nextViewDisabled)),p.uIk("aria-label",g.opts.ariaLabelNextMonth))},dependencies:[M.mk,M.O5],encapsulation:2})}return y})();var Ve=function(y){return y[y.Date=1]="Date",y[y.Month=2]="Month",y[y.Year=3]="Year",y}(Ve||{});let Gi=(()=>{class y{constructor(a){this.utilService=a,this.dayCellClicked=new p.vpe,this.dayCellKeyDown=new p.vpe,this.viewActivated=new p.vpe,this.prevMonthId=le.prev,this.currMonthId=le.curr,this.nextMonthId=le.next}ngOnChanges(a){a.hasOwnProperty(be)&&(this.opts=a[be].currentValue),a.hasOwnProperty("dates")&&(this.dates=a.dates.currentValue),a.hasOwnProperty(De)&&(this.weekDays=a[De].currentValue),a.hasOwnProperty(vn)&&(this.selectedDate=a[vn].currentValue),a.hasOwnProperty(Qn)&&(this.selectedDateRange=a[Qn].currentValue)}ngAfterViewInit(){this.viewActivated.emit(Ve.Date)}onDayCellClicked(a,h){a.stopPropagation(),!h.disabledDate.disabled&&this.dayCellClicked.emit(h)}onDayCellKeyDown(a,h){const g=this.utilService.getKeyCodeFromEvent(a);g!==mt.tab&&(a.preventDefault(),g===mt.enter||g===mt.space?this.onDayCellClicked(a,h):this.opts.moveFocusByArrowKeys&&this.dayCellKeyDown.emit(a))}onDayCellMouseEnter(a){if(this.utilService.isInitializedDate(this.selectedDateRange.begin)&&!this.utilService.isInitializedDate(this.selectedDateRange.end))for(const h of this.dates)for(const g of h.week)g.range=this.utilService.isDateSameOrEarlier(this.selectedDateRange.begin,g.dateObj)&&this.utilService.isDateSameOrEarlier(g.dateObj,a.dateObj)}onDayCellMouseLeave(){for(const a of this.dates)for(const h of a.week)h.range=!1}isDateInRange(a){return this.utilService.isDateInRange(a,this.selectedDateRange)}isDateSame(a){return this.utilService.isDateSame(this.selectedDate,a)}isDateRangeBeginOrEndSame(a){return this.utilService.isDateRangeBeginOrEndSame(this.selectedDateRange,a)}isDateRangeBegin(a){return this.utilService.isDateRangeBegin(this.selectedDateRange,a)}isDateRangeEnd(a){return this.utilService.isDateRangeEnd(this.selectedDateRange,a)}isDaySelected(a){return!this.opts.dateRange&&this.isDateSame(a.dateObj)||this.opts.dateRange&&this.isDateRangeBeginOrEndSame(a.dateObj)}static#t=this.\u0275fac=function(h){return new(h||y)(p.Y36(Ce))};static#e=this.\u0275cmp=p.Xpm({type:y,selectors:[["lib-day-view"]],inputs:{opts:"opts",dates:"dates",weekDays:"weekDays",selectedDate:"selectedDate",selectedDateRange:"selectedDateRange",viewChanged:"viewChanged"},outputs:{dayCellClicked:"dayCellClicked",dayCellKeyDown:"dayCellKeyDown",viewActivated:"viewActivated"},features:[p._Bn([Ce]),p.TTD],decls:7,vars:9,consts:[[1,"myDpCalTable",3,"ngClass"],["class","myDpWeekDayTitle myDpWeekDayTitleWeekNbr",4,"ngIf"],["class","myDpWeekDayTitle","scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"myDpWeekDayTitle","myDpWeekDayTitleWeekNbr"],["scope","col",1,"myDpWeekDayTitle"],["class","myDpDaycellWeekNbr",4,"ngIf"],[3,"id","class","ngClass","click","keydown","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"myDpDaycellWeekNbr"],[3,"id","ngClass","click","keydown","mouseenter","mouseleave"],["class","myDpMarkDate",3,"ngStyle",4,"ngIf"],[1,"myDpDayValue",3,"ngClass"],[1,"myDpMarkDate",3,"ngStyle"]],template:function(h,g){1&h&&(p.TgZ(0,"table",0)(1,"thead")(2,"tr"),p.YNc(3,ct,2,0,"th",1)(4,Mt,2,1,"th",2),p.qZA()(),p.TgZ(5,"tbody"),p.YNc(6,Tt,3,2,"tr",3),p.qZA()()),2&h&&(p.Q6J("ngClass",p.l5B(4,z,g.opts.rtl,g.opts.showFooterToday,!g.opts.showFooterToday,g.opts.viewChangeAnimation&&g.viewChanged)),p.xp6(3),p.Q6J("ngIf",g.opts.showWeekNumbers&&"mo"===g.opts.firstDayOfWeek),p.xp6(),p.Q6J("ngForOf",g.weekDays),p.xp6(2),p.Q6J("ngForOf",g.dates))},dependencies:[M.mk,M.sg,M.O5,M.PC,M.uU],encapsulation:2})}return y})(),Zi=(()=>{class y{constructor(a){this.utilService=a,this.monthCellClicked=new p.vpe,this.monthCellKeyDown=new p.vpe,this.viewActivated=new p.vpe}ngOnChanges(a){a.hasOwnProperty(be)&&(this.opts=a[be].currentValue),a.hasOwnProperty("months")&&(this.months=a.months.currentValue)}ngAfterViewInit(){this.viewActivated.emit(Ve.Month)}onMonthCellClicked(a,h){a.stopPropagation(),!h.disabled&&this.monthCellClicked.emit(h)}onMonthCellKeyDown(a,h){const g=this.utilService.getKeyCodeFromEvent(a);g!==mt.tab&&(a.preventDefault(),g===mt.enter||g===mt.space?this.onMonthCellClicked(a,h):this.opts.moveFocusByArrowKeys&&this.monthCellKeyDown.emit(a))}static#t=this.\u0275fac=function(h){return new(h||y)(p.Y36(Ce))};static#e=this.\u0275cmp=p.Xpm({type:y,selectors:[["lib-month-view"]],inputs:{opts:"opts",months:"months",viewChanged:"viewChanged"},outputs:{monthCellClicked:"monthCellClicked",monthCellKeyDown:"monthCellKeyDown",viewActivated:"viewActivated"},features:[p._Bn([Ce]),p.TTD],decls:3,vars:7,consts:[[1,"myDpMonthTable",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"id","class","ngClass","click","keydown",4,"ngFor","ngForOf"],[3,"id","ngClass","click","keydown"],["class","myDpMonthNbr","aria-hidden","true",4,"ngIf"],[1,"myDpMonthValue",3,"ngClass"],["aria-hidden","true",1,"myDpMonthNbr"]],template:function(h,g){1&h&&(p.TgZ(0,"table",0)(1,"tbody"),p.YNc(2,K,2,1,"tr",1),p.qZA()()),2&h&&(p.Q6J("ngClass",p.l5B(2,z,g.opts.rtl,g.opts.showFooterToday,!g.opts.showFooterToday,g.opts.viewChangeAnimation&&g.viewChanged)),p.xp6(2),p.Q6J("ngForOf",g.months))},dependencies:[M.mk,M.sg,M.O5,M.uU],encapsulation:2})}return y})(),Sn=(()=>{class y{constructor(a){this.utilService=a,this.yearCellClicked=new p.vpe,this.yearCellKeyDown=new p.vpe,this.viewActivated=new p.vpe}ngOnChanges(a){a.hasOwnProperty(be)&&(this.opts=a[be].currentValue),a.hasOwnProperty("years")&&(this.years=a.years.currentValue)}ngAfterViewInit(){this.viewActivated.emit(Ve.Year)}onYearCellClicked(a,h){a.stopPropagation(),!h.disabled&&this.yearCellClicked.emit(h)}onYearCellKeyDown(a,h){const g=this.utilService.getKeyCodeFromEvent(a);g!==mt.tab&&(a.preventDefault(),g===mt.enter||g===mt.space?this.onYearCellClicked(a,h):this.opts.moveFocusByArrowKeys&&this.yearCellKeyDown.emit(a))}static#t=this.\u0275fac=function(h){return new(h||y)(p.Y36(Ce))};static#e=this.\u0275cmp=p.Xpm({type:y,selectors:[["lib-year-view"]],inputs:{opts:"opts",years:"years",viewChanged:"viewChanged"},outputs:{yearCellClicked:"yearCellClicked",yearCellKeyDown:"yearCellKeyDown",viewActivated:"viewActivated"},features:[p._Bn([Ce]),p.TTD],decls:3,vars:7,consts:[[1,"myDpYearTable",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"id","class","ngClass","click","keydown",4,"ngFor","ngForOf"],[3,"id","ngClass","click","keydown"],[1,"myDpYearValue",3,"ngClass"]],template:function(h,g){1&h&&(p.TgZ(0,"table",0)(1,"tbody"),p.YNc(2,pt,2,1,"tr",1),p.qZA()()),2&h&&(p.Q6J("ngClass",p.l5B(2,z,g.opts.rtl,g.opts.showFooterToday,!g.opts.showFooterToday,g.opts.viewChangeAnimation&&g.viewChanged)),p.xp6(2),p.Q6J("ngForOf",g.years))},dependencies:[M.mk,M.sg,M.uU],encapsulation:2})}return y})(),ei=(()=>{class y{constructor(a){this.utilService=a,this.footerBarTxtClicked=new p.vpe,this.footerBarTxt=""}ngOnChanges(a){if(a.hasOwnProperty(be)){this.opts=a[be].currentValue;const{dateFormat:h,monthLabels:g,todayTxt:x}=this.opts,I=this.utilService.getToday();this.footerBarTxt=x+(x.length>0?" ":"")+this.utilService.formatDate(I,h,g)}}onFooterBarTxtClicked(){this.footerBarTxtClicked.emit()}static#t=this.\u0275fac=function(h){return new(h||y)(p.Y36(Ce))};static#e=this.\u0275cmp=p.Xpm({type:y,selectors:[["lib-footer-bar"]],inputs:{opts:"opts"},outputs:{footerBarTxtClicked:"footerBarTxtClicked"},features:[p._Bn([Ce]),p.TTD],decls:3,vars:1,consts:[[1,"myDpFooterBar"],["type","button",1,"myDpHeaderBtn","myDpFooterBtn",3,"click"]],template:function(h,g){1&h&&(p.TgZ(0,"div",0)(1,"button",1),p.NdJ("click",function(){return g.onFooterBarTxtClicked()}),p._uU(2),p.qZA()()),2&h&&(p.xp6(2),p.Oqu(g.footerBarTxt))},encapsulation:2})}return y})(),bn=(()=>{class y{constructor(a){this.el=a}ngAfterViewInit(){const{inline:a,selectorHeight:h,selectorWidth:g,selectorPos:x}=this.libAngularMyDatePickerCalendar,{style:I}=this.el.nativeElement;I.height=h,I.width=g,I.top=a?"0":x.top,I.left=a?"0":x.left}static#t=this.\u0275fac=function(h){return new(h||y)(p.Y36(p.SBq))};static#e=this.\u0275dir=p.lG2({type:y,selectors:[["","libAngularMyDatePickerCalendar",""]],inputs:{libAngularMyDatePickerCalendar:"libAngularMyDatePickerCalendar"}})}return y})(),Oi=(()=>{class y{constructor(a,h,g,x){this.elem=a,this.renderer=h,this.cdr=g,this.utilService=x,this.position="static",this.visibleMonth={monthTxt:"",monthNbr:0,year:0},this.selectedMonth={monthNbr:0,year:0},this.selectedDate={year:0,month:0,day:0},this.selectedDateRange={begin:{year:0,month:0,day:0},end:{year:0,month:0,day:0}},this.weekDays=[],this.dates=[],this.months=[],this.years=[],this.yearsDuration="",this.dayIdx=0,this.weekDayOpts=["su","mo","tu","we",Ue,"fr","sa"],this.selectMonth=!1,this.selectYear=!1,this.viewChanged=!1,this.selectorPos=null,this.prevViewDisabled=!1,this.nextViewDisabled=!1,this.clickListener=h.listen(a.nativeElement,Kn,I=>{(this.opts.monthSelector||this.opts.yearSelector)&&I.target&&this.resetMonthYearSelect()})}ngAfterViewInit(){const{stylesData:a,calendarAnimation:h,inline:g}=this.opts;if(a.styles.length){const x=this.renderer.createElement("style");this.renderer.appendChild(x,this.renderer.createText(a.styles)),this.renderer.appendChild(this.styleEl.nativeElement,x)}h.in!==Se.None&&this.setCalendarAnimation(h,!0),g||this.focusToSelector()}ngOnDestroy(){this.clickListener()}initializeComponent(a,h,g,x,I,Y,H,G,L,tt){this.opts=a,this.selectorPos=I,this.dateChanged=Y,this.calendarViewChanged=H,this.rangeDateSelection=G,this.viewActivated=L,this.closedByEsc=tt;const{defaultView:yt,firstDayOfWeek:Bt,dayLabels:kt}=a;if(this.weekDays.length=0,this.dayIdx=this.weekDayOpts.indexOf(Bt),-1!==this.dayIdx){let St=this.dayIdx;for(let Rt=0;Rt<this.weekDayOpts.length;Rt++)this.weekDays.push(kt[this.weekDayOpts[St]]),St="sa"===this.weekDayOpts[St]?0:St+1}this.initializeView(h,g,x),this.setCalendarVisibleMonth(),this.setDefaultView(yt)}initializeView(a,h,g){const{dateRange:x}=this.opts,I=this.utilService.getToday();this.selectedMonth={monthNbr:I.month,year:I.year};const{defMonth:Y,overrideSelection:H}=a;Y&&Y.length&&(this.selectedMonth=this.utilService.parseDefaultMonth(Y));let G=null;if(x){G={validateDisabledDates:!1,selectedValue:this.utilService.getSelectedValue(h,x)};const{begin:L,end:tt}=this.utilService.isDateValidDateRange(g,this.opts,G);this.utilService.isInitializedDate(L)&&this.utilService.isInitializedDate(tt)&&(this.selectedDateRange={begin:L,end:tt},H||(this.selectedMonth={monthNbr:L.month,year:L.year}))}else{G={validateDisabledDates:!1,selectedValue:this.utilService.getSelectedValue(h,x)};const L=this.utilService.isDateValid(g,this.opts,G);this.utilService.isInitializedDate(L)&&(this.selectedDate=L,H||(this.selectedMonth={monthNbr:L.month,year:L.year}))}}refreshComponent(a,h,g,x){this.opts=a;const{defaultView:I}=a;this.initializeView(h,g,x),this.setCalendarVisibleMonth(),this.setDefaultView(I)}headerAction(a){const{monthSelector:h,yearSelector:g}=this.opts;a===xe.PrevBtnClick?this.prevViewDisabled||this.onPrevNavigateBtnClicked():a===xe.NextBtnClick?this.nextViewDisabled||this.onNextNavigateBtnClicked():a===xe.MonthBtnClick?h&&this.onMonthViewBtnClicked():a===xe.YearBtnClick&&g&&this.onYearViewBtnClicked()}setDefaultView(a){a===Fe.Month?this.monthViewBtnClicked():a===Fe.Year&&this.yearViewBtnClicked()}setCalendarAnimation(a,h){const{nativeElement:g}=this.selectorEl,{renderer:x}=this,I=Dn+qn[a.in-1];if(h)x.addClass(g,I+"In");else{const Y=Dn+qn[a.out-1];x.removeClass(g,I+"In"),x.addClass(g,Y+"Out")}}resetDateValue(){this.opts.dateRange?(this.selectedDateRange.begin=this.utilService.resetDate(),this.selectedDateRange.end=this.utilService.resetDate()):this.selectedDate=this.utilService.resetDate()}clearDate(){const{month:a,year:h}=this.utilService.getToday();this.selectedMonth={monthNbr:a,year:h},this.resetDateValue(),this.setCalendarVisibleMonth(),this.resetMonthYearSelect()}resetMonthYearSelect(){this.selectMonth=!1,this.selectYear=!1}onMonthViewBtnClicked(){this.viewChanged=!0,this.monthViewBtnClicked()}monthViewBtnClicked(){if(this.selectMonth=!this.selectMonth,this.selectYear=!1,this.cdr.detectChanges(),this.selectMonth)this.generateMonths();else{const{year:a,monthNbr:h}=this.selectedMonth;this.visibleMonth={monthTxt:this.opts.monthLabels[h],monthNbr:h,year:a},this.generateCalendar(h,a,!0)}}onMonthCellClicked(a){this.viewChanged=!0;const{year:h,monthNbr:g}=this.visibleMonth,x=a.nbr!==g;this.visibleMonth={monthTxt:this.opts.monthLabels[a.nbr],monthNbr:a.nbr,year:h},this.selectedMonth.year=h,this.generateCalendar(a.nbr,h,x),this.selectMonth=!1,this.focusToSelector()}onMonthCellKeyDown(a){const{sourceRow:h,sourceCol:g}=this.getSourceRowAndColumnFromEvent(a),{moveFocus:x,targetRow:I,targetCol:Y,direction:H}=this.getTargetFocusRowAndColumn(a,h,g,3,2);x&&this.focusCellElement("m",I,Y,H,2)}onYearViewBtnClicked(){this.viewChanged=!0,this.yearViewBtnClicked()}yearViewBtnClicked(){if(this.selectYear=!this.selectYear,this.selectMonth=!1,this.cdr.detectChanges(),this.selectYear)this.generateYears(this.visibleMonth.year);else{const{year:a,monthNbr:h}=this.selectedMonth;this.visibleMonth={monthTxt:this.opts.monthLabels[h],monthNbr:h,year:a},this.generateCalendar(h,a,!0)}}onYearCellClicked(a){this.viewChanged=!0;const{year:h,monthNbr:g,monthTxt:x}=this.visibleMonth,I=a.year!==h;this.visibleMonth={monthTxt:x,monthNbr:g,year:a.year},this.selectedMonth.year=a.year,this.generateCalendar(g,a.year,I),this.selectYear=!1,this.focusToSelector()}onYearCellKeyDown(a){const{sourceRow:h,sourceCol:g}=this.getSourceRowAndColumnFromEvent(a),{moveFocus:x,targetRow:I,targetCol:Y,direction:H}=this.getTargetFocusRowAndColumn(a,h,g,4,4);x&&this.focusCellElement("y",I,Y,H,4)}generateMonths(){const a=this.utilService.getToday();this.months.length=0;const{year:h,monthNbr:g}=this.visibleMonth,{rtl:x,monthLabels:I}=this.opts;let Y=0;for(let H=1;H<=12;H+=3){const G=[];let L=x?2:0;for(let tt=H;tt<H+3;tt++){const yt=this.utilService.isDisabledMonth(h,tt,this.opts);G.push({nbr:tt,year:h,name:I[tt],currMonth:tt===a.month&&h===a.year,selected:tt===g&&h===this.selectedMonth.year,disabled:yt,row:Y,col:x?L--:L++})}Y++,this.months.push(G)}this.setMonthViewHeaderBtnDisabledState(h)}generateYears(a){const{minYear:h,maxYear:g,rtl:x}=this.opts;let I=a-12;a<h&&(I=h),a+25>g&&(I=g-24);const{year:Y}=this.visibleMonth;this.years.length=0;const H=this.utilService.getToday();let G=0;for(let yt=I;yt<I+25;yt+=5){const Bt=[];let kt=x?4:0;for(let St=yt;St<yt+5;St++){const Rt=this.utilService.isDisabledYear(St,this.opts);Bt.push({year:St,currYear:St===H.year,selected:St===Y,disabled:Rt,row:G,col:x?kt--:kt++})}G++,this.years.push(Bt)}const L=this.getYearValueByRowAndCol(0,0),tt=L+24;this.yearsDuration=(x?tt:L)+" - "+(x?L:tt),this.setYearViewHeaderBtnDisabledState(L,tt)}onTodayFooterClicked(){const a=this.utilService.getToday();this.selectDate(a)}getYearValueByRowAndCol(a,h){const{years:g}=this;if(!g||0===g.length){const{year:x}=this.utilService.getToday();return x}return g[a][h].year}setCalendarVisibleMonth(){const{year:a,monthNbr:h}=this.selectedMonth;this.visibleMonth={monthTxt:this.opts.monthLabels[h],monthNbr:h,year:a},this.generateCalendar(h,a,!0)}onViewActivated(a){this.viewActivated(a)}onPrevNavigateBtnClicked(){this.selectMonth||this.selectYear?this.selectMonth?(this.visibleMonth.year--,this.generateMonths()):this.selectYear&&this.generateYears(this.getYearValueByRowAndCol(2,2)-25):this.setDateViewMonth(!1)}onNextNavigateBtnClicked(){this.selectMonth||this.selectYear?this.selectMonth?(this.visibleMonth.year++,this.generateMonths()):this.selectYear&&this.generateYears(this.getYearValueByRowAndCol(2,2)+25):this.setDateViewMonth(!0)}setDateViewMonth(a){let h=a?1:-1;const{year:g,monthNbr:x}=this.visibleMonth,I=this.utilService.getJsDate(g,x,1);I.setMonth(I.getMonth()+h);const Y=I.getFullYear(),H=I.getMonth()+1;this.visibleMonth={monthTxt:this.opts.monthLabels[H],monthNbr:H,year:Y},this.generateCalendar(H,Y,!0)}onCloseSelector(a){this.utilService.getKeyCodeFromEvent(a)===mt.esc&&this.closedByEsc()}onDayCellClicked(a){this.selectDate(a.dateObj),this.resetMonthYearSelect()}onDayCellKeyDown(a){const{sourceRow:h,sourceCol:g}=this.getSourceRowAndColumnFromEvent(a),{moveFocus:x,targetRow:I,targetCol:Y,direction:H}=this.getTargetFocusRowAndColumn(a,h,g,5,6);x&&this.focusCellElement("d",I,Y,H,6)}getSourceRowAndColumnFromEvent(a){let h=0,g=0;if(a.target&&a.target.id){const x=a.target.id.split("_");h=Number(x[1]),g=Number(x[2])}return{sourceRow:h,sourceCol:g}}getTargetFocusRowAndColumn(a,h,g,x,I){let Y=!0,H=h,G=g,L=!1;const tt=this.utilService.getKeyCodeFromEvent(a);return tt===mt.upArrow&&h>0?H--:tt===mt.downArrow&&h<x?(H++,L=!0):tt===mt.leftArrow&&g>0?G--:tt===mt.rightArrow&&g<I?(G++,L=!0):Y=!1,{moveFocus:Y,targetRow:H,targetCol:G,direction:L}}focusCellElement(a,h,g,x,I){let H=this.selectorEl.nativeElement.querySelector("."+a+"_"+h+"_"+g);if("0"!==H.getAttribute(yn)){let G=this.getCalendarElements();const L=h*(I+1)+g;let tt=null;tt=x?G.slice(L).find(yt=>"0"===yt.getAttribute(yn)):G.slice(0,L).reverse().find(yt=>"0"===yt.getAttribute(yn)),H=tt||this.selectorEl.nativeElement}else H.focus()}focusToSelector(){this.selectorEl.nativeElement.focus()}getCalendarElements(){return Array.from(this.selectorEl.nativeElement.querySelectorAll("table tbody tr td:not(.myDpDaycellWeekNbr)"))}selectDate(a){const{dateRange:h,dateFormat:g,monthLabels:x,dateRangeDatesDelimiter:I,closeSelectorOnDateSelect:Y}=this.opts;if(h){const H=this.utilService.isInitializedDate(this.selectedDateRange.begin),G=this.utilService.isInitializedDate(this.selectedDateRange.end);H&&G?(this.selectedDateRange.begin=a,this.selectedDateRange.end=this.utilService.resetDate(),this.rangeDateSelection({isBegin:!0,date:a,jsDate:this.utilService.myDateToJsDate(a),dateFormat:g,formatted:this.utilService.formatDate(a,g,x),epoc:this.utilService.getEpocTime(a)})):H?this.utilService.isDateEarlier(a,this.selectedDateRange.begin)?(this.selectedDateRange.begin=a,this.rangeDateSelection({isBegin:!0,date:a,jsDate:this.utilService.myDateToJsDate(a),dateFormat:g,formatted:this.utilService.formatDate(a,g,x),epoc:this.utilService.getEpocTime(a)})):(this.selectedDateRange.end=a,this.rangeDateSelection({isBegin:!1,date:a,jsDate:this.utilService.myDateToJsDate(a),dateFormat:g,formatted:this.utilService.formatDate(a,g,x),epoc:this.utilService.getEpocTime(a)}),this.dateChanged(this.utilService.getDateModel(null,this.selectedDateRange,g,x,I),Y)):(this.selectedDateRange.begin=a,this.rangeDateSelection({isBegin:!0,date:a,jsDate:this.utilService.myDateToJsDate(a),dateFormat:g,formatted:this.utilService.formatDate(a,g,x),epoc:this.utilService.getEpocTime(a)}))}else this.selectedDate=a,this.dateChanged(this.utilService.getDateModel(this.selectedDate,null,g,x,I),Y)}monthStartIdx(a,h){const g=new Date;g.setDate(1),g.setMonth(h-1),g.setFullYear(a);const x=g.getDay()+this.sundayIdx();return x>=7?x-7:x}isCurrDay(a,h,g,x){return a===x.day&&h===x.month&&g===x.year}getDayNumber(a){const{year:h,month:g,day:x}=a;return this.utilService.getJsDate(h,g,x).getDay()}getWeekday(a){return this.weekDayOpts[this.getDayNumber(a)]}sundayIdx(){return this.dayIdx>0?7-this.dayIdx:0}generateCalendar(a,h,g){this.dates.length=0;const x=this.utilService.getToday(),I=this.monthStartIdx(h,a),Y=this.utilService.datesInMonth(a,h),H=this.utilService.datesInPrevMonth(a,h);let G=1,L=a,tt=le.prev;const{rtl:yt,showWeekNumbers:Bt,firstDayOfWeek:kt}=this.opts;for(let St=1;St<7;St++){let Rt=yt?6:0;const Ne=[];if(1===St){for(let ge=H-I+1;ge<=H;ge++){const Gt={year:1===a?h-1:h,month:1===a?12:a-1,day:ge};Ne.push({dateObj:Gt,cmo:tt,currDay:this.isCurrDay(ge,L-1,h,x),disabledDate:this.utilService.isDisabledDate(Gt,this.opts),markedDate:this.utilService.isMarkedDate(Gt,this.opts),highlight:this.utilService.isHighlightedDate(Gt,this.opts),row:St-1,col:yt?Rt--:Rt++})}tt=le.curr;const Lt=7-Ne.length;for(let ge=0;ge<Lt;ge++){const Gt={year:h,month:a,day:G};Ne.push({dateObj:Gt,cmo:tt,currDay:this.isCurrDay(G,a,h,x),disabledDate:this.utilService.isDisabledDate(Gt,this.opts),markedDate:this.utilService.isMarkedDate(Gt,this.opts),highlight:this.utilService.isHighlightedDate(Gt,this.opts),row:St-1,col:yt?Rt--:Rt++}),G++}}else for(let Le=1;Le<8;Le++){G>Y&&(G=1,tt=le.next,L=a+1);const Lt={year:tt===le.next&&12===a?h+1:h,month:tt===le.curr?a:tt===le.next&&a<12?a+1:1,day:G};Ne.push({dateObj:Lt,cmo:tt,currDay:this.isCurrDay(G,L,h,x),disabledDate:this.utilService.isDisabledDate(Lt,this.opts),markedDate:this.utilService.isMarkedDate(Lt,this.opts),highlight:this.utilService.isHighlightedDate(Lt,this.opts),row:St-1,col:yt?Rt--:Rt++}),G++}const we=Bt&&"mo"===kt?this.utilService.getWeekNumber(Ne[0].dateObj):0;this.dates.push({week:Ne,weekNbr:we})}this.setDateViewHeaderBtnDisabledState(a,h),g&&this.calendarViewChanged({year:h,month:a,first:{number:1,weekday:this.getWeekday({year:h,month:a,day:1})},last:{number:Y,weekday:this.getWeekday({year:h,month:a,day:Y})}})}setDateViewHeaderBtnDisabledState(a,h){let g=!1,x=!1;const{disableHeaderButtons:I,disableUntil:Y,disableSince:H,enableDates:G,minYear:L,maxYear:tt,rtl:yt}=this.opts;if(I){const Bt={year:1===a?h-1:h,month:1===a?12:a-1,day:this.utilService.datesInMonth(1===a?12:a-1,1===a?h-1:h)},kt={year:12===a?h+1:h,month:12===a?1:a+1,day:1};g=this.utilService.isDisabledByDisableUntil(Bt,Y)&&!this.utilService.isPastDatesEnabled(Bt,G),x=this.utilService.isDisabledByDisableSince(kt,H)&&!this.utilService.isFutureDatesEnabled(kt,G)}this.prevViewDisabled=1===a&&h===L||g,this.nextViewDisabled=12===a&&h===tt||x,yt&&this.swapHeaderBtnDisabled()}setMonthViewHeaderBtnDisabledState(a){let h=!1,g=!1;const{disableHeaderButtons:x,disableUntil:I,disableSince:Y,enableDates:H,minYear:G,maxYear:L,rtl:tt}=this.opts;if(x){const yt={year:a-1,month:12,day:31},Bt={year:a+1,month:1,day:1};h=this.utilService.isDisabledByDisableUntil(yt,I)&&!this.utilService.isPastDatesEnabled(yt,H),g=this.utilService.isDisabledByDisableSince(Bt,Y)&&!this.utilService.isFutureDatesEnabled(Bt,H)}this.prevViewDisabled=a===G||h,this.nextViewDisabled=a===L||g,tt&&this.swapHeaderBtnDisabled()}setYearViewHeaderBtnDisabledState(a,h){let g=!1,x=!1;const{disableHeaderButtons:I,disableUntil:Y,disableSince:H,enableDates:G,minYear:L,maxYear:tt,rtl:yt}=this.opts;if(I){const Bt={year:a-1,month:12,day:31},kt={year:h+1,month:1,day:1};g=this.utilService.isDisabledByDisableUntil(Bt,Y)&&!this.utilService.isPastDatesEnabled(Bt,G),x=this.utilService.isDisabledByDisableSince(kt,H)&&!this.utilService.isFutureDatesEnabled(kt,G)}this.prevViewDisabled=a<=L||g,this.nextViewDisabled=h>=tt||x,yt&&this.swapHeaderBtnDisabled()}swapHeaderBtnDisabled(){[this.prevViewDisabled,this.nextViewDisabled]=[this.nextViewDisabled,this.prevViewDisabled]}static#t=this.\u0275fac=function(h){return new(h||y)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(Ce))};static#e=this.\u0275cmp=p.Xpm({type:y,selectors:[["lib-angular-mydatepicker-calendar"]],viewQuery:function(h,g){if(1&h&&(p.Gf(ft,7),p.Gf(de,7)),2&h){let x;p.iGM(x=p.CRH())&&(g.selectorEl=x.first),p.iGM(x=p.CRH())&&(g.styleEl=x.first)}},hostVars:2,hostBindings:function(h,g){2&h&&p.Udp("position",g.position)},features:[p._Bn([Ce])],decls:10,vars:27,consts:[["styleEl",""],["tabindex","0",1,"myDpSelector",3,"libAngularMyDatePickerCalendar","ngClass","keyup"],["selectorEl",""],[3,"opts","yearsDuration","visibleMonth","selectMonth","selectYear","prevViewDisabled","nextViewDisabled","prevNavigateBtnClicked","nextNavigateBtnClicked","monthViewBtnClicked","yearViewBtnClicked"],[3,"opts","dates","weekDays","selectedDate","selectedDateRange","viewChanged","dayCellClicked","dayCellKeyDown","viewActivated",4,"ngIf"],[3,"opts","months","viewChanged","monthCellClicked","monthCellKeyDown","viewActivated",4,"ngIf"],[3,"opts","years","viewChanged","yearCellClicked","yearCellKeyDown","viewActivated",4,"ngIf"],[3,"opts","footerBarTxtClicked",4,"ngIf"],[3,"opts","dates","weekDays","selectedDate","selectedDateRange","viewChanged","dayCellClicked","dayCellKeyDown","viewActivated"],[3,"opts","months","viewChanged","monthCellClicked","monthCellKeyDown","viewActivated"],[3,"opts","years","viewChanged","yearCellClicked","yearCellKeyDown","viewActivated"],[3,"opts","footerBarTxtClicked"]],template:function(h,g){1&h&&(p._UZ(0,"span",null,0),p.TgZ(2,"div")(3,"div",1,2),p.NdJ("keyup",function(I){return g.onCloseSelector(I)}),p.TgZ(5,"lib-selection-bar",3),p.NdJ("prevNavigateBtnClicked",function(){return g.onPrevNavigateBtnClicked()})("nextNavigateBtnClicked",function(){return g.onNextNavigateBtnClicked()})("monthViewBtnClicked",function(){return g.onMonthViewBtnClicked()})("yearViewBtnClicked",function(){return g.onYearViewBtnClicked()}),p.qZA(),p.YNc(6,gt,1,6,"lib-day-view",4)(7,Ot,1,3,"lib-month-view",5)(8,Qt,1,3,"lib-year-view",6)(9,ye,1,1,"lib-footer-bar",7),p.qZA()()),2&h&&(p.xp6(2),p.Gre("ng-mydp ",(null==g.opts.stylesData?null:g.opts.stylesData.selector)||"",""),p.xp6(),p.Q6J("libAngularMyDatePickerCalendar",p.l5B(16,ee,g.opts.inline,g.opts.selectorWidth,g.opts.selectorHeight,g.selectorPos))("ngClass",p.qbA(21,pn,g.opts.showSelectorArrow,g.opts.showSelectorArrow&&!g.opts.alignSelectorRight,g.opts.showSelectorArrow&&g.opts.alignSelectorRight,!g.opts.inline,g.opts.inline)),p.xp6(2),p.Q6J("opts",g.opts)("yearsDuration",g.yearsDuration)("visibleMonth",g.visibleMonth)("selectMonth",g.selectMonth)("selectYear",g.selectYear)("prevViewDisabled",g.prevViewDisabled)("nextViewDisabled",g.nextViewDisabled),p.xp6(),p.Q6J("ngIf",!g.selectMonth&&!g.selectYear),p.xp6(),p.Q6J("ngIf",g.selectMonth),p.xp6(),p.Q6J("ngIf",g.selectYear),p.xp6(),p.Q6J("ngIf",g.opts.showFooterToday))},dependencies:[M.mk,M.O5,ti,Gi,Zi,Sn,ei,bn],styles:['.ng-mydp{position:static}.ng-myrtl{direction:rtl}.ng-mydp *{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;padding:0;margin:0}.ng-mydp table{display:table;border-spacing:0}.ng-mydp table td,.ng-mydp table th{padding:0;margin:0;vertical-align:middle;border:none}.myDpSelector{padding:4px;border:1px solid #CCC;background-color:#fff;border-radius:4px;z-index:100000}.myDpViewChangeAnimation{animation:myDpViewChangeAnimation .2s linear}@keyframes myDpViewChangeAnimation{0%{transform:scale(.75);opacity:.1}to{transform:scale(1);opacity:1}}.myDpAnimationFadeIn{animation:myDpAnimationFadeIn .5s linear}@keyframes myDpAnimationFadeIn{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}.myDpAnimationFadeOut{animation:myDpAnimationFadeOut .3s linear forwards}@keyframes myDpAnimationFadeOut{0%{transform:translateY(0);opacity:1}to{transform:translateY(-50px);opacity:0}}.myDpAnimationScaleTopIn{animation:myDpAnimationScaleTopIn .3s linear}@keyframes myDpAnimationScaleTopIn{0%{transform:scaleY(0);transform-origin:100% 0%}to{transform:scaleY(1);transform-origin:100% 0%}}.myDpAnimationScaleTopOut{animation:myDpAnimationScaleTopOut .3s linear forwards}@keyframes myDpAnimationScaleTopOut{0%{transform:scaleY(1);transform-origin:100% 0%;opacity:1}to{transform:scaleY(0);transform-origin:100% 0%;opacity:0}}.myDpAnimationScaleCenterIn{animation:myDpAnimationScaleCenterIn .3s linear}@keyframes myDpAnimationScaleCenterIn{0%{transform:scale(0)}to{transform:scale(1)}}.myDpAnimationScaleCenterOut{animation:myDpAnimationScaleCenterOut .3s linear forwards}@keyframes myDpAnimationScaleCenterOut{0%{transform:scale(1);opacity:1}to{transform:scale(0);opacity:0}}.myDpAnimationRotateIn{animation:myDpAnimationRotateIn .3s linear}@keyframes myDpAnimationRotateIn{0%{transform:scale(.3) rotate(-45deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}.myDpAnimationRotateOut{animation:myDpAnimationRotateOut .3s linear forwards}@keyframes myDpAnimationRotateOut{0%{transform:scale(1) rotate(0);opacity:1}to{transform:scale(.3) rotate(-45deg);opacity:0}}.myDpAnimationFlipDiagonalIn{animation:myDpAnimationFlipDiagonalIn .3s linear}@keyframes myDpAnimationFlipDiagonalIn{0%{transform:rotate3d(1,1,0,-78deg)}to{transform:rotate3d(1,1,0,0)}}.myDpAnimationFlipDiagonalOut{animation:myDpAnimationFlipDiagonalOut .3s linear forwards}@keyframes myDpAnimationFlipDiagonalOut{0%{transform:rotate3d(1,1,0,0);opacity:1}to{transform:rotate3d(1,1,0,78deg);opacity:0}}.myDpSelectorAbsolute{position:absolute}.myDpSelectorPosInitial{position:initial}.myDpSelector:focus{box-shadow:-1px 1px 6px #add8e6;outline:none}.myDpSelectorArrow{background:#FFF}.myDpSelectorArrow:after,.myDpSelectorArrow:before{bottom:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute}.myDpSelectorArrow:after{border-color:#fafafa00;border-bottom-color:#fafafa;border-width:10px;margin-left:-10px}.myDpSelectorArrow:before{border-color:#ccc0;border-bottom-color:#ccc;border-width:11px;margin-left:-11px}.myDpSelectorArrow:focus:before{border-bottom-color:#add8e6}.myDpSelectorArrowLeft:after,.myDpSelectorArrowLeft:before{left:24px}.myDpSelectorArrowRight:after,.myDpSelectorArrowRight:before{left:86%}::-ms-clear{display:none}.myDpCalTable,.myDpMonthTable,.myDpYearTable,.myDpFooterBar{border-radius:0 0 4px 4px}.myDpCalTable.myDpNoFooter tbody tr:nth-child(6) td:first-child,.myDpMonthTable.myDpNoFooter tbody tr:nth-child(4) td:first-child,.myDpYearTable.myDpNoFooter tbody tr:nth-child(5) td:first-child{border-bottom-left-radius:4px}.myDpCalTable.myDpNoFooter tbody tr:nth-child(6) td:last-child,.myDpMonthTable.myDpNoFooter tbody tr:nth-child(4) td:last-child,.myDpYearTable.myDpNoFooter tbody tr:nth-child(5) td:last-child{border-bottom-right-radius:4px}.myDpCalTable,.myDpMonthTable,.myDpYearTable{table-layout:fixed;width:100%;background-color:#fff;font-size:14px}.myDpFooter{height:calc(100% - 60px)}.myDpNoFooter{height:calc(100% - 30px)}.myDpCalTable,.myDpMonthTable,.myDpYearTable,.myDpWeekDayTitle,.myDpDaycell,.myDpMonthcell,.myDpYearcell{border-collapse:collapse;color:#333;line-height:1.1}.myDpDaycell,.myDpMonthcell,.myDpYearcell{padding:4px;text-align:center;outline:none}.myDpDaycell{background-color:#fff;position:relative}.myDpWeekDayTitle{background-color:transparent;color:#333;font-size:13px;font-weight:400;vertical-align:middle;max-width:36px;overflow:hidden;white-space:nowrap;height:23px;text-align:center}.myDpWeekDayTitleWeekNbr{width:20px}.myDpMonthcell{background-color:#fff;overflow:hidden;white-space:nowrap}.myDpYearcell{background-color:#fff;width:20%}.myDpMonthNbr{font-size:10px;display:block}.myDpDaycellWeekNbr{font-size:9px;cursor:default;text-align:center;color:#333}.myDpPrevMonth,.myDpNextMonth{color:#999}.myDpMonthYearSelBar{display:flex;height:30px;background-color:#fff;border-top-left-radius:4px;border-top-right-radius:4px}.myDpPrevBtn{margin-left:10px}.myDpNextBtn{margin-left:auto;margin-right:10px}.myDpMonthYearText{width:100%;line-height:30px;text-align:center}.myDpFooterBar{display:flex;align-items:center;justify-content:center;height:30px;background-color:#fff}.myDpHeaderBtn{background:transparent;padding:0;border:none;line-height:30px;height:28px;margin-top:1px;color:#000;outline:none;cursor:default}.myDpFooterBtn{margin:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.myDpMonthBtn,.myDpYearBtn{font-size:16px}.myDpMonthBtn{margin-right:6px}.myDpHighlight{color:#c30000}.myDpDimDay{opacity:.5}.myDpCurrMonth{background-color:#fff;font-weight:400}.myDpMarkDate{position:absolute;top:2px;left:2px;border-right:8px solid transparent}.myDpMarkCurrDay,.myDpMarkCurrMonth,.myDpMarkCurrYear{border-bottom:2px solid #333}.myDpHeaderLabelBtnNotEdit{cursor:default}.myDpHeaderBtn::-moz-focus-inner,.myDpPrevBtn::-moz-focus-inner,.myDpNextBtn::-moz-focus-inner{border:0}.myDpHeaderBtn:focus,.myDpMonthLabel:focus,.myDpYearLabel:focus,.myDpFooterBtn:focus{color:#66afe9;outline:none}.myDpDaycell:focus,.myDpMonthcell:focus,.myDpYearcell:focus{box-shadow:inset 0 0 0 1px #66afe9}.myDpTableSingleDay:hover,.myDpTableSingleMonth:hover,.myDpTableSingleYear:hover{background-color:#ddd}.myDpMonthLabel,.myDpYearLabel,.myDpDaycell,.myDpMonthcell,.myDpYearcell{cursor:pointer}.myDpHeaderBtnEnabled:hover,.myDpMonthLabel:hover,.myDpYearLabel:hover,.myDpFooterBtn:hover{color:#777}.myDpHeaderBtnEnabled{cursor:pointer}.myDpHeaderBtnDisabled{cursor:not-allowed;opacity:.65}.myDpDisabled{cursor:default;color:#777;background:repeating-linear-gradient(-45deg,#ccc 7px,#ccc 8px,transparent 7px,transparent 14px)}.myDpRangeColor{background-color:#dbeaff}.myDpRangeBegin,.myDpRangeEnd,.myDpSelectedDay,.myDpSelectedMonth,.myDpSelectedYear{border:none;background-color:#8ebfff}@font-face{font-family:angular-mydatepicker;src:url(data:application/octet-stream;base64,d09GRgABAAAAAAs4AA8AAAAAE+gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEi5Y21hcAAAAdgAAABQAAABfohD7KljdnQgAAACKAAAABMAAAAgBtX/BGZwZ20AAAI8AAAFkAAAC3CKkZBZZ2FzcAAAB8wAAAAIAAAACAAAABBnbHlmAAAH1AAAAL8AAAEAS//bfWhlYWQAAAiUAAAAMQAAADYW6nhraGhlYQAACMgAAAAbAAAAJAc8A1ZobXR4AAAI5AAAAAwAAAAMCXwAAGxvY2EAAAjwAAAACAAAAAgAQACAbWF4cAAACPgAAAAgAAAAIACmC5tuYW1lAAAJGAAAAXcAAALNzJ0fIXBvc3QAAAqQAAAAKwAAAEAj+eC8cHJlcAAACrwAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZknMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4wMgf9z2KIYg5imAYUZgTJAQDMhAtXAHic7ZCxDYAwDATPiaFAjEFBwTBU7F+yRfK2GYOX7qR/uTKwAF1cwsEejMit1XLvbLk7R9547K+NIRNW93STVv7s6fNrLf5U1OcK2gTMuAtdeJxjYEADEhDIHPQ/C4QBEmwD3QB4nK1WaXfTRhQdeUmchCwlCy1qYcTEabBGJmzBgAlBsmMgXZytlaCLFDvpvvGJ3+Bf82Tac+g3flrvGy8kkLTncJqTo3fnzdXM22USWpLYC+uRlJsvxdTWJo3sPAnphk3LUXwoO3shZYrJ3wVREK2W2rcdh0REIlC1rrBEEPseWZpkfOhRRsu2pFdNyi096S5b40G9Vd9+GjrKsTuhpGYzdGg9siVVGFWiSKY9UtKmZaj6K0krvL/CzFfNUMKITiJpvBnG0EjeG2e0ymg1tuMoimyy3ChSJJrhQRR5lNUS5+SKCQzKB82Q8sqnEeXD/Iis2KOcVrBLttP8vi95p3c5P7Ffb1G25EAfyI7s4Ox0JV+EW1th3LST7ShUEXbXd0Js2exU/2aP8ppGA7crMr3QjGCpfIUQKz+hzP4hWS2cT/mSR6NaspETQetlTuxLPoHW44gpcc0YWdDd0QkR1P2SMwz2mD4e/PHeKZYLEwJ4HMt6RyWcCBMpYXM0SdowcmAlZYsqqfWumDjldVrEW8J+7drRl85o41B3YjxbDx1bOVHJ8WhSp5lMndpJzaMpDaKUdCZ4zK8DKD+iSV5tYzWJlUfTOGbGhEQiAi3cS1NBLDuxpCkEzaMZvbkbprl2LVqkyQP13KP39OZWuLnTU9oO9LNGf1anYjrYC9PpaeQv8Wna5SJF6frpGX5M4kHWAjKRLTbDlIMHb/0O0svXlhyF1wbY7u3zK6h91kTwpAH7G9AeT9UpCUyFmFWIVkBirWtZlsnVrBapyNR3Q5pWvqzTBIpyHBfHvoxx/V8zM5aYEr7fidOzIy49c+1LCNMcfJt1PZrXqcVyAXFmeU6nWZbv6zTH8gOd5lme1+kIS1unoyw/1GmB5Uc6HWN5QQuadN/BkIsw5AIOkDCEpQNDWF6CISwVDGG5CENYFmEIyyUYwvJjGMJyGYawvKxl1dRTSePamVgGbEJgYo4eucxF5WoquVRCu2hUakOeEm6VVBTPqn9loF488oY5sBZIl8iaXzHOlY9G5fjWFS1vGjtXwLHqbx+O9jnxUtaLhT8F/9XWVCW9Ys3Dk6vwG4aebCeqNql4dE2Xz1U9uv5fVFRYC/QbSIVYKMqybHBnIoSPOp2GaqCVQ8xszDy063XLmp/D/TcxQhZQ/fg3FBoL3INOWUlZ7eCs1dfbstw7g3I4EyxJMTfz+lb4IiOz0n6RWcqej3wecAWMSmXYagOtFbzZJzEPmd4kzwRxW1E2SNrYzgSJDRzzgHnznQQmYeqqDeRO4YYN+AVhbsF5J1yieqMsh+5F7PMopPxbp+JE9qhojMCz2Rthr+9Cym9xDCQ0+aV+DFQVoakYNRXQNFJuqAZfxtm6bULGDvQjKnbDsqziw8cW95WSbRmEfKSI1aOjn9Zeok6q3H5mFJfvnb4FwSA1MX9733RxkMq7WskyR20DU7calVPXmkPjVYfq5lH1vePsEzlrmm66Jx56X9Oq28HFXCyw9m0O0lImF9T1YYUNosvFpVDqZTRJ77gHGBYY0O9Qio3/q/rYfJ4rVYXRcSTfTtS30edgDPwP2H9H9QPQ92Pocg0uz/eaE59u9OFsma6iF+un6Dcwa625WboG3NB0A+IhR62OuMoNfKcGcXqkuRzpIeBj3RXiAcAmgMXgE921jOZTAKP5jDk+wOfMYdBkDoMt5jDYZs4awA5zGOwyh8Eecxh8wZx1gC+ZwyBkDoOIOQyeMCcAeMocBl8xh8HXzGHwDXPuA3zLHAYxcxgkzGGwr+nWMMwtXtBdoLZBVaADU09Y3MPiUFNlyP6OF4b9vUHM/sEgpv6o6faQ+hMvDPVng5j6i0FM/VXTnSH1N14Y6u8GMfUPg5j6TL8Yy2UGv4x8lwoHlF1sPufvifcP28VAuQABAAH//wAPeJxjYGRg+H+AaQazC4MIg+5WRkYGRkZ37w0qAREO3AwMjAwFQD4Po6e0AyeQw5jPwMCQFrlFXJyJVUybk0lMhJ+RTUmdUc3EnNHMSJ5RTISp7991Rk0urlhuGe5/SdzcjPO45LhiuZhW/bvx7zqYycU4H0gzzuPmjuWSYwBZAbK/BGo/J1H2ywiB7QfarQ+ymxNI2AMdIA5yQBbQWhnuWKDVGv9ugC0BWsbFmPkvEeIqRk1GDYgCkEIGAB9cLoQAeJxjYGRgYABic9F3f+P5bb4ycDO/AIow3Pw4yxFB/z/A/ILZBcjlYGACiQIAcjgNFAAAAHicY2BkYGAO+p8FJF8wMIBJRgZUwAwAXPcDmgAD6AAAAsoAAALKAAAAAAAAAEAAgAABAAAAAwAVAAEAAAAAAAIABAAUAHMAAAAqC3AAAAAAeJx1kMtOwkAUhv+RiwqJGk3cOisDMZZL4gISEhIMbHRDDFtTSmlLSodMBxJew3fwYXwJn8WfdjAGYpvpfOebM2dOB8A1viGQP08cOQucMcr5BKfoWS7QP1sukl8sl1DFm+Uy/bvlCh4QWK7iBh+sIIrnjBb4tCxwJS4tn+BC3Fku0D9aLpJ7lku4Fa+Wy/Se5QomIrVcxb34GqjVVkdBaGRtUJftZqsjp1upqKLEjaW7NqHSqezLuUqMH8fK8dRyz2M/WMeu3of7eeLrNFKJbDnNvRr5ia9d48921dNN0DZmLudaLeXQZsiVVgvfM05ozKrbaPw9DwMorLCFRsSrCmEgUaOtc26jiRY6pCkzJDPzrAgJXMQ0LtbcEWYrKeM+x5xRQuszIyY78PhdHvkxKeD+mFX00ephPCHtzogyL9mXw+4Os0akJMt0Mzv77T3Fhqe1aQ137brUWVcSw4MakvexW1vQePROdiuGtosG33/+7wfseIRVAHicY2BigAAuBuyAmZGJkZmRhYEzJzWtRDe/IDWPqygzPQPCZGAAAGN+B7YAeJxj8N7BcCIoYiMjY1/kBsadHAwcDMkFGxlYnTYxMDJogRibuZgYOSAsPgYwi81pF9MBoDQnkM3utIvBAcJmZnDZqMLYERixwaEjYiNzistGNRBvF0cDAyOLQ0dySARISSQQbOZhYuTR2sH4v3UDS+9GJgYXAAx2I/QAAA==) format("woff");font-weight:400;font-style:normal}.myDpIcon{font-family:angular-mydatepicker;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#222;font-size:20px}.myDpIconLeftArrow:before{content:"\\e800"}.myDpIconRightArrow:before{content:"\\e801"}\n'],encapsulation:2})}return y})(),nn=(()=>{class y{constructor(){this.locales={en:{dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"mm/dd/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Today"},he:{dayLabels:{su:"\u05e8\u05d0",mo:"\u05e9\u05e0",tu:"\u05e9\u05dc",we:"\u05e8\u05d1",th:"\u05d7\u05de",fr:"\u05e9\u05d9",sa:"\u05e9\u05d1"},monthLabels:{1:"\u05d9\u05e0\u05d5",2:"\u05e4\u05d1\u05e8",3:"\u05de\u05e8\u05e5",4:"\u05d0\u05e4\u05e8",5:"\u05de\u05d0\u05d9",6:"\u05d9\u05d5\u05e0",7:"\u05d9\u05d5\u05dc",8:"\u05d0\u05d5\u05d2",9:"\u05e1\u05e4\u05d8",10:"\u05d0\u05d5\u05e7",11:"\u05e0\u05d5\u05d1",12:"\u05d3\u05e6\u05de"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"su",sunHighlight:!1,todayTxt:"\u05d4\u05d9\u05d5\u05dd"},ja:{dayLabels:{su:"\u65e5",mo:"\u6708",tu:"\u706b",we:"\u6c34",th:"\u6728",fr:"\u91d1",sa:"\u571f"},monthLabels:{1:"\uff11\u6708",2:"\uff12\u6708",3:"\uff13\u6708",4:"\uff14\u6708",5:"\uff15\u6708",6:"\uff16\u6708",7:"\uff17\u6708",8:"\uff18\u6708",9:"\uff19\u6708",10:"\uff11\uff10\u6708",11:"\uff11\uff11\u6708",12:"\uff11\uff12\u6708"},dateFormat:"yyyy.mm.dd",sunHighlight:!1,todayTxt:"\u4eca\u65e5"},fr:{dayLabels:{su:"Dim",mo:"Lun",tu:"Mar",we:"Mer",th:"Jeu",fr:"Ven",sa:"Sam"},monthLabels:{1:"Jan",2:"F\xe9v",3:"Mar",4:"Avr",5:"Mai",6:"Juin",7:"Juil",8:"Ao\xfb",9:"Sep",10:"Oct",11:"Nov",12:"D\xe9c"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Aujourd'hui"},"fr-ch":{dayLabels:{su:"Dim",mo:"Lun",tu:"Mar",we:"Mer",th:"Jeu",fr:"Ven",sa:"Sam"},monthLabels:{1:"Jan",2:"F\xe9v",3:"Mar",4:"Avr",5:"Mai",6:"Juin",7:"Juil",8:"Ao\xfb",9:"Sep",10:"Oct",11:"Nov",12:"D\xe9c"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Aujourd'hui"},fi:{dayLabels:{su:"Su",mo:"Ma",tu:"Ti",we:"Ke",th:"To",fr:"Pe",sa:"La"},monthLabels:{1:"Tam",2:"Hel",3:"Maa",4:"Huh",5:"Tou",6:"Kes",7:"Hei",8:"Elo",9:"Syy",10:"Lok",11:"Mar",12:"Jou"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"T\xe4n\xe4\xe4n"},es:{dayLabels:{su:"Do",mo:"Lu",tu:"Ma",we:"Mi",th:"Ju",fr:"Vi",sa:"Sa"},monthLabels:{1:"Ene",2:"Feb",3:"Mar",4:"Abr",5:"May",6:"Jun",7:"Jul",8:"Ago",9:"Sep",10:"Oct",11:"Nov",12:"Dic"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Hoy"},hu:{dayLabels:{su:"Vas",mo:"H\xe9t",tu:"Kedd",we:"Sze",th:"Cs\xfc",fr:"P\xe9n",sa:"Szo"},monthLabels:{1:"Jan",2:"Feb",3:"M\xe1r",4:"\xc1pr",5:"M\xe1j",6:"J\xfan",7:"J\xfal",8:"Aug",9:"Szep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Ma"},sv:{dayLabels:{su:"S\xf6n",mo:"M\xe5n",tu:"Tis",we:"Ons",th:"Tor",fr:"Fre",sa:"L\xf6r"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Maj",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"Idag"},nl:{dayLabels:{su:"Zon",mo:"Maa",tu:"Din",we:"Woe",th:"Don",fr:"Vri",sa:"Zat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mei",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"d-m-yyyy",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"Vandaag"},"nl-be":{dayLabels:{su:"Zon",mo:"Maa",tu:"Din",we:"Woe",th:"Don",fr:"Vri",sa:"Zat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mei",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"d/m/yyyy",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"Vandaag"},ru:{dayLabels:{su:"\u0412\u0441",mo:"\u041f\u043d",tu:"\u0412\u0442",we:"\u0421\u0440",th:"\u0427\u0442",fr:"\u041f\u0442",sa:"\u0421\u0431"},monthLabels:{1:"\u042f\u043d\u0432",2:"\u0424\u0435\u0432",3:"\u041c\u0430\u0440\u0442",4:"\u0410\u043f\u0440",5:"\u041c\u0430\u0439",6:"\u0418\u044e\u043d\u044c",7:"\u0418\u044e\u043b\u044c",8:"\u0410\u0432\u0433",9:"\u0421\u0435\u043d\u0442",10:"\u041e\u043a\u0442",11:"\u041d\u043e\u044f",12:"\u0414\u0435\u043a"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"},uk:{dayLabels:{su:"\u041d\u0434",mo:"\u041f\u043d",tu:"\u0412\u0442",we:"\u0421\u0440",th:"\u0427\u0442",fr:"\u041f\u0442",sa:"\u0421\u0431"},monthLabels:{1:"\u0421\u0456\u0447",2:"\u041b\u044e\u0442",3:"\u0411\u0435\u0440",4:"\u041a\u0432\u0456",5:"\u0422\u0440\u0430",6:"\u0427\u0435\u0440",7:"\u041b\u0438\u043f",8:"\u0421\u0435\u0440",9:"\u0412\u0435\u0440",10:"\u0416\u043e\u0432",11:"\u041b\u0438\u0441",12:"\u0413\u0440\u0443"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456"},uz:{dayLabels:{su:"Yak",mo:"Du",tu:"Se",we:"Cho",th:"Pay",fr:"Ju",sa:"Sha"},monthLabels:{1:"Yan",2:"Fev",3:"Mar",4:"Apr",5:"May",6:"Iyn",7:"Iyl",8:"Avg",9:"Sen",10:"Okt",11:"Noy",12:"Dek"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Bugun"},no:{dayLabels:{su:"S\xf8n",mo:"Man",tu:"Tir",we:"Ons",th:"Tor",fr:"Fre",sa:"L\xf8r"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Des"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"I dag"},tr:{dayLabels:{su:"Paz",mo:"Pzt",tu:"Sal",we:"\xc7ar",th:"Per",fr:"Cum",sa:"Cmt"},monthLabels:{1:"Oca",2:"\u015eub",3:"Mar",4:"Nis",5:"May",6:"Haz",7:"Tem",8:"A\u011fu",9:"Eyl",10:"Eki",11:"Kas",12:"Ara"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!1,todayTxt:"Bug\xfcn"},"pt-br":{dayLabels:{su:"Dom",mo:"Seg",tu:"Ter",we:"Qua",th:"Qui",fr:"Sex",sa:"Sab"},monthLabels:{1:"Jan",2:"Fev",3:"Mar",4:"Abr",5:"Mai",6:"Jun",7:"Jul",8:"Ago",9:"Set",10:"Out",11:"Nov",12:"Dez"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"Hoje"},de:{dayLabels:{su:"So",mo:"Mo",tu:"Di",we:"Mi",th:"Do",fr:"Fr",sa:"Sa"},monthLabels:{1:"Jan",2:"Feb",3:"M\xe4r",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dez"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Heute"},"de-ch":{dayLabels:{su:"So",mo:"Mo",tu:"Di",we:"Mi",th:"Do",fr:"Fr",sa:"Sa"},monthLabels:{1:"Jan",2:"Feb",3:"M\xe4r",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dez"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Heute"},it:{dayLabels:{su:"Dom",mo:"Lun",tu:"Mar",we:"Mer",th:"Gio",fr:"Ven",sa:"Sab"},monthLabels:{1:"Gen",2:"Feb",3:"Mar",4:"Apr",5:"Mag",6:"Giu",7:"Lug",8:"Ago",9:"Set",10:"Ott",11:"Nov",12:"Dic"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Oggi"},"it-ch":{dayLabels:{su:"Dom",mo:"Lun",tu:"Mar",we:"Mer",th:"Gio",fr:"Ven",sa:"Sab"},monthLabels:{1:"Gen",2:"Feb",3:"Mar",4:"Apr",5:"Mag",6:"Giu",7:"Lug",8:"Ago",9:"Set",10:"Ott",11:"Nov",12:"Dic"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Oggi"},pl:{dayLabels:{su:"Nie",mo:"Pon",tu:"Wto",we:"\u015aro",th:"Czw",fr:"Pi\u0105",sa:"Sob"},monthLabels:{1:"Sty",2:"Lut",3:"Mar",4:"Kwi",5:"Maj",6:"Cze",7:"Lip",8:"Sie",9:"Wrz",10:"Pa\u017a",11:"Lis",12:"Gru"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Dzisiaj"},my:{dayLabels:{su:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031",mo:"\u1010\u1014\u1004\u103a\u1039\u101c\u102c",tu:"\u1021\u1004\u103a\u1039\u1002\u102b",we:"\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038",th:"\u1000\u103c\u101e\u1015\u1010\u1031\u1038",fr:"\u101e\u1031\u102c\u1000\u103c\u102c",sa:"\u1005\u1014\u1031"},monthLabels:{1:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e",2:"\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e",3:"\u1019\u1010\u103a",4:"\u1027\u1015\u103c\u102e",5:"\u1019\u1031",6:"\u1007\u103d\u1014\u103a",7:"\u1007\u1030\u101c\u102d\u102f\u1004\u103a",8:"\u1029\u1002\u102f\u1010\u103a",9:"\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c",10:"\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c",11:"\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c",12:"\u1012\u102e\u1007\u1004\u103a\u1018\u102c"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u101a\u1014\u1031\u1037"},sk:{dayLabels:{su:"Ne",mo:"Po",tu:"Ut",we:"St",th:"\u0160t",fr:"Pi",sa:"So"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"M\xe1j",6:"J\xfan",7:"J\xfal",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Dnes"},sl:{dayLabels:{su:"Ned",mo:"Pon",tu:"Tor",we:"Sre",th:"\u010cet",fr:"Pet",sa:"Sob"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Maj",6:"Jun",7:"Jul",8:"Avg",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd. mm. yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Danes"},"zh-cn":{dayLabels:{su:"\u65e5",mo:"\u4e00",tu:"\u4e8c",we:"\u4e09",th:"\u56db",fr:"\u4e94",sa:"\u516d"},monthLabels:{1:"1\u6708",2:"2\u6708",3:"3\u6708",4:"4\u6708",5:"5\u6708",6:"6\u6708",7:"7\u6708",8:"8\u6708",9:"9\u6708",10:"10\u6708",11:"11\u6708",12:"12\u6708"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u4eca\u5929"},ro:{dayLabels:{su:"du",mo:"lu",tu:"ma",we:"mi",th:"jo",fr:"vi",sa:"sa"},monthLabels:{1:"ian",2:"feb",3:"mart",4:"apr",5:"mai",6:"iun",7:"iul",8:"aug",9:"sept",10:"oct",11:"nov",12:"dec"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Ast\u0103zi"},ca:{dayLabels:{su:"dg",mo:"dl",tu:"dt",we:"dc",th:"dj",fr:"dv",sa:"ds"},monthLabels:{1:"Gen",2:"Febr",3:"Mar\xe7",4:"Abr",5:"Maig",6:"Juny",7:"Jul",8:"Ag",9:"Set",10:"Oct",11:"Nov",12:"Des"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Avui"},id:{dayLabels:{su:"Min",mo:"Sen",tu:"Sel",we:"Rab",th:"Kam",fr:"Jum",sa:"Sab"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Mei",6:"Jun",7:"Jul",8:"Ags",9:"Sep",10:"Okt",11:"Nov",12:"Des"},dateFormat:"dd-mm-yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"Hari ini"},"en-au":{dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Today"},"en-gb":{dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Today"},"am-et":{dayLabels:{su:"\u12a5\u1211\u12f5",mo:"\u1230\u129e",tu:"\u121b\u12ad\u1230\u129e",we:"\u1228\u1261\u12d5",th:"\u1210\u1219\u1235",fr:"\u12d3\u122d\u1265",sa:"\u1245\u12f3\u121c"},monthLabels:{1:"\u1303\u1295\u12e9",2:"\u134c\u1265\u1229",3:"\u121b\u122d\u127d",4:"\u12a4\u1355\u1228",5:"\u121c\u12ed",6:"\u1301\u1295",7:"\u1301\u120b\u12ed",8:"\u12a6\u1308\u1235",9:"\u1234\u1355\u1274",10:"\u12a6\u12ad\u1270",11:"\u1296\u126c\u121d",12:"\u12f2\u1234\u121d"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u12db\u122c"},cs:{dayLabels:{su:"Ne",mo:"Po",tu:"\xdat",we:"St",th:"\u010ct",fr:"P\xe1",sa:"So"},monthLabels:{1:"Led",2:"\xdano",3:"B\u0159e",4:"Dub",5:"Kv\u011b",6:"\u010cvn",7:"\u010cvc",8:"Srp",9:"Z\xe1\u0159",10:"\u0158\xedj",11:"Lis",12:"Pro"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"Dnes"},el:{dayLabels:{su:"\u039a\u03c5\u03c1",mo:"\u0394\u03b5\u03c5",tu:"\u03a4\u03c1\u03b9",we:"\u03a4\u03b5\u03c4",th:"\u03a0\u03b5\u03bc",fr:"\u03a0\u03b1\u03c1",sa:"\u03a3\u03b1\u03b2"},monthLabels:{1:"\u0399\u03b1\u03bd",2:"\u03a6\u03b5\u03b2",3:"\u039c\u03b1\u03c1",4:"\u0391\u03c0\u03c1",5:"\u039c\u03b1\u03b9",6:"\u0399\u03bf\u03c5\u03bd",7:"\u0399\u03bf\u03c5\u03bb",8:"\u0391\u03c5\u03b3",9:"\u03a3\u03b5\u03c0",10:"\u039f\u03ba\u03c4",11:"\u039d\u03bf\u03b5",12:"\u0394\u03b5\u03ba"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1"},kk:{dayLabels:{su:"\u0416\u043a",mo:"\u0414\u0441",tu:"\u0421\u0441",we:"\u0421\u0440",th:"\u0411\u0441",fr:"\u0416\u043c",sa:"\u0421\u0431"},monthLabels:{1:"\u049a\u0430\u04a3",2:"\u0410\u049b\u043f",3:"\u041d\u0430\u0443",4:"\u0421\u04d9\u0443",5:"\u041c\u0430\u043c",6:"\u041c\u0430\u0443",7:"\u0428\u0456\u043b",8:"\u0422\u0430\u043c",9:"\u049a\u044b\u0440\u043a",10:"\u049a\u0430\u0437",11:"\u049a\u0430\u0440",12:"\u0416\u0435\u043b\u0442"},dateFormat:"dd-mmm-yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0411\u04af\u0433\u0456\u043d"},th:{dayLabels:{su:"\u0e2d\u0e32",mo:"\u0e08",tu:"\u0e2d",we:"\u0e1e",th:"\u0e1e\u0e24",fr:"\u0e28",sa:"\u0e2a"},monthLabels:{1:"\u0e21.\u0e04",2:"\u0e01.\u0e1e.",3:"\u0e21\u0e35.\u0e04.",4:"\u0e40\u0e21.\u0e22.",5:"\u0e1e.\u0e04.",6:"\u0e21\u0e34.\u0e22.",7:"\u0e01.\u0e04.",8:"\u0e2a.\u0e04.",9:"\u0e01.\u0e22.",10:"\u0e15.\u0e04.",11:"\u0e1e.\u0e22.",12:"\u0e18.\u0e04."},dateFormat:"dd-mm-yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"},"ko-kr":{dayLabels:{su:"\uc77c",mo:"\uc6d4",tu:"\ud654",we:"\uc218",th:"\ubaa9",fr:"\uae08",sa:"\ud1a0"},monthLabels:{1:"1\uc6d4",2:"2\uc6d4",3:"3\uc6d4",4:"4\uc6d4",5:"5\uc6d4",6:"6\uc6d4",7:"7\uc6d4",8:"8\uc6d4",9:"9\uc6d4",10:"10\uc6d4",11:"11\uc6d4",12:"12\uc6d4"},dateFormat:"yyyy mm dd",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"\uc624\ub298"},da:{dayLabels:{su:"S\xf8n",mo:"Man",tu:"Tir",we:"Ons",th:"Tor",fr:"Fre",sa:"L\xf8r"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"Maj",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd-mm-yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"I dag"},lt:{dayLabels:{su:"Sk",mo:"Pr",tu:"An",we:"Tr",th:"Kt",fr:"Pn",sa:"\u0160t"},monthLabels:{1:"Saus.",2:"Vas.",3:"Kov.",4:"Bal.",5:"Geg.",6:"Bir\u017e.",7:"Liep.",8:"Rugp.",9:"Rugs.",10:"Sapl.",11:"Lapkr.",12:"Gruod."},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0160ianien"},vi:{dayLabels:{su:"CN",mo:"T2",tu:"T3",we:"T4",th:"T5",fr:"T6",sa:"T7"},monthLabels:{1:"THG 1",2:"THG 2",3:"THG 3",4:"THG 4",5:"THG 5",6:"THG 6",7:"THG 7",8:"THG 8",9:"THG 9",10:"THG 10",11:"THG 11",12:"THG 12"},dateFormat:"dd/mm/yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"H\xf4m nay"},bn:{dayLabels:{su:"\u09b0\u09ac\u09bf",mo:"\u09b8\u09cb\u09ae",tu:"\u09ae\u0999\u09cd\u0997\u09b2",we:"\u09ac\u09c1\u09a7",th:"\u09ac\u09c3\u09b9\u0983",fr:"\u09b6\u09c1\u0995\u09cd\u09b0",sa:"\u09b6\u09a8\u09bf"},monthLabels:{1:"\u099c\u09be\u09a8\u09c1",2:"\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1",3:"\u09ae\u09be\u09b0\u09cd\u099a",4:"\u098f\u09aa\u09cd\u09b0\u09bf\u09b2",5:"\u09ae\u09c7",6:"\u099c\u09c1\u09a8",7:"\u099c\u09c1\u09b2\u09be\u0987",8:"\u0986\u0997\u09b8\u09cd\u099f",9:"\u09b8\u09c7\u09aa\u09cd\u099f\u09c7",10:"\u0985\u0995\u09cd\u099f\u09cb",11:"\u09a8\u09ad\u09c7",12:"\u09a1\u09bf\u09b8\u09c7"},dateFormat:"dd-mm-yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"\u0986\u099c"},bg:{dayLabels:{su:"\u043d\u0434",mo:"\u043f\u043d",tu:"\u0432\u0442",we:"\u0441\u0440",th:"\u0447\u0442",fr:"\u043f\u0442",sa:"\u0441\u0431"},monthLabels:{1:"\u044f\u043d\u0443.",2:"\u0444\u0435\u0432.",3:"\u043c\u0430\u0440\u0442",4:"\u0430\u043f\u0440.",5:"\u043c\u0430\u0439",6:"\u044e\u043d\u0438",7:"\u044e\u043b\u0438",8:"\u0430\u0432\u0433.",9:"\u0441\u0435\u043f.",10:"\u043e\u043a\u0442.",11:"\u043d\u043e\u0435.",12:"\u0434\u0435\u043a."},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0434\u043d\u0435\u0441"},hr:{dayLabels:{su:"Ne",mo:"Po",tu:"Ul",we:"Sr",th:"\u010ce",fr:"Pe",sa:"Su"},monthLabels:{1:"Sij",2:"Vel",3:"O\u017eu",4:"Tra",5:"Svi",6:"Lip",7:"Srp",8:"Kol",9:"Ruj",10:"Lis",11:"Stu",12:"Pro"},dateFormat:"dd.mm.yyyy.",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"danas"},ar:{dayLabels:{su:"\u0627\u0644\u0623\u062d\u062f",mo:"\u0627\u0644\u0627\u062b\u0646\u064a\u0646",tu:"\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621",we:"\u0627\u0644\u0627\u0631\u0628\u0639\u0627\u0621",th:"\u0627\u0644\u062e\u0645\u064a\u0633",fr:"\u0627\u0644\u062c\u0645\u0639\u0629",sa:"\u0627\u0644\u0633\u0628\u062a"},monthLabels:{1:"\u064a\u0646\u0627\u064a\u0631",2:"\u0641\u0628\u0631\u0627\u064a\u0631",3:"\u0645\u0627\u0631\u0633",4:"\u0627\u0628\u0631\u064a\u0644",5:"\u0645\u0627\u064a\u0648",6:"\u064a\u0648\u0646\u064a\u0648",7:"\u064a\u0648\u0644\u064a\u0648",8:"\u0623\u063a\u0633\u0637\u0633",9:"\u0633\u0628\u062a\u0645\u0628\u0631",10:"\u0623\u0643\u062a\u0648\u0628\u0631",11:"\u0646\u0648\u0641\u0645\u0628\u0631",12:"\u062f\u064a\u0633\u0645\u0628\u0631"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"sa",sunHighlight:!0,todayTxt:"\u0627\u0644\u064a\u0648\u0645"},is:{dayLabels:{su:"sun",mo:"m\xe1n",tu:"\xferi",we:"mi\xf0",th:"fim",fr:"f\xf6s",sa:"lau"},monthLabels:{1:"jan",2:"feb",3:"mar",4:"apr",5:"ma\xed",6:"j\xfan",7:"j\xfal",8:"\xe1g\xfa",9:"sep",10:"okt",11:"n\xf3v",12:"des"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"su",sunHighlight:!0,todayTxt:"\xcd dag"},tw:{dayLabels:{su:"\u9031\u65e5",mo:"\u9031\u4e00",tu:"\u9031\u4e8c",we:"\u9031\u4e09",th:"\u9031\u56db",fr:"\u9031\u4e94",sa:"\u9031\u516d"},monthLabels:{1:"\u4e00\u6708",2:"\u4e8c\u6708",3:"\u4e09\u6708",4:"\u56db\u6708",5:"\u4e94\u6708",6:"\u516d\u6708",7:"\u4e03\u6708",8:"\u516b\u6708",9:"\u4e5d\u6708",10:"\u5341\u6708",11:"\u5341\u4e00\u6708",12:"\u5341\u4e8c\u6708"},dateFormat:"yyyy-mm-dd",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u4eca\u5929"},lv:{dayLabels:{su:"S",mo:"P",tu:"O",we:"T",th:"C",fr:"P",sa:"S"},monthLabels:{1:"Janv",2:"Febr",3:"Marts",4:"Apr",5:"Maijs",6:"J\u016bn",7:"J\u016bl",8:"Aug",9:"Sept",10:"Okt",11:"Nov",12:"Dec"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"\u0160odien"},et:{dayLabels:{su:"P",mo:"E",tu:"T",we:"K",th:"N",fr:"R",sa:"L"},monthLabels:{1:"Jaan",2:"Veebr",3:"M\xe4rts",4:"Apr",5:"Mai",6:"Juuni",7:"Juuli",8:"Aug",9:"Sept",10:"Okt",11:"Nov",12:"Dets"},dateFormat:"dd.mm.yyyy",firstDayOfWeek:"mo",sunHighlight:!0,todayTxt:"T\xe4na"}}}getLocaleOptions(a="en"){const h=a.toLowerCase();return this.locales.hasOwnProperty(h)?this.locales[h]:this.locales.en}static#t=this.\u0275fac=function(h){return new(h||y)};static#e=this.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac})}return y})();var Je=function(y){return y[y.min=1e3]="min",y[y.max=9999]="max",y}(Je||{});let qt=(()=>{class y{constructor(){this.defaultConfig={dateRange:!1,inline:!1,dayLabels:{su:"Sun",mo:"Mon",tu:"Tue",we:"Wed",th:"Thu",fr:"Fri",sa:"Sat"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},dateFormat:"yyyy-mm-dd",defaultView:Fe.Date,firstDayOfWeek:"mo",satHighlight:!1,sunHighlight:!0,highlightDates:[],markCurrentDay:!0,markCurrentMonth:!0,markCurrentYear:!0,monthSelector:!0,yearSelector:!0,disableHeaderButtons:!0,showWeekNumbers:!1,selectorHeight:"266px",selectorWidth:"266px",disableUntil:{year:0,month:0,day:0},disableSince:{year:0,month:0,day:0},disableDates:[],disableDateRanges:[],disableWeekends:!1,disableWeekdays:[],enableDates:[],markDates:[],markWeekends:{marked:!1,color:""},alignSelectorRight:!1,openSelectorTopOfInput:!1,closeSelectorOnDateSelect:!0,closeSelectorOnDocumentClick:!0,minYear:Je.min,maxYear:Je.max,showSelectorArrow:!0,appendSelectorToBody:!1,focusInputOnDateSelect:!0,moveFocusByArrowKeys:!0,dateRangeDatesDelimiter:" - ",inputFieldValidation:!0,showMonthNumber:!0,todayTxt:"",showFooterToday:!1,calendarAnimation:{in:Se.None,out:Se.None},viewChangeAnimation:!0,rtl:!1,stylesData:{selector:"",styles:""},divHostElement:{enabled:!1,placeholder:""},ariaLabelPrevMonth:"Previous Month",ariaLabelNextMonth:"Next Month"}}getDefaultConfig(){return this.defaultConfig}static#t=this.\u0275fac=function(h){return new(h||y)};static#e=this.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac})}return y})();var Te=function(y){return y[y.Open=1]="Open",y[y.CloseByDateSel=2]="CloseByDateSel",y[y.CloseByCalBtn=3]="CloseByCalBtn",y[y.CloseByOutClick=4]="CloseByOutClick",y[y.CloseByEsc=5]="CloseByEsc",y}(Te||{});const ce={provide:S.JU,useExisting:(0,p.Gpc)(()=>on),multi:!0},ni={provide:S.Cf,useExisting:(0,p.Gpc)(()=>on),multi:!0};let on=(()=>{class y{constructor(a,h,g,x,I,Y,H,G){this.localeService=a,this.utilService=h,this.vcRef=g,this.cfr=x,this.renderer=I,this.cdr=Y,this.elem=H,this.config=G,this.defaultMonth={defMonth:"",overrideSelection:!1},this.dateChanged=new p.vpe,this.inputFieldChanged=new p.vpe,this.calendarViewChanged=new p.vpe,this.calendarToggle=new p.vpe,this.rangeDateSelection=new p.vpe,this.viewActivated=new p.vpe,this.cRef=null,this.hostText="",this.preventClose=!1,this.disabled=!1,this.selectedValue=null,this.onChangeCb=()=>{},this.onTouchedCb=()=>{},this.onClickWrapper=L=>this.onClick(L),this.onAnimateWrapper=L=>this.animationEnd(L),this.opts=this.config.getDefaultConfig(),this.parseOptions(this.opts)}onKeyUp(a){const h=this.utilService.getKeyCodeFromEvent(a);if(!this.ignoreKeyPress(h))if(h===mt.esc)this.closeSelector(Te.CloseByEsc);else{const{dateRange:g,dateFormat:x,monthLabels:I,dateRangeDatesDelimiter:Y}=this.opts,H=this.getHostValue();let G=null,L=!1,tt=null;if(g){tt={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};const yt=this.utilService.isDateValidDateRange(H,this.opts,tt),{begin:Bt,end:kt}=yt;L=this.utilService.isInitializedDate(Bt)&&this.utilService.isInitializedDate(kt),L&&(G=this.utilService.getDateModel(null,yt,x,I,Y))}else{tt={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};const yt=this.utilService.isDateValid(H,this.opts,tt);L=this.utilService.isInitializedDate(yt),L&&(G=this.utilService.getDateModel(yt,null,x,I,Y))}this.onChangeCb(G),this.emitInputFieldChanged(H,L)}}onBlur(){const{inputFieldValidation:a,dateRange:h,dateFormat:g,monthLabels:x,dateRangeDatesDelimiter:I,closeSelectorOnDateSelect:Y}=this.opts;if(a){const H=this.getHostValue();let G=!1,L=null;if(h){L={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};const tt=this.utilService.isDateValidDateRange(H,this.opts,L),{begin:yt,end:Bt}=tt;if(G=this.utilService.isInitializedDate(yt)&&this.utilService.isInitializedDate(Bt),G&&this.hostText!==H){const kt=this.utilService.getDateModel(null,tt,g,x,I);this.emitDateChanged(kt),this.updateModel(kt),Y&&this.closeSelector(Te.CloseByDateSel)}}else{L={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};const tt=this.utilService.isDateValid(H,this.opts,L);if(G=this.utilService.isInitializedDate(tt),G&&this.hostText!==H){const yt=this.utilService.getDateModel(tt,null,g,x,I);this.emitDateChanged(yt),this.updateModel(yt),Y&&this.closeSelector(Te.CloseByDateSel)}}!G&&this.hostText!==H&&(""===H?this.clearDate():this.onChangeCb(null)),this.hostText=H}this.onTouchedCb()}onClick(a){this.opts.closeSelectorOnDocumentClick&&!this.preventClose&&a.target&&this.cRef&&this.elem.nativeElement!==a.target&&!this.cRef.location.nativeElement.contains(a.target)&&!this.disabled&&this.closeSelector(Te.CloseByOutClick)}ngOnChanges(a){if(a.hasOwnProperty("locale")&&this.setLocaleOptions(),a.hasOwnProperty(Pn)){let h=a[Pn].currentValue;"object"==typeof h?h.overrideSelection||(h.overrideSelection=!1):h={defMonth:h,overrideSelection:!1},this.defaultMonth=h}a.hasOwnProperty(tn)&&this.parseOptions(a[tn].currentValue),this.cRef&&this.cRef.instance.refreshComponent(this.opts,this.defaultMonth,this.selectedValue,this.getHostValue())}ngOnDestroy(){this.closeCalendar()}setLocaleOptions(){const a=this.localeService.getLocaleOptions(this.locale);Object.keys(a).forEach(h=>{this.opts[h]=a[h]})}parseOptions(a){a&&Object.keys(a).forEach(Y=>{this.opts[Y]=a[Y]});const{minYear:h,maxYear:g,openSelectorTopOfInput:x,inline:I}=this.opts;h<Je.min&&(this.opts.minYear=Je.min),g>Je.max&&(this.opts.maxYear=Je.max),(x||I)&&(this.opts.showSelectorArrow=!1),I&&this.openCalendar()}writeValue(a){if(this.disabled)return;let h=null;const{dateFormat:g,monthLabels:x,dateRangeDatesDelimiter:I}=this.opts;if(a){if(!a.isRange&&a.singleDate){let{date:H,jsDate:G}=a.singleDate;H||(H=this.utilService.jsDateToMyDate(G));const L=this.utilService.formatDate(H,g,x);h={validateDisabledDates:!1,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};const tt=this.utilService.isInitializedDate(this.utilService.isDateValid(L,this.opts,h));tt&&(this.setHostValue(L),this.emitInputFieldChanged(L,tt),this.setSelectedValue(this.utilService.getDateModel(H,null,g,x,I)),this.cRef&&this.cRef.instance.refreshComponent(this.opts,this.defaultMonth,this.selectedValue,this.getHostValue()))}else if(a.isRange&&a.dateRange){let{beginDate:H,beginJsDate:G,endDate:L,endJsDate:tt}=a.dateRange;(!H||!L)&&(H=this.utilService.jsDateToMyDate(G),L=this.utilService.jsDateToMyDate(tt));const yt=this.utilService.formatDate(H,g,x)+I+this.utilService.formatDate(L,g,x);h={validateDisabledDates:!1,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};const{begin:Bt,end:kt}=this.utilService.isDateValidDateRange(yt,this.opts,h),St=this.utilService.isInitializedDate(Bt)&&this.utilService.isInitializedDate(kt);St&&(this.setHostValue(yt),this.emitInputFieldChanged(yt,St),this.setSelectedValue(this.utilService.getDateModel(null,{begin:H,end:L},g,x,I)),this.cRef&&this.cRef.instance.refreshComponent(this.opts,this.defaultMonth,this.selectedValue,this.getHostValue()))}}else this.setHostValue(""),this.emitInputFieldChanged("",!1),this.cRef&&this.cRef.instance.resetDateValue()}registerOnChange(a){this.onChangeCb=a}registerOnTouched(a){this.onTouchedCb=a}setDisabledState(a){this.disabled=a,this.renderer.setProperty(this.elem.nativeElement,"disabled",a),a&&this.closeCalendar()}validate(a){const h=this.getHostValue();if(null===h||""===h)return null;let g=null;if(this.opts.dateRange){g={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};const{begin:x,end:I}=this.utilService.isDateValidDateRange(h,this.opts,g);if(!this.utilService.isInitializedDate(x)||!this.utilService.isInitializedDate(I))return{invalidDateFormat:!0}}else{g={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};const x=this.utilService.isDateValid(h,this.opts,g);if(!this.utilService.isInitializedDate(x))return{invalidDateFormat:!0}}return null}openCalendar(){this.disabled||(this.preventClose=!0,this.cdr.detectChanges(),null===this.cRef&&(this.cRef=this.vcRef.createComponent(this.cfr.resolveComponentFactory(Oi)),this.appendSelector(this.cRef.location.nativeElement),this.cRef.instance.initializeComponent(this.opts,this.defaultMonth,this.selectedValue,this.getHostValue(),this.getSelectorPosition(this.elem.nativeElement),(a,h)=>{this.focusToInput(),this.emitDateChanged(a),this.emitInputFieldChanged(this.utilService.getFormattedDate(a),!0),this.updateModel(a),h&&this.closeSelector(Te.CloseByDateSel)},a=>{this.emitCalendarChanged(a)},a=>{this.emitRangeDateSelection(a)},a=>{this.emitViewActivated(a)},()=>{this.closeSelector(Te.CloseByEsc)}),this.emitCalendarToggle(Te.Open),this.opts.inline||document.addEventListener(Kn,this.onClickWrapper)),setTimeout(()=>{this.preventClose=!1},50))}closeCalendar(){this.closeSelector(Te.CloseByCalBtn)}toggleCalendar(){if(this.disabled)return;const a=null===this.cRef;return a?this.openCalendar():this.closeSelector(Te.CloseByCalBtn),a}clearDate(){if(this.disabled)return;const{inline:a}=this.opts;this.setHostValue(""),this.emitDateChanged({isRange:this.opts.dateRange,singleDate:{date:this.utilService.resetDate(),jsDate:null,formatted:"",epoc:0},dateRange:{beginDate:this.utilService.resetDate(),beginJsDate:null,beginEpoc:0,endDate:this.utilService.resetDate(),endJsDate:null,endEpoc:0,formatted:""}}),this.onChangeCb(null),this.onTouchedCb(),this.cRef&&this.cRef.instance.clearDate(),a||this.closeSelector(Te.CloseByCalBtn)}isDateValid(){const a=this.getHostValue();if(null===a||""===a)return!1;let h=null;if(this.opts.dateRange){h={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!0)};const{begin:g,end:x}=this.utilService.isDateValidDateRange(a,this.opts,h);if(this.utilService.isInitializedDate(g)&&this.utilService.isInitializedDate(x))return this.emitInputFieldChanged(a,!0),!0}else{h={validateDisabledDates:!0,selectedValue:this.utilService.getSelectedValue(this.selectedValue,!1)};const g=this.utilService.isDateValid(a,this.opts,h);if(this.utilService.isInitializedDate(g))return this.emitInputFieldChanged(a,!0),!0}return this.emitInputFieldChanged(a,!1),!1}headerAction(a){this.cRef&&this.cRef.instance.headerAction(a)}setHostValue(a){const{divHostElement:h}=this.opts;this.hostText=a;const g=h.enabled?$n:"value";this.renderer.setProperty(this.elem.nativeElement,g,a=g===$n&&""===a?h.placeholder:a)}ignoreKeyPress(a){return a===mt.leftArrow||a===mt.rightArrow||a===mt.upArrow||a===mt.downArrow||a===mt.tab||a===mt.shift}animationEnd(a){this.cRef&&(this.cRef.instance.selectorEl.nativeElement.removeEventListener(wi,this.onAnimateWrapper),this.removeComponent(),this.emitCalendarToggle(a))}closeSelector(a){const{inline:h,calendarAnimation:g}=this.opts;if(this.cRef&&!h){if(g.out!==Se.None){const{instance:x}=this.cRef;x.selectorEl.nativeElement.addEventListener(wi,this.onAnimateWrapper.bind(this,a)),x.setCalendarAnimation(g,!1),setTimeout(this.onAnimateWrapper.bind(this,a),550)}else this.removeComponent(),this.emitCalendarToggle(a);document.removeEventListener(Kn,this.onClickWrapper)}}removeComponent(){null!==this.vcRef&&(this.vcRef.remove(this.vcRef.indexOf(this.cRef.hostView)),this.cRef=null)}updateModel(a){this.setHostValue(this.utilService.getFormattedDate(a)),this.onChangeCb(a),this.onTouchedCb()}getHostValue(){const{value:a,innerHTML:h}=this.elem.nativeElement;return this.opts.divHostElement.enabled?h:a}focusToInput(){const{focusInputOnDateSelect:a,divHostElement:h}=this.opts;a&&!h.enabled&&setTimeout(()=>{this.elem.nativeElement.focus()})}emitDateChanged(a){this.dateChanged.emit(a),this.setSelectedValue(a)}setSelectedValue(a){const{isRange:h,dateRange:g,singleDate:x}=a;this.selectedValue=h?g:x}emitInputFieldChanged(a,h){this.inputFieldChanged.emit({value:a,dateFormat:this.opts.dateFormat,valid:h})}emitCalendarChanged(a){this.calendarViewChanged.emit(a)}emitRangeDateSelection(a){this.rangeDateSelection.emit(a)}emitViewActivated(a){this.viewActivated.emit(a)}emitCalendarToggle(a){this.calendarToggle.emit(a)}appendSelector(a){this.opts.appendSelectorToBody&&document.querySelector("body").appendChild(a)}getSelectorPosition(a){let h=0,g=0;const{appendSelectorToBody:x,openSelectorTopOfInput:I,selectorHeight:Y,selectorWidth:H,showSelectorArrow:G,alignSelectorRight:L}=this.opts;if(x){const tt=document.body.getBoundingClientRect(),yt=a.getBoundingClientRect();h=yt.top-tt.top,g=yt.left-tt.left}return h=I?h-this.getSelectorDimension(Y)-2:h+a.offsetHeight+(G?12:2),L&&(g=g+a.offsetWidth-this.getSelectorDimension(H)),{top:h+"px",left:g+"px"}}getSelectorDimension(a){return Number(a.replace("px",""))}static#t=this.\u0275fac=function(h){return new(h||y)(p.Y36(nn),p.Y36(Ce),p.Y36(p.s_b),p.Y36(p._Vd),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(p.SBq),p.Y36(qt))};static#e=this.\u0275dir=p.lG2({type:y,selectors:[["","angular-mydatepicker",""]],hostBindings:function(h,g){1&h&&p.NdJ("keyup",function(I){return g.onKeyUp(I)})("blur",function(){return g.onBlur()})},inputs:{options:"options",locale:"locale",defaultMonth:"defaultMonth"},outputs:{dateChanged:"dateChanged",inputFieldChanged:"inputFieldChanged",calendarViewChanged:"calendarViewChanged",calendarToggle:"calendarToggle",rangeDateSelection:"rangeDateSelection",viewActivated:"viewActivated"},exportAs:["angular-mydatepicker"],features:[p._Bn([Ce,nn,qt,ce,ni]),p.TTD]})}return y})(),rn=(()=>{class y{static#t=this.\u0275fac=function(h){return new(h||y)};static#e=this.\u0275mod=p.oAB({type:y});static#n=this.\u0275inj=p.cJS({imports:[M.ez,S.u5]})}return y})()}}]);
//# sourceMappingURL=src_app_modules_sign-app_sign-app-dashboard_dashboard_module_ts.b09b0c97c082f4a8.js.map