(self.webpackChunkrl_docman_app=self.webpackChunkrl_docman_app||[]).push([["main"],{8834:(Y,C,t)=>{var e={"./en.json":[1489,"build_i18n_en_json"],"./es.json":[7096,"build_i18n_es_json"],"./fr.json":[8116,"build_i18n_fr_json"],"./logoIpsum.json":[2475,"build_i18n_logoIpsum_json"],"./nl.json":[5793,"build_i18n_nl_json"],"./pt.json":[687,"build_i18n_pt_json"],"./rlus.json":[2156,"build_i18n_rlus_json"]};function g(s){if(!t.o(e,s))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+s+"'");throw n.code="MODULE_NOT_FOUND",n});var d=e[s],o=d[0];return t.e(d[1]).then(()=>t.t(o,19))}g.keys=()=>Object.keys(e),g.id=8834,Y.exports=g},130:(Y,C,t)=>{"use strict";t.d(C,{Ic:()=>n,O4:()=>s,Pc:()=>D,g9:()=>l,i_:()=>d,v7:()=>r,y0:()=>u,yh:()=>m});var e=t(2501);const g="200ms ease-in",s=(0,e.X$)("animateModalChildren",[(0,e.eR)(":enter, :leave",[(0,e.IO)("@*",(0,e.pV)(),{optional:!0})])]),d=(0,e.X$)("modalScaleInOut",[(0,e.SB)("void",(0,e.oB)({transform:"scale(0.3)"})),(0,e.SB)("*",(0,e.oB)({transform:"scale(1)"})),(0,e.eR)(":enter",(0,e.jt)(g)),(0,e.eR)(":leave",(0,e.jt)(g))]),n=((0,e.X$)("fadeInOut",[(0,e.SB)("void",(0,e.oB)({zIndex:-1,opacity:0})),(0,e.SB)("*",(0,e.oB)({opacity:1})),(0,e.eR)(":enter",(0,e.jt)("200ms ease-out")),(0,e.eR)(":leave",(0,e.jt)("200ms ease-in"))]),(0,e.X$)("fadeInOut",[(0,e.SB)("void",(0,e.oB)({zIndex:-1,opacity:0})),(0,e.SB)("*",(0,e.oB)({opacity:1})),(0,e.eR)(":enter",(0,e.jt)(g)),(0,e.eR)(":leave",(0,e.jt)(g))])),r=(0,e.X$)("scaleAndFade",[(0,e.SB)("void",(0,e.oB)({opacity:0,transform:"scale(0)"})),(0,e.SB)("*",(0,e.oB)({opacity:1,transform:"scale({{scale}})"}),{params:{scale:1}}),(0,e.eR)(":enter",(0,e.jt)(g)),(0,e.eR)(":leave",(0,e.jt)(g))]),l=(0,e.X$)("resizeIconScaleAndFade",[(0,e.SB)("void",(0,e.oB)({opacity:0,transform:"rotate(90deg) scale(0)"})),(0,e.SB)("*",(0,e.oB)({opacity:1,transform:"rotate(90deg) scale({{scale}})"}),{params:{scale:1}}),(0,e.eR)(":enter",(0,e.jt)(g)),(0,e.eR)(":leave",(0,e.jt)(g))]),m=(0,e.X$)("intentionModalFadeIn",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("150ms ease-in",(0,e.oB)({opacity:1})),(0,e.IO)(".modal-wrapper",[(0,e.oB)({transformOrigin:"90vw 100px",transform:"scale(.3)",opacity:0}),(0,e.jt)("150ms ease-out",(0,e.oB)({transformOrigin:"90vw 100px",transform:"scale(1)",opacity:1}))],{optional:!0})]),(0,e.eR)(":leave",[(0,e.IO)(".modal-wrapper",[(0,e.oB)({transformOrigin:"90vw 100px",transform:"scale(1)",opacity:1}),(0,e.jt)("150ms ease-out",(0,e.oB)({transformOrigin:"90vw 100px",transform:"scale(.3)",opacity:0}))],{optional:!0}),(0,e.oB)({opacity:1}),(0,e.jt)("150ms ease-out",(0,e.oB)({opacity:0}))])]),u=(0,e.X$)("slideInOut",[(0,e.SB)("void",(0,e.oB)({position:"absolute",visibility:"hidden",opacity:0})),(0,e.SB)("left",(0,e.oB)({position:"absolute",visibility:"hidden",opacity:0,transform:"translateX(-50px)"})),(0,e.SB)("center",(0,e.oB)({position:"relative",visibility:"visible",opacity:1,transform:"translateX(0)"})),(0,e.SB)("right",(0,e.oB)({position:"absolute",visibility:"hidden",opacity:0,transform:"translateX(+50px)"})),(0,e.eR)("center => left, center => right",(0,e.jt)("200ms ease-out")),(0,e.eR)("left => center, right => center",(0,e.jt)("200ms ease-in"))]),D=(0,e.X$)("slideUpDown",[(0,e.SB)("void",(0,e.oB)({maxHeight:"0px"})),(0,e.SB)("*",(0,e.oB)({maxHeight:"500px"})),(0,e.eR)(":enter",(0,e.jt)(g)),(0,e.eR)(":leave",(0,e.jt)(g))]);(0,e.X$)("actionMenuSlideUpDown",[(0,e.SB)("collapsed",(0,e.oB)({maxHeight:"40px",overflow:"hidden"})),(0,e.SB)("expanded",(0,e.oB)({maxHeight:"500px",overflow:"auto"})),(0,e.eR)("collapsed => expanded",(0,e.jt)(g)),(0,e.eR)("expanded => collapsed",(0,e.jt)(g))])},405:(Y,C,t)=>{"use strict";t.d(C,{d:()=>g});var e=t(9039);let g=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=e.oAB({type:s});static#n=this.\u0275inj=e.cJS({})}return s})()},6321:(Y,C,t)=>{"use strict";t.d(C,{j:()=>d});var e=t(5939),g=t(405),s=t(9039);let d=(()=>{class o{static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275mod=s.oAB({type:o});static#n=this.\u0275inj=s.cJS({imports:[e.aw,g.d]})}return o})()},1396:(Y,C,t)=>{"use strict";t.d(C,{S:()=>g});const e=t(6582);let g=(()=>{class s{static#t=this.BASE16="0123456789abcdef";static#e=this.BASE36="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";static#n=this.BASE36L="0123456789abcdefghijklmnopqrstuvwxyz";static#r=this.BASE58="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";static#o=this.BASE62="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";static#s=this.BASE66="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-._~";static#i=this.BASE71="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!'()*-._~";constructor(o,n,r=null){if("string"==typeof o?(r=n,n=o,o=null):"number"==typeof n&&(r=n,n=null),"string"!=typeof(n=n||s.BASE58))throw new TypeError("baseEncoding must be a string");if(null==r){if(null==o)o=128;else if(!Number.isInteger(o)||o<=0||o%8!=0)throw new TypeError("bitSize must be a positive integer that is a multiple of 8");r=Math.ceil(o/Math.log2(n.length)),this._byteSize=o/8}else{if(null!=o)throw new TypeError("uidLength may not be specified when bitSize is also specified");if(!Number.isInteger(r)||r<=0)throw new TypeError("uidLength must be a positive integer");o=Math.ceil(r*Math.log2(n.length)),this._byteSize=Math.ceil(o/8)}this.uidLength=r,this.bitSize=o,this.baseEncoding=n,this.base=n.length}generate(o){if(!o)return new Promise((n,r)=>{e(this._byteSize,(l,m)=>{l?r(l):n(this._bufferToString(m))})});e(this._byteSize,(n,r)=>{n?o(n):o(null,this._bufferToString(r))})}generateSync(){return this._bufferToString(e(this._byteSize))}_bufferToString(o){const n=[0];var r,l,m;for(r=0;r<o.length;++r){for(m=o[r],l=0;l<n.length;++l)n[l]=(m+=n[l]<<8)%this.base,m=m/this.base|0;for(;m>0;)n.push(m%this.base),m=m/this.base|0}var u="";for(n.length>this.uidLength?r=this.uidLength:(r=n.length,n.length<this.uidLength&&(u+=this.baseEncoding[0].repeat(this.uidLength-n.length)));r--;)u+=this.baseEncoding[n[r]];return u}}return s})()},2800:(Y,C,t)=>{"use strict";t.d(C,{e:()=>g});var e=t(9039);let g=(()=>{class s{sendEvent(o){(window.parent||window).postMessage(o,"*")}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac})}return s})()},7427:(Y,C,t)=>{"use strict";t.d(C,{ZH:()=>E,_j:()=>F});var e=t(9039),g=t(4776),s=t(130),d=t(339),o=t(8336),n=t(6480),r=t(6575);const l=["tooltipArrow"],m=["tooltip"];function u(W,c){if(1&W){const a=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const K=e.CHM(a).$implicit,X=e.oxw();return e.KtG(X.createInput(X.pageClickEvent,K.type))}),e._UZ(1,"span"),e.qZA()}if(2&W){const a=c.$implicit;e.s9C("title",a.title),e.xp6(),e.Gre("rl-icon ",a.iconClass,"")}}const D=W=>({scale:W}),w=W=>({value:":enter",params:W}),F="TEMP-";let E=(()=>{class W{constructor(a,M,T){this.store=a,this.cdr=M,this.sanitizer=T,this.tools=[{type:"SIGNATURE_TEXT",iconClass:"toolbar-signature",position:{vAlignment:"MIDDLE",hAlignment:"LEFT"},notificationMsgKey:"sign-toolbox_notification-signature",mobileNotificationMsgKey:"sign-toolbox_notification-signature-mobile",notificationShown:!1,title:"Signature"},{type:"INITIALS",iconClass:"toolbar-initial",position:{vAlignment:"MIDDLE",hAlignment:"LEFT"},notificationMsgKey:"sign-toolbox_notification-initials",mobileNotificationMsgKey:"sign-toolbox_notification-initials-mobile",notificationShown:!1,title:"Initials"},{type:"DATE_SIGNED",iconClass:"toolbar-calendar",position:{vAlignment:"MIDDLE",hAlignment:"LEFT"},notificationMsgKey:"sign-toolbox_notification-date",mobileNotificationMsgKey:"sign-toolbox_notification-date-mobile",notificationShown:!1,title:"Date"},{type:"CUSTOM_TEXT",iconClass:"toolbar-textbox",position:{vAlignment:"MIDDLE",hAlignment:"LEFT"},notificationMsgKey:"sign-toolbox_notification-text",mobileNotificationMsgKey:"sign-toolbox_notification-text-mobile",notificationShown:!1,title:"Text"}],this.binder=null,this.pageClickEvent=null,this.hideTooltip=new e.vpe,this.inputs=[],this.tooltipArrowStyles={},this.translateVal="-50%",this.cssTranslateVal=this.sanitizer.bypassSecurityTrustStyle(`translateX(${this.translateVal})`),this.tooltipStyles={width:"250px",height:"50px",top:"-65px",left:"50%"}}ngOnChanges(a){a&&(this.setArrowStyles(this.pageClickEvent),setTimeout(()=>this.transformStyle(this.pageClickEvent),1),Object.assign(this.tooltipArrowStyles,{transform:`scale(${this.zoomLevel})`,transformOrigin:"50% 100%"}))}setArrowStyles(a){if(!a)return;const M=document.querySelector(".top-banner-container").clientHeight||0,T=document.querySelector("header")?document.querySelector("header").clientHeight:0;this.tooltipArrowStyles={top:a.pageY-(M+T)-20+"px",left:a.pageX-14+"px"}}transformStyle(a){const M=this.clientWidth||document.documentElement.clientWidth,T=this.fixedOffset||W.getFixedOffset(),X=this.tooltipStyles.width.replace("px","")*this.zoomLevel/2;this.setTransformCss(a.pageX-T<X?"translateX(-8%)":a.pageX>T+M*this.zoomLevel-X?"translateX(-92%)":"translateX(-50%)"),this.cdr.detectChanges()}static getFixedOffset(){const a=document.createElement("div");a.style.cssText="position:fixed; top: 0; left: 0",document.body.appendChild(a);const M=a.getBoundingClientRect();return document.body.removeChild(a),-1*M.left}setTransformCss(a){this.cssTranslateVal=this.sanitizer.bypassSecurityTrustStyle(a)}createInput(a,M){const T=this.tools.find(x=>x.type===M),K=a.srcElement||a.target,{docId:X}=K.dataset,{pageId:P}=K.dataset,z=(a.offsetX?a.offsetX:a.layerX)/K.clientWidth*100;let B,O;B=z-this.inputDimensions.inputWidth/2,O=(a.offsetY?a.offsetY:a.layerY)/K.clientHeight*100-this.inputDimensions.inputHeight,z<this.inputDimensions.inputWidth/2?B+=this.inputDimensions.inputWidth/2:z+this.inputDimensions.inputWidth/2>100&&(B-=this.inputDimensions.inputWidth/2),O<0?O=0:O+this.inputDimensions.inputHeight>100&&(O=100-this.inputDimensions.inputHeight);const k=this.getPartyToAssignToInput(),f={id:W.getRandomUuid(),type:T.type,docId:X,legalName:k.legalName,partyReference:k.reference,style:k.metaData.style.background,optional:!1,font:{sizeInPx:16,type:"CAVEAT_REGULAR"},position:{type:"ABSOLUTE",width:this.inputDimensions.inputWidth,height:this.inputDimensions.inputHeight,hAlignment:T.position.hAlignment,vAlignment:T.position.vAlignment,xOffset:B,yOffset:O,pageId:P,unit:"PCT"},active:!0,isFresh:!0};this.store.dispatch(g.rd(f)),this.store.dispatch(g.jq({id:f.id})),this.hideTooltip.emit()}static getRandomUuid(){let a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(M){const T=16*Math.random()|0;return("x"===M?T:3&T|8).toString(16)});return F+a}getPartyToAssignToInput(){const a=(0,d.sG)(this.store.getState());return a&&a.length?this.binder.parties.find(M=>M.reference===a[a.length-1].partyReference):(0,d.oJ)(this.binder,"OWNER")}static#t=this.\u0275fac=function(M){return new(M||W)(e.Y36(o.y),e.Y36(e.sBO),e.Y36(n.H7))};static#e=this.\u0275cmp=e.Xpm({type:W,selectors:[["toolbox-tooltip"]],viewQuery:function(M,T){if(1&M&&(e.Gf(l,5),e.Gf(m,5)),2&M){let K;e.iGM(K=e.CRH())&&(T.tooltipArrow=K.first),e.iGM(K=e.CRH())&&(T.tooltip=K.first)}},inputs:{binder:"binder",zoomLevel:"zoomLevel",clientWidth:"clientWidth",fixedOffset:"fixedOffset",pageClickEvent:"pageClickEvent",inputDimensions:"inputDimensions"},outputs:{hideTooltip:"hideTooltip"},features:[e.TTD],decls:9,vars:9,consts:[[1,"arrow","enable-hardware-accel",3,"ngStyle"],["tooltipArrow",""],[1,"simple-tooltip",3,"ngStyle"],["tooltip",""],[1,"tools"],["title","Remove",1,"single-tool",3,"click"],[1,"rl-icon","toolbar-trash"],[1,"single-tool",3,"title","click"],["class","single-tool",3,"title"]],template:function(M,T){1&M&&(e.TgZ(0,"div",0,1)(2,"div",2,3)(4,"div",4),e.SjG(5,u,2,4,"div",8,e.x6l),e.TgZ(7,"li",5),e.NdJ("click",function(){return T.hideTooltip.emit()}),e._UZ(8,"span",6),e.qZA()()()()),2&M&&(e.Q6J("@scaleAndFade",e.VKq(7,w,e.VKq(5,D,T.zoomLevel)))("ngStyle",T.tooltipArrowStyles),e.xp6(2),e.Udp("transform",T.cssTranslateVal),e.Q6J("ngStyle",T.tooltipStyles),e.xp6(3),e.wJu(T.tools))},dependencies:[r.PC],styles:["#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{position:fixed;background-color:#292929;top:0;left:0;box-sizing:border-box;padding:25px 10px;width:100%;height:100%;visibility:hidden;transition:opacity .5s}#tooltip[_ngcontent-%COMP%]   p.tooltip-text[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   p.tooltip-text[_ngcontent-%COMP%]{display:block;margin-left:5px;color:#999;font-size:16px;font-style:italic;text-transform:none;font-weight:400;text-align:left}#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{background:url(/images/signapp/close-x-white.svg) no-repeat;background-size:28px;width:25px;height:25px;position:absolute;top:10px;right:10px}#tooltip.hide-tooltip[_ngcontent-%COMP%], .tooltip-wrapper.hide-tooltip[_ngcontent-%COMP%]{opacity:0;visibility:hidden}#tooltip.show-tooltip[_ngcontent-%COMP%], .tooltip-wrapper.show-tooltip[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media screen and (min-width: 480px){#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{position:absolute;max-width:inherit;max-height:inherit;width:400px;height:auto;padding:20px 15px;border-radius:5px;top:-155px;left:-190px}#tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid #292929;position:absolute;bottom:-19px;margin-left:auto;margin-right:auto;left:0;right:0}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow.arrow-down[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow.arrow-down[_ngcontent-%COMP%]{border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid #292929}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow.arrow-up[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow.arrow-up[_ngcontent-%COMP%]{border-left:20px solid transparent;border-right:20px solid transparent;border-bottom:20px solid #292929;border-top:none}}@media only screen and (min-width: 481px){#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{left:-330px;padding:15px 20px}#tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:279px}#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{display:block}}@media screen and (max-width: 700px){#tooltip[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]{position:fixed;width:100%;left:0;top:0;height:100%;padding:20px 15px;z-index:11}}@media screen and (min-width: 701px){#tooltip.right-aligned[_ngcontent-%COMP%], .tooltip-wrapper.right-aligned[_ngcontent-%COMP%]{left:-50px}#tooltip.right-aligned[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .tooltip-wrapper.right-aligned[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:-280px}}@media screen and (min-width: 769px){#tooltip[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%], .tooltip-wrapper[_ngcontent-%COMP%]   .tooltip-close-btn[_ngcontent-%COMP%]{display:none}}.simple-tooltip[_ngcontent-%COMP%]{position:absolute;background:#333;border-radius:8px;color:#fff;z-index:2}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{cursor:pointer;padding:0;list-style:none;display:flex;flex-direction:row;margin:0;text-align:center}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]{max-width:50px;max-height:50px;flex:1;font-size:22px;justify-content:center;line-height:48px;border-right:1px solid #b6b7bc}@media (hover){.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:hover{background-color:#000}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:hover:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:hover:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:last-child{border-right:none}}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]:last-child{border-right:none}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-signature[_ngcontent-%COMP%]{font-size:28px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-textbox[_ngcontent-%COMP%]{font-size:32px;position:relative;top:1px;left:1px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-calendar[_ngcontent-%COMP%]{font-size:30px;position:relative;top:1px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-trash[_ngcontent-%COMP%]{font-size:26px;position:relative;bottom:1px}.simple-tooltip[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .single-tool[_ngcontent-%COMP%]   .rl-icon.toolbar-edit[_ngcontent-%COMP%]{font-size:27px;position:relative;left:1px}.simple-tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:0;height:0;top:100%;transform:translate(-50%);border-left:14px solid transparent;border-right:14px solid transparent;border-top:18px solid #1A1A26}.bold-600[_ngcontent-%COMP%]{font-weight:600}.bold-700[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.centered[_ngcontent-%COMP%]{margin:0 auto}.pull-left[_ngcontent-%COMP%]{float:left}.pull-right[_ngcontent-%COMP%]{float:right}ul.list-unstyled[_ngcontent-%COMP%]{list-style:none}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel[_ngcontent-%COMP%]{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.arrow[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border-left:14px solid transparent;border-right:14px solid transparent;border-top:18px solid #1A1A26;z-index:3;transition:top .1s,left .1s}"],data:{animation:[s.v7]}})}return W})()},6315:(Y,C,t)=>{"use strict";function g(d){return"function"==typeof d?.constructor&&Array.isArray(d?.args)}t.d(C,{A:()=>g,v:()=>s});const s=new(t(9039).OlP)("trackingModuleConfig")},9257:(Y,C,t)=>{"use strict";t.d(C,{a:()=>F});var e=t(9877),g=t(274),s=t(3317),d=t(3246),o=t(9736),n=t(339),r=t(6315),l=t(9039),m=t(8336);function u({binder:I},{binder:v}){return I?.id===v?.id}function D(I,v){const E=(0,n.kT)(I),W=(0,n.kT)(v);return E===W||E?.id===W?.id&&E?.personId===W?.personId&&E?.email===W?.email}function w({paymentAgreement:I},{paymentAgreement:v}){return I===v||I?.externalId===v?.externalId}let F=(()=>{class I{constructor(E,W){this.events=new e.x,this.events$=this.events.pipe(),this.binderID="",this.destroy=new e.x;const c=E.getState$().pipe((0,g.R)(this.destroy));c.pipe((0,s.x)(u),(0,d.j)("binder","id")).subscribe({next:a=>{this.binderID=a}}),c.pipe((0,s.x)(D),(0,o.U)(n.kT)).subscribe({next:a=>{this.currentParty=a}}),c.pipe((0,s.x)(w),(0,d.j)("paymentAgreement","externalId")).subscribe({next:a=>{this.paymentAgreementID=a}}),c.subscribe({next:({authInfo:a})=>{this.serviceToken=a?.serviceToken}}),W.subscribers.forEach(a=>(0,r.A)(a)?new a.constructor(this,...a.args):new a(this))}ngOnDestroy(){this.destroy.next()}trackEvent(E,W){this.events.next({type:E,parameters:W,deviceTime:Date.now(),pageTitle:this.currentModalTitle??"",binderID:this.binderID,partyEmailAddress:this.currentParty?.email,partyID:this.currentParty?.id,paymentAgreementID:this.paymentAgreementID})}action(E){return this.trackEvent(0,{...E})}alertDismissed(E){return this.trackEvent(1,{...E})}alertShown(E){return this.trackEvent(2,{...E})}fileDownload(E){return this.trackEvent(3,{...E})}kycStarted(E){return this.trackEvent(5,{...E})}kycSubmitted(E){return this.trackEvent(6,{...E})}pay(E){return this.trackEvent(7,{...E})}paymentAgreementCreated(E){return this.paymentAgreementID=E.paymentAgreementID,this.trackEvent(8,{...E})}paymentAgreementDeleted(E){return this.trackEvent(9,{...E})}userTerminatedModal(E){return this.modalClosed(),this.trackEvent(10,{...E})}modalClosed(){this.currentModalTitle=void 0}virtualPageView(E){return this.currentModalTitle=E.pageTitle,this.trackEvent(11,{...E,location:this.removeServiceTokenFromURL(E.location)})}removeServiceTokenFromURL(E){return E.replace(`serviceToken=${this.serviceToken}`,"")}static#t=this.\u0275fac=function(W){return new(W||I)(l.LFG(m.y),l.LFG(r.v))};static#e=this.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac})}return I})()},9706:(Y,C,t)=>{"use strict";t.d(C,{F:()=>s});var e=t(1396),g=t(9039);let s=(()=>{class n{constructor(){this.browserId=null,this.uidgen3=new e.S(64,e.S.BASE16),this.browserId=this.getBrowserId(),this.getSessionId()}getBrowserId(){if(!this.browserId){let l=o("browser-id");null!=l&&(this.browserId=l)}return this.browserId||this.createBrowserId("broswer-id")}createBrowserId(l){return this.browserId=this.uidgen3.generateSync(),d("browser-id",this.browserId,null),this.browserId}getSessionId(){let l=o("session-id");if(null!=l)return l;{let m=this.uidgen3.generateSync();return d("session-id",m,30),m}}static#t=this.\u0275fac=function(m){return new(m||n)};static#e=this.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac})}return n})();function d(n,r,l){var m,u=new Date;l?(u.setTime(u.getTime()+60*l*1e3),m="; expires="+u.toUTCString()):(u.setTime(2147483647e3),m="; expires="+u.toUTCString()),document.cookie=n+"="+r+m+"; path=/"}function o(n){for(var r=n+"=",l=document.cookie.split(";"),m=0;m<l.length;m++){for(var u=l[m];" "==u.charAt(0);)u=u.substring(1,u.length);if(0==u.indexOf(r))return u.substring(r.length,u.length)}return null}},777:(Y,C,t)=>{"use strict";t.d(C,{e:()=>s});var e=t(9039);const g=window.env;let s=(()=>{class d{constructor(){g||console.error("Could not detect environment variables in window.env!"),this.setClientCredentialVars()}setClientCredentialVars(){const n=g.client_credentials_full.find(r=>r.purpose.split(" ").indexOf("sign-app")>-1);this.signAppClientID=n.client_id,this.signAppClientSecret=n.client_secret}getDefaultBrandId(){return this.defaultBrandId}getApigeeAuthUrl(){return g.apigeeAuthUrl}getBindersBaseUrl(){return g.bindersBaseUrl}getEprsBaseUrl(){return g.eprsBaseUrl}getPeerPaymentsBaseUrl(){return g.peerPaymentsBaseUrl}getIdentityBaseUrl(){return g.identityBaseUrl}getAuthClientId(){return this.signAppClientID}getAuthClientSecret(){return this.signAppClientSecret}isPendoSnippetEnabled(){return g.pendoSnippet}shouldTrackClientSideErrors(){return g.trackErrors}static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac})}return d})()},6239:(Y,C,t)=>{"use strict";t.d(C,{s:()=>s});var e=t(3699),g=t(9039);let s=(()=>{class d{createHeadersForBusinessEvent(){const n=new e.WM;return n.append("Content-Type","application/json"),n}static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac})}return d})()},8920:(Y,C,t)=>{"use strict";t.d(C,{e:()=>n});var e=t(9039),g=t(3913);const s={pay_with_bank_account:!0,payments_enabled:!1,variable_fee_enabled:!0,force_binders_service:!1,wallet_enabled:!1};class d{static get defaultFlagValues(){return{...s}}constructor(){const l=Object.keys(d.defaultFlagValues).reduce((m,u)=>({...m,[u]:d.defaultFlagValues[u]?"true":"false"}),{});this.storage=(0,g.h)({defaultValues:l,ignoreStorageErrors:!0}),this.setupStorageFromURL(),this.flags=new Proxy({},{get:(m,u)=>"string"==typeof u?"true"===this.storage[u]:d.defaultFlagValues[u],set:()=>!0,deleteProperty:()=>!1})}setupStorageFromURL(){new URL(window.location.href).searchParams.forEach((m,u)=>{this.storage[u]="false"===m?"false":"true"})}}let n=(()=>{class r extends(function o(r){return class extends r{constructor(...m){super(...m),this.flags=new Proxy(this.flags,{set:(u,D,w)=>{if("string"==typeof D)if((0,e.X6Q)()){const F="font-family:monospace; font-weight:bold",I="font-family:inherit; font-weight:inherit";console?.info?.call(console,"You can set feature flags in %cdev%c mode but they will be immutable in %cprod%c mode.",F,I,F,I),this.storage[D]="false"===w||!1===w?"false":"true",this.logFlags()}else{const F=`localStorage.setItem("${D}", "${"false"===w||!1===w?"false":"true"}")`;console?.info?.call(console,"Feature flags are set in %clocal storage only%c. Try %c%s","font-weight:bold","font-weight:inherit","display:block; font-family:monospace; font-size:125%; line-height:1.6",F)}return!0},has:(u,D)=>{if("string"!=typeof D)return!1;const w=this.storage[D];return"true"===w||"false"===w},ownKeys:()=>Object.keys(this.storage).filter(D=>{const w=this.storage[D];return"true"===w||"false"===w}),getOwnPropertyDescriptor:(u,D)=>({configurable:!0,enumerable:!0,get:()=>u[D]})}),this.logFlags()}logFlags(){console?.groupCollapsed?.call(console,"Feature flags");const m=Object.keys(this.flags),u=m.filter(w=>this.flags[w]),D=(0,e.X6Q)();if(D||u.length>0){const w=(D?m:u).reduce((F,I)=>({...F,[I in d.defaultFlagValues?I:`\u26a0\ufe0f ${I} [unknown flag]`]:this.flags[I]?"on":"off"}),{});console?.table?.call(console,w)}else console?.info?.call(console,"No flags enabled");console?.groupEnd?.call(console)}}}(d)){static#t=this.\u0275fac=(()=>{let m;return function(D){return(m||(m=e.n5z(r)))(D||r)}})();static#e=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})()},7026:(Y,C,t)=>{"use strict";t.d(C,{Xp:()=>d,mh:()=>s});var e=t(292),g=t.n(e);function s(r,l=!1){return"fr"==r?l?"DD MMMM YYYY":"DD/MM/YYYY":"nl"===r||"be"===r?l?"DD MMMM YYYY":"DD.MM.YYYY":"de"===r?l?"DD. MMMM YYYY":"DD.MM.YYYY":"es"===r?l?"DD [de] MMMM [de] YYYY":"DD/MM/YYYY":"gb"===r||"it"===r?l?"DD MMMM YYYY":"DD/MM/YYYY":"us"===r?l?"MMMM DD, YYYY":"MM/DD/YYYY":"YYYY-MM-DD"}function d(r){return(l,m=!1)=>g()(l).locale(r).format(s(r,m))}},5453:(Y,C,t)=>{"use strict";t.d(C,{o:()=>$});var e=t(5939),g=t(292),s=t.n(g),d=t(6669),o=t.n(d),n=t(328),r=t.n(n);function u(B){return"fr"===B?(O,k)=>D(O,k,","," ",3):"en"===B||"gb"===B?(O,k)=>D(O,k,".",",",3):(O,k)=>D(O,k,",",".",3)}function D(B,O,k="",f="",x=3){if(null==B)return"";var U;if(U=null==O?B.toString().split("."):B.toFixed(O).split("."),""!==f&&(U[0]=U[0].replace(/\B(?=(\d{3})+(?!\d))/g,f)),null!=O){if(O>0){let A=U[1];for(A||(A="0");A.length<O;)A+="0";U[1]=A}return U.join(k)}return U[1]&&U[1].length?U[0]+k+U[1]:U[0]}var a=t(7026);var K={fr:"Europe/Paris",es:"Europe/Madrid",nl:"Europe/Amsterdam",gb:"Europe/London",it:"Europe/Rome",be:"Europe/Berlin",ge:"Europe/Brussels",us:"America/Los_Angeles"};class P{constructor(O,k){null==O&&console.error("Localization function set must be provided with the language on construction"),this.setRegion(O,k)}getMoment(O){return s()(O).locale(this.region)}setRegion(O,k){this.region=O,this.getCurrency=function F(B){var O;O="gb"===B?"\xa3":"us"===B?"$":"\u20ac";let k=u(B);const f=function E(B){return"fr"===B||"es"===B||"de"===B}(B);return(U,A=2,j=[],p=[])=>{if(j.length||p.length){let h="";return h+=2==p.length?p[0]+k(U,A)+p[1]:k(U,A),2==j.length?f?h+=j[0]+" "+O+j[1]:h=j[0]+O+j[1]+h:h+=O,h}return f?k(U,A)+" "+O:O+k(U,A)}}(O),this.getNumber=u(O),this.getTime=function T(B,O){return function M(B,O="hh:mm"){return function k(f){return s()(f).tz(B).format(O)}}(O=O||K[B]||"Europe/Paris","fr"===B?"HH[h]mm":"gb"===B?"h.mm":"us"===B?"h:mm":"HH:mm")}(O,k),this.getDate=(0,a.Xp)(O),this.getSpecificCurrency=function w(B){let O=u(B);var k;return k="fr"===B||"es"===B||"de"===B,(f="EUR",x,U=2,A=[],j=[])=>{let p;if(p="EUR"===f.toUpperCase()?"\u20ac":"GBP"===f.toUpperCase()?"\xa3":"USD"===f.toUpperCase()?"$":"\u20ac",A.length||j.length){let h="";return h+=2==j.length?j[0]+O(x,U)+j[1]:O(x,U),2==A.length?k?h+=A[0]+" "+p+A[1]:h=A[0]+p+A[1]+h:h+=p,h}return k?O(x,U)+" "+p:p+O(x,U)}}(O)}}var _=t(9039),z=t(9671);let $=(()=>{class B{constructor(k,f){this.translate=k,this.localizeRouterService=f,this.setLanguage(this.localizeRouterService.parser.currentLang)}init(k){this.language=k.toLowerCase(),s().extend(r()),s().extend(o());const f=s().tz.guess();this.localize=new P("us",f)}setLanguage(k){const f=k.toLowerCase();this.translate.use(f),this.init(f)}getLanguage(){return this.language}static#t=this.\u0275fac=function(f){return new(f||B)(_.LFG(e.sK),_.LFG(z.An))};static#e=this.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac})}return B})()},913:(Y,C,t)=>{"use strict";t.d(C,{U:()=>n});var e=t(3252),g=t(3699),s=t(2389),d=t(9039),o=t(777);let n=(()=>{class r{constructor(m,u){this.http=m,this.envInfo=u}generateEprsUrl(m){return this.envInfo.getEprsBaseUrl()+m}fetchBrandConfigFromPartnerConfigService(m){const u=`/partners/v1/brands/${m.brandId}/settingSets/${m.settingSetName}/breakingVersions/${m.breakingVersion}`,D=(new g.WM).set("skipAuth","true");return D.append("Content-Type","application/json"),this.http.get(u,{headers:D})}fetchBrandConfigFromEnterprisePublishedResourcesService(m){const u=this.generateEprsUrl(`/groups/${m.brandId}/configs/document-manager`),D=new g.WM;return D.append("Content-Type","application/json"),this.http.get(u,{headers:D})}fetchGlobalBrandConfig(m){const u=this.generateEprsUrl(`/groups/${m.brandId}/configs/brand`);return this.http.get(u).pipe((0,s.K)(D=>(0,e._)(()=>D)))}fetchBrandConfig(m){return this.fetchBrandConfigFromEnterprisePublishedResourcesService(m).pipe((0,s.K)(()=>this.fetchBrandConfigFromPartnerConfigService(m)))}static#t=this.\u0275fac=function(u){return new(u||r)(d.LFG(g.eN),d.LFG(o.e))};static#e=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})()},3913:(Y,C,t)=>{"use strict";function e({defaultValues:g={},storage:s=localStorage,ignoreStorageErrors:d}){let o=!!d;function n(m,u){if("isWritable"===u)return(()=>{try{return s.setItem("__storage_test__","test"),s.removeItem("__storage_test__"),!0}catch{return!1}})();if("string"==typeof u){const D=s.getItem(u);return null===D?g[u]:D}return g[u]}function r(m,u){return u in m||"string"==typeof u&&null!==s.getItem(u)}function l(m,u,D){if("isWritable"===u)return!1;if("ignoreErrors"===u)return o=!!D,!0;if("string"==typeof u)try{s.setItem(u,`${D}`)}catch{return o}return!0}return new Proxy(g,{get:n,set:l,deleteProperty:(m,u)=>("string"==typeof u&&s.removeItem(u),!0),has:r,ownKeys(m){const{length:u}=s,D=Object.keys(m).reduce((w,F)=>({...w,[F]:void 0}),{});for(let w=0;w<u;w+=1)D[s.key(w)]=void 0;return Object.keys(D)},getOwnPropertyDescriptor(m,u){const D=Object.getOwnPropertyDescriptor(m,u);return r(m,u)?{configurable:D?.configurable??!0,enumerable:D?.enumerable??!0,get:()=>n(0,u),set(w){l(0,u,w)}}:D}})}t.d(C,{h:()=>e})},7764:(Y,C,t)=>{"use strict";t.d(C,{V:()=>g});var e=t(9039);let g=(()=>{class s{constructor(){this.userAgent=navigator.userAgent,this.userPlatform=navigator.platform}getUserAgent(){return this.userAgent}isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent)}isWindowsDevice(){return null!==this.userAgent.match(/Windows/)}isSafariBrowser(){return/^((?!chrome|android).)*safari/i.test(this.userAgent)}isChromeForIOSBrowser(){return null!==this.userAgent.match("CriOS")}isIOSDevice(){return["iPad","iPhone","iPod"].includes(this.userPlatform)||this.userAgent.includes("Mac")&&"ontouchend"in document}isAndroidDevice(){return this.userAgent.toLowerCase().indexOf("android")>-1}isInternetExplorerBrowser(){return-1!==this.userAgent.indexOf("MSIE")||this.userAgent.indexOf("Trident/")>-1}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac})}return s})()},385:(Y,C,t)=>{"use strict";t.d(C,{R:()=>g});var e=t(9039);let g=(()=>{class s{constructor(){}emailValidation(o){if(/^[A-Za-z0-9\.\-\'\_\+]+\@[A-Za-z0-9\.\-\'\_\+]+\.[A-Za-z0-9]+$/.test(o)&&/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o))return!0}passwordValidation(o){return!!(/(\d|[#?!@$%^&])+/.test(o)&&o.length>=6)}phoneValidation(o){return/^((\(\d{3}\)\s?\d{3}-\d{4})|(\d{3}-\d{3}-\d{4})|(\d{10})).*/.test(o)}qnaPhoneValidat(o){return o.length>=9&&o.length<=15}cvcCodeValidation(o){return/^[0-9]{3,4}$/.test(o)}creditCardValidation(o){let n=o;if(/[^0-9-\s]+/.test(n))return!1;{let r=0,l=0,m=!1;n=n.replace(/\D/g,"");for(let D=n.length-1;D>=0;D--){let w=n.charAt(D);l=parseInt(w,10),m&&(l*=2)>9&&(l-=9),r+=l,m=!m}return r%10==0&&("4"==n.substr(0,1)?13==n.length||16==n.length:"51"==n.substr(0,2)||"52"==n.substr(0,2)||"53"==n.substr(0,2)||"54"==n.substr(0,2)||"55"==n.substr(0,2)?16==n.length:"34"==n.substr(0,2)||"37"==n.substr(0,2)?15==n.length:"6011"==n.substr(0,4)||"65"==n.substr(0,2)?16==n.length:n.length>=12&&n.length<=19)}}expDateValidation(o,n){let r=new Date;return n=parseInt(n),o=parseInt(o),n>r.getFullYear()||n==r.getFullYear()&&o>=r.getMonth()+1}matchValidation(o,n){return o==n}existsValidation(o){return o&&o.trim().length>0}zipValidation(o){return/^\d{5}$/.test(o)}ssn4Validation(o){return/^\d{4}$/.test(o)}routingNumberValidation(o){return/^((0[0-9])|(1[0-2])|(2[1-9])|(3[0-2])|(6[1-9])|(7[0-2])|80)([0-9]{7})$/.test(o)}accountNumberValidation(o){return/^\w{1,17}$/.test(o)}nameValidation(o){if(/^\s/.test(o)&&!/[^ ]/.test(o)||!o)return!0}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac})}return s})()},1330:(Y,C,t)=>{"use strict";t.d(C,{Y:()=>D});var e=t(4683),g=t(3699),s=t(7455),d=t(9736),o=t(3738),n=t(4776),r=t(5361),l=t(9039),m=t(777),u=t(8336);let D=(()=>{class w{constructor(I,v,E){this.http=I,this.envInfo=v,this.store=E}getDecodedToken(){const I=this.getServiceTokenFromUrl();return I?r.s.parseJwt(I):null}getPartnerId(){const I=this.getDecodedToken();return I&&I.srv&&I.srv.partnerId?I.srv.partnerId:null}getBrandId(){const I=this.getDecodedToken();return I&&I.srv&&I.srv.brandId?I.srv.brandId:null}getServiceTokenFromUrl(){return(window.location.hash.substr(1)||"").split("&").filter(v=>v.startsWith("serviceToken=")).map(v=>v.replace("serviceToken=","")).map(v=>decodeURI(v)).pop()}fetchAccessToken(I){let v,E,W,c;E=this.envInfo.getAuthClientId(),W=this.envInfo.getAuthClientSecret(),v=`${this.envInfo.getApigeeAuthUrl()}/accesstoken`,c={client_id:E,client_secret:W,grant_type:"authorization_code",code:I};const a=(new g.WM).set("skipAuth","true");return this.cachedTokenResponse||(this.cachedTokenResponse=this.http.post(v,c,{headers:a,observe:"response"}).pipe((0,s.d)(1))),this.cachedTokenResponse}getAccessToken(){return this.getTokenAuthInfo().pipe((0,d.U)(I=>I.access_token))}getTokenAuthInfo(){const I=this.getServiceTokenFromUrl(),v=this.loadAuthInfo();return v&&v.serviceToken==I?(0,e.D)([v]):this.fetchAccessToken(I).pipe((0,d.U)(W=>Object.assign(W.body,{serviceToken:I})),(0,o.b)(W=>this.saveAuthInfo(W)))}loadAuthInfo(){return this.store.getState().get("authInfo")}saveAuthInfo(I){if(!I.serviceData){const E=this.getServiceTokenFromUrl();I.serviceData=function v(E){const c=E.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(c))}(E).srv}this.store.dispatch((0,n.QS)(I))}static#t=this.\u0275fac=function(v){return new(v||w)(l.LFG(g.eN),l.LFG(m.e),l.LFG(u.y))};static#e=this.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac})}return w})()},6411:(Y,C,t)=>{"use strict";t.d(C,{O:()=>m});var e=t(1396),g=t(9039),s=t(3699),d=t(6239),o=t(9706),n=t(8336),r=t(777),l=t(7764);let m=(()=>{class u{constructor(w,F,I,v,E,W){this.http=w,this.headers=F,this.cookiesService=I,this.store=v,this.envInfo=E,this.userAgentService=W,this.uidgen3=new e.S(64,e.S.BASE16)}postBusinessEvent(w,F){w.attemptNumber++,w.event.eventTimestamp=(new Date).toISOString(),null!=F&&(w.trace={requestId:F.get("request-id")});let I=this.headers.createHeadersForBusinessEvent(),E=JSON.stringify(w);return this.http.post("/document-manager/external-backends/nibbler/v1/events",E,{headers:I})}createBusinessEvent(w,F={}){let v={market:"us",serviceName:"rl-docman-app",event:this.createEvent(w),attemptId:this.uidgen3.generateSync(),attemptNumber:0};return Object.keys(F).forEach(E=>{v[E]=F[E]||v[E]}),v}createEvent(w){const I=this.store.getState().authInfo,v=I?I.serviceData:null,E=v?v.originalClientId:null;return null==w.eventType?(console.log("Event type is required for events"),null):{sharedSessionId:this.cookiesService.getSessionId(),browserSessionId:this.cookiesService.getBrowserId(),referrerUrl:document.referrer,clientId:E||this.envInfo.getAuthClientId(),pageUrl:window.location.href,userAgent:this.userAgentService.getUserAgent(),eventDescription:w}}static#t=this.\u0275fac=function(F){return new(F||u)(g.LFG(s.eN),g.LFG(d.s),g.LFG(o.F),g.LFG(n.y),g.LFG(r.e),g.LFG(l.V))};static#e=this.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac})}return u})()},9375:(Y,C,t)=>{"use strict";t.d(C,{c:()=>d});var e=t(2950),g=t(9039),s=t(8336);let d=(()=>{class o{static isLegacyAlert(r){return!!r?.params}constructor(r){this.store=r}addAlert(r){return o.isLegacyAlert(r)?this.addAlert({...r,message:{key:r.message,params:r.params},params:void 0}):(this.store.dispatch((0,e.V_)(r)),()=>this.deleteAlert(r))}setAlertMessage(r){return this.addAlert(r)}addDangerAlert(r){return this.addAlert({...r,type:"danger"})}addNotification(r){return this.addAlert({...r,type:"notification"})}addSuccessAlert(r){return this.addAlert({...r,type:"success"})}clearAlerts(){this.store.dispatch((0,e.Kd)())}deleteAlert(r){this.store.dispatch((0,e.JU)(r))}static#t=this.\u0275fac=function(l){return new(l||o)(g.LFG(s.y))};static#e=this.\u0275prov=g.Yz7({token:o,factory:o.\u0275fac})}return o})()},782:(Y,C,t)=>{"use strict";t.d(C,{b:()=>u});var e=t(4980),g=t(4300),s=t(9736),d=t(2389),o=t(5361),n=t(9039),r=t(9163),l=t(7865),m=t(1330);let u=(()=>{class D{constructor(F,I,v){this.signService=F,this.payService=I,this.tokenAuthService=v}resolve(F){const I=D.getServiceToken(F),v=this.getCurrentPartyIdFromRoute(),E=this.getBinderIdFromRoute(F);if(!o.s.parseJwt(I)||!E)return(0,e.of)({binder:null,binderError:"No token or binderId"});const W=this.signService.getBinder(E,{fetchPages:!0}).pipe((0,s.U)(T=>({binder:T,binderError:null})),(0,d.K)(T=>(0,e.of)({binder:null,binderError:T}))),c=this.signService.getDocumentEvents(E).pipe((0,d.K)(()=>(console.log("Could not fetch binder history, ignoring."),(0,e.of)({binderEventsError:"Could not fetch binder history, ignoring."})))),a=this.payService.getPaymentAgreementByBinderID(E).pipe((0,d.K)(()=>(console.log("Could not fetch payment agreement, ignoring."),(0,e.of)({paymentAgreementError:"Could not fetch payment agreement, ignoring."})))),M=this.payService.getExistingPaymentAccount("rl-us",v).pipe((0,d.K)(()=>(console.log("Could not fetch payment account, ignoring."),(0,e.of)({paymentAccountError:"Could not fetch payment account, ignoring."}))));return(0,g.D)([W,c,a,M]).pipe((0,s.U)(([T,K,X,P])=>({binder:T.binder,binderError:T.binderError,paymentAgreement:X,paymentAccount:P})))}getBinderIdFromRoute(F){const I=this.tokenAuthService.getServiceTokenFromUrl(),v=F.paramMap.get("binderId"),E=o.s.parseJwt(I);return v||(E&&E.srv&&E.srv.binderId?E.srv.binderId:null)}static getServiceToken(F){const{fragment:I}=F;return(I||"").split("&").filter(v=>v.startsWith("serviceToken=")).map(v=>v.replace("serviceToken=","")).map(v=>decodeURI(v)).pop()}getCurrentPartyIdFromRoute(){const F=this.tokenAuthService.getServiceTokenFromUrl(),I=o.s.parseJwt(F);return I?.srv?.upid?I?.srv?.upid:I?.srv?.partyId?I?.srv?.partyId:null}static#t=this.\u0275fac=function(I){return new(I||D)(n.LFG(r.f),n.LFG(l.T),n.LFG(m.Y))};static#e=this.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac})}return D})()},5278:(Y,C,t)=>{"use strict";t.d(C,{y:()=>u});var e=t(4300),g=t(4980),s=t(3738),d=t(2389),o=t(5248),n=t(9039),r=t(1330),l=t(913),m=t(8336);let u=(()=>{class D{constructor(F,I,v){this.tokenAuthService=F,this.partnersService=I,this.store=v,this.brandingDataInfo={brandId:this.tokenAuthService.getBrandId(),settingSetName:"RocketSignUX",breakingVersion:"1"}}resolve(F){return(0,e.D)({brandConfig:this.partnersService.fetchBrandConfig(this.brandingDataInfo),globalBrandConfig:this.partnersService.fetchGlobalBrandConfig(this.brandingDataInfo)}).pipe((0,s.b)(I=>{this.store.dispatch((0,o.J)(I.globalBrandConfig)),this.store.dispatch((0,o.H)(I.brandConfig.data))}),(0,d.K)(I=>(console.log("Unable to fetch branding.",I),(0,g.of)(null))))}static#t=this.\u0275fac=function(I){return new(I||D)(n.LFG(r.Y),n.LFG(l.U),n.LFG(m.y))};static#e=this.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac})}return D})()},2906:(Y,C,t)=>{"use strict";t.d(C,{r:()=>s});var e=t(7427),g=t(9039);let s=(()=>{class d{static copyPagesFromDocument(n,r){return{...r,pages:n.pages.map(l=>({...l}))}}static copyPagesFromDocuments(n,r){return r.map(l=>{const m=n.find(u=>u.id===l.id);return this.copyPagesFromDocument(m??l,l)})}static format(n,r){const l=n.pages.map(D=>D.id),m=r.filter(D=>l.includes(D.position.pageId)),u={...n,inputs:d.formatInputs(m)};return delete u.originalContentChecksum,delete u.pages,delete u.contentType,delete u.version,u}static formatInputs(n){return n.map(r=>{const l={...r.font,sizeInPx:r.font?r.font.sizeInPx:16,type:r.font?r.font.type:"CAVEAT_REGULAR"};return"PLACEHOLDER"===r.position.type?{id:d.isTemporaryUUID(r.id)?null:r.id,type:r.type,partyReference:r.partyReference,prompt:r.prompt,optional:r.optional,font:l,position:{identifier:r.position.identifier,type:r.position.type,width:r.position.width,height:r.position.height,hAlignment:r.position.hAlignment,vAlignment:r.position.vAlignment,unit:"PCT"}}:{id:d.isTemporaryUUID(r.id)||"SIGNATURE_PAGE"===r.position.type?null:r.id,type:r.type,partyReference:r.partyReference,prompt:r.prompt,optional:r.optional,font:l,position:{type:r.position.type,pageId:r.position.pageId,xOffset:r.position.xOffset,yOffset:r.position.yOffset,width:r.position.width,height:r.position.height,vAlignment:r.position.vAlignment,hAlignment:r.position.hAlignment,unit:"PCT"}}})}static isTemporaryUUID(n=""){return n.includes(e._j)}static#t=this.\u0275fac=function(r){return new(r||d)};static#e=this.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac})}return d})()},263:(Y,C,t)=>{"use strict";t.d(C,{P:()=>r});var e=t(3738),g=t(3464),s=t(9039),d=t(777),o=t(3699),n=t(8336);let r=(()=>{class l{constructor(u,D,w){this.http=D,this.store=w,this.baseURL=u.getIdentityBaseUrl()}getIdentityProfile(u){return this.http.get(`${this.baseURL}/profile/${u}`).pipe((0,e.b)(D=>{this.store.dispatch((0,g.zN)(D))}))}static#t=this.\u0275fac=function(D){return new(D||l)(s.LFG(d.e),s.LFG(o.eN),s.LFG(n.y))};static#e=this.\u0275prov=s.Yz7({token:l,factory:l.\u0275fac})}return l})()},4997:(Y,C,t)=>{"use strict";t.d(C,{G:()=>d,e:()=>o});var e=t(9877),g=t(4520),s=t(9039),d=function(n){return n[n.UserNavigatedBack=0]="UserNavigatedBack",n[n.UserNavigatedNext=1]="UserNavigatedNext",n[n.UserTerminated=2]="UserTerminated",n[n.CompletedSuccessfully=3]="CompletedSuccessfully",n[n.CompletedWithError=4]="CompletedWithError",n}(d||{});let o=(()=>{class n{static IsCloseIntention(l){return"close"===l.intent}static IsHeaderWidgetClickIntention(l){return"leftHeaderWidgetClick"===l.intent||"rightHeaderWidgetClick"===l.intent}static IsNavigateIntention(l){return"navigate"===l.intent}constructor(){this.state=new e.x,this.state$=this.state.asObservable(),this.close$=this.state$.pipe((0,g.h)(n.IsCloseIntention)),this.navigate$=this.state$.pipe((0,g.h)(n.IsNavigateIntention))}close(l,m){this.state.next({intent:"close",data:m?{...m,reason:l}:{reason:l}})}headerWidgetClick(l,m){this.state.next({intent:`${l}HeaderWidgetClick`,data:m||{}})}leftHeaderWidgetClick(l){return this.headerWidgetClick("left",l)}navigate(l,m){this.state.next({intent:"navigate",data:m?{...m,to:l}:{to:l}})}rightHeaderWidgetClick(l){return this.headerWidgetClick("right",l)}static#t=this.\u0275fac=function(m){return new(m||n)};static#e=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})()},3497:(Y,C,t)=>{"use strict";t.d(C,{i:()=>g});var e=t(9039);let g=(()=>{class s{constructor(){return this.notification=null,this.notificationChanges=new e.vpe,s.instance=s.instance||this}closeNotification(){this.notification=null,this.notificationChanges.emit(this.notification)}setNotification(o){this.notification={key:o.key,params:o.params,mobileKey:o.mobileKey,autoClose:o.autoClose},this.notificationChanges.emit(this.notification),o.autoClose&&setTimeout(()=>{this.closeNotification()},3e3)}static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac})}return s})()},6036:(Y,C,t)=>{"use strict";t.d(C,{p:()=>w});var e=t(5616),g=t(7455),s=t(9736),d=t(8037),o=t(4980),n=t(6539),r=t(339),l=t(9039),m=t(9163),u=t(7865),D=t(8336);let w=(()=>{class F{constructor(v,E,W){this.binderService=v,this.payService=E,this.store=W}static fixRoles(v,{binder:E,paymentAgreement:W}){const c=F.removeDuplicateRoles(v),a=F.getPartyRolesDetails(c,{binder:E,paymentAgreement:W}),T=a.hasPayeeRoleByMistake||a.hasPayerRoleByMistake||a.hasSignerRoleByMistake;return a.isMissingPayeeRole||a.isMissingPayerRole||a.isMissingSignerRole||T?(T&&(c.roles=c.roles.filter(K=>"PAYEE"===K?!a.hasPayeeRoleByMistake:"PAYER"===K?!a.hasPayerRoleByMistake:"SIGNER"!==K||!a.hasSignerRoleByMistake)),a.isMissingPayeeRole&&c.roles.push("PAYEE"),a.isMissingPayerRole&&c.roles.push("PAYER"),a.isMissingSignerRole&&c.roles.push("SIGNER"),{updated:!0,party:c}):{updated:c.roles.length!==v.roles.length,party:c}}isDeletePartySafe(v){const{paymentAgreement:E}=this.store.getState(),W=F.getPartyRolesDetails(v,{paymentAgreement:E});return!(W.isPayee||W.isPayer)}ensurePartyRefIntegrity(){const v=this.store.getState(),{binder:E,paymentAgreement:W}=v;return"IN_PREPARATION"===E.status?(this.updatePartyRoles(E,W),this.binderService.updateBinder().pipe((0,e.b)(()=>this.updatePaymentAgreement(E,W)),(0,g.d)(),(0,s.U)(()=>this.store.getState()))):(0,o.of)(v)}updatePartyRoles(v,E){const{updatedParties:W}=F.fixRolesForParties(v.parties,v,E);W.forEach(c=>this.store.dispatch((0,n.CE)(c)))}updatePaymentAgreement(v,E){if(null===E)return(0,o.of)({updatedPaymentAgreement:!1});if("deletedNotPushed"===E.status)return this.payService.deletePaymentAgreement(E).pipe((0,d.h)({updatedPaymentAgreement:!0}));const W=v.parties.filter(c=>{const a=F.getPartyRolesDetails(c,{binder:v,paymentAgreement:E});return(a.isPayee||a.isPayer)&&(a.isTemporary||c.emailChanged)});if(W.length>0){const c=F.updatePaymentAgreementWithUpdatedParties(W,this.store.getState().binder.parties,E);return this.payService.deletePaymentAgreement(E).pipe((0,e.b)(()=>("deletedNotPushed"===E.status&&(0,o.of)(void 0),this.payService.createPaymentAgreement(c))),(0,d.h)({updatedPaymentAgreement:!0}))}return(0,o.of)({updatedPaymentAgreement:!1})}static fixRolesForParties(v,E,W){return{updatedParties:v.reduce((a,M)=>{const T=F.fixRoles(M,{binder:E,paymentAgreement:W});return T.updated?[...a,T.party]:a},[])}}static removeDuplicateRoles(v){return{...v,roles:v.roles.filter((E,W)=>v.roles.indexOf(E)===W)}}static getPartyRolesDetails(v,{binder:E,paymentAgreement:W}){const{payers:c,payees:a}=F.getPartiesFromPaymentAgreement(W),M=!!v.id&&a.includes(v.id),T=(0,r.jn)(v,"PAYEE"),K=!!v.id&&c.includes(v.id),X=(0,r.jn)(v,"PAYER"),P=!(!E||!v.reference)&&(0,r.Kt)(v.reference,{binder:E}),y=(0,r.jn)(v,"SIGNER");return{isPayee:M,isPayer:K,isSigner:P,isMissingPayeeRole:M&&!T,isMissingPayerRole:K&&!X,isMissingSignerRole:P&&!y,hasPayeeRoleByMistake:!!W&&T&&!M,hasPayerRoleByMistake:!!W&&X&&!K,hasSignerRoleByMistake:!!E&&y&&!P,isTemporary:(M||K)&&v.isTemporary}}static getPartiesFromPaymentAgreement(v){return v&&"deletedNotPushed"!==v.status?v.payments.reduce(({payers:E,payees:W},c)=>({payers:[...E,...c.ins.map(T=>T.partyId)],payees:[...W,...c.outs.map(T=>T.partyId)]}),{payers:[],payees:[]}):{payers:[],payees:[]}}static updatePaymentAgreementWithUpdatedParties(v,E,W){const c=a=>{const M=v.find(T=>T.id===a.partyId);if(M){const T=E.find(K=>K.reference===M.reference);return T||console.warn(`A party to a payment agreement is gone! "${M.reference}" was scheduled for a new ID, but that reference could not be found in the current binder.`),{...a,partyId:T?.id??""}}return a};return{...W,payments:W.payments.map(a=>({...a,ins:[...a.ins.map(c)],outs:[...a.outs.map(c)],fees:[...a.fees.map(M=>({...M,breakdown:M.breakdown.map(c)}))]}))}}static#t=this.\u0275fac=function(E){return new(E||F)(l.LFG(m.f),l.LFG(u.T),l.LFG(D.y))};static#e=this.\u0275prov=l.Yz7({token:F,factory:F.\u0275fac})}return F})()},7865:(Y,C,t)=>{"use strict";t.d(C,{T:()=>v});var e=t(4980),g=t(4300),s=t(9736),d=t(9912),o=t(2389),n=t(3738),r=t(8037),l=t(3699),m=t(339),u=t(870),D=t(9823),w=t(9039),F=t(777),I=t(8336);let v=(()=>{class E{constructor(c,a,M){this.http=a,this.store=M,this.baseUrl=c.getPeerPaymentsBaseUrl()}makeEmptyPaymentAgreement(){const c=(new Date).toISOString();return{firstPayment:c,lastPayment:c,brand:"rl-us",paymentPeriod:"once",payments:[{due:c,ins:[{partyId:"00000000-0000-0000-0000-000000000000",payment:{amount:0,currency:"USD"}}],outs:[{partyId:"00000000-0000-0000-0000-000000000000",payment:{amount:0,currency:"USD"}}],fees:[{code:"rl-us-fee",description:"Convenience Fee",payment:{amount:0,currency:"USD"},breakdown:[{partyId:"00000000-0000-0000-0000-000000000000",payment:{amount:0,currency:"USD"}}]}]}]}}getPaymentsConfig(){return this.http.get(`${this.baseUrl}/config`)}getSpreedlyKey(){return this.getPaymentsConfig().pipe((0,s.U)(c=>c.spreedlyEnvironmentKey))}getSpreedlyToken(c){return this.getSpreedlyKey().pipe((0,s.U)(a=>{const M="https://core.spreedly.com/v1/payment_methods.js",T={...c,environment_key:a};if(URL&&URLSearchParams){const P=new URLSearchParams(T);return new URL(`${M}?${P.toString()}`).toString()}const K=/%20/g;return`${M}?${Object.keys(T).reduce((P,y)=>{const _=encodeURIComponent(null===T[y]?"":T[y]).replace(K,"+");return`${P}&${encodeURIComponent(y)}=${_}`},"").substring(1)}`}),(0,d.z)(a=>this.http.jsonp(a,"callback")),(0,s.U)(a=>201===a.status?{success:!0,token:a.transaction.payment_method.token}:422===a.status&&a?.errors[0]?.attribute?{success:!1,reason:"validation_error",error:a.errors.map(({attribute:M})=>"number"===M?"SPREEDLY_VALIDATION_CARD":"card_type"===M?"SPREEDLY_VALIDATION_CARD_TYPE":"card_name"===M?"SPREEDLY_VALIDATION_CARD_NAME":"month"===M?"SPREEDLY_VALIDATION_MONTH":"year"===M?"SPREEDLY_VALIDATION_YEAR":"verification_value"===M?"SPREEDLY_VALIDATION_CVV":"SPREEDLY_VALIDATION_OTHER")}:{success:!1,reason:"service_error",error:a}),(0,o.K)(a=>(0,e.of)({success:!1,reason:"http_error",error:a})))}createPaymentAgreement(c){return this.http.post(`${this.baseUrl}/payment-agreements`,c).pipe((0,n.b)(M=>{this.store.dispatch((0,u.o2)(M))}))}deletePaymentAgreement(c){const a="string"==typeof c?c:c.externalId;return this.http.delete(`${this.baseUrl}/payment-agreements/${a}`).pipe((0,n.b)(()=>{const T=this.store.getState().paymentAgreement;T&&T.externalId===a&&this.store.dispatch((0,u.kK)())}),(0,r.h)(void 0))}getLatestPaymentAgreementByBinderID(c){return this.http.get(`${this.baseUrl}/payment-agreements`,{params:{binderId:c}}).pipe((0,s.U)(M=>M&&M.length>0?M[0]:null),(0,n.b)(M=>{this.store.dispatch(M?(0,u.o2)(M):(0,u.kK)())}))}getPaymentAgreementByBinderID(c){const a=this.store.getState().paymentAgreement;return a&&a.binderId===c?(0,e.of)(a):this.getLatestPaymentAgreementByBinderID(c)}getLatestPaymentAgreementByID(c){return this.http.get(`${this.baseUrl}/payment-agreements/${c}`).pipe((0,n.b)(M=>{this.store.dispatch((0,u.o2)(M))}))}getPaymentAgreementByID(c){const a=this.store.getState().paymentAgreement;return a&&a.externalId===c?(0,e.of)(a):this.getLatestPaymentAgreementByID(c)}getFeeQuote(c){return this.getQuote(c).pipe((0,s.U)(a=>a.payments[0].fees[0].payment))}getQuote(c){return this.http.post(`${this.baseUrl}/quotes`,c)}setPaymentAgreementStatus(c,a){return this.http.post(`${this.baseUrl}/payment-agreements/${c}/status`,{status:a}).pipe((0,n.b)(T=>{this.store.dispatch((0,u.xk)(T))}))}createPayoutMethod(c){return this.http.post(`${this.baseUrl}/payout-methods`,c)}createPaymentMethod(c){return this.http.post(`${this.baseUrl}/payment-methods`,c)}createAchPaymentMethod(c){return this.http.post(`${this.baseUrl}/payment-methods-ach`,c)}addPaymentMethodToPaymentAgreement(c,a,M,T,K){return this.http.post(`${this.baseUrl}/payment-agreements/${a}/payment-methods`,{partyId:M,payment:{amount:T,currency:K},paymentMethodId:c})}chargePaymentToPaymentAgreement(c,a,M,T,K){const X=M?this.addPaymentMethodToPaymentAgreement(M,c,a,T,K):(0,e.of)(null),P=`${this.baseUrl}/payment-agreements/${c}/party/${a}/charges`;return X.pipe((0,d.z)(()=>this.http.post(P,null)),(0,d.z)(()=>this.getLatestPaymentAgreementByID(c)))}chargeAchPaymentToPaymentAgreement(c,a,M,T,K,X){const P=T?this.addPaymentMethodToPaymentAgreement(T,c,a,K,X):(0,e.of)(null),y=`${this.baseUrl}/payment-agreements/${c}/party/${a}/charges_ach`;return P.pipe((0,d.z)(()=>this.http.post(y,M)),(0,d.z)(()=>this.getLatestPaymentAgreementByID(c)))}payeeAssignmentProcess(c){const a=this.store.getState(),M="rl-us",T=(0,m.kT)(a).id,K=!!a.paymentAccount,X=(0,m.kT)(a).email,P=this.getPaymentAgreementByBinderID(a.binder.id).pipe((0,s.U)($=>$.externalId));let y,_;y=K?this.updateExistingPaymentAccount(M,T,X,c):this.createPaymentAccount(M,T,X,c);const z=y.pipe((0,n.b)($=>{_=$}),(0,s.U)($=>$.externalId));return(0,g.D)([z,P]).pipe((0,d.z)(([$,B])=>this.assignPaymentAccountToAgreement(B,T,$)),(0,s.U)(()=>_))}createPaymentAccount(c,a,M,T){return this.http.post(`${this.baseUrl}/brand/${c}/party/${a}/payment-accounts`,{country:"US",email:M,accountToken:T}).pipe((0,n.b)(P=>{this.store.dispatch((0,D.v)(P.length>0?P[0]:P))}),(0,o.K)(()=>this.getExistingPaymentAccount(c,a)))}updateExistingPaymentAccount(c,a,M,T){return this.http.put(`${this.baseUrl}/brand/${c}/party/${a}/payment-accounts`,{country:"US",email:M,accountToken:T}).pipe((0,n.b)(P=>this.store.dispatch((0,D.v)(P))))}getExistingPaymentAccount(c,a){return this.http.get(`${this.baseUrl}/brand/${c}/payment-accounts?partyId=${a}`).pipe((0,n.b)(T=>{this.store.dispatch(T.length>0?(0,D.v)(T[0]):(0,D.Z)())}),(0,o.K)(()=>(0,e.of)(null)))}assignPaymentAccountToAgreement(c,a,M){return this.http.post(`${this.baseUrl}/payment-agreements/${c}/payment-accounts`,{partyId:a,payment:{amount:1e4,currency:"USD"},paymentAccountId:M})}acceptStripeTOS(c){const a=`${this.baseUrl}/payees/${c}/accept_stripe_tos/`,M=new l.WM({Accept:"application/json"});return this.http.get(a,{headers:M})}getTimestampAddDays(c){return new Date((new Date).setDate((new Date).getDate()+c)).getTime()}getQueryUrl(c){if(null==c||"object"!=typeof c)return null==c?"":c.toString();const T=[];for(const K in c){if(!c.hasOwnProperty(K))continue;const X=c[K];T.push(`${encodeURIComponent(K)}=${encodeURIComponent(X??"")}`)}return T.join("&").replace(/%20/g,"+")}static#t=this.\u0275fac=function(a){return new(a||E)(w.LFG(F.e),w.LFG(l.eN),w.LFG(I.y))};static#e=this.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac})}return E})()},5361:(Y,C,t)=>{"use strict";t.d(C,{s:()=>e});class e{static parseJwt(s){var d,n;try{n=s.split(".")[1].replace("-","+").replace("_","/"),d=JSON.parse(window.atob(n))}catch{d=null}return d}}},3609:(Y,C,t)=>{"use strict";t.d(C,{l:()=>s});var e=t(6575),g=t(9039);let s=(()=>{class d{constructor(n){const r=new URL(n.URL);this.searchParams=r.searchParams}get(n){return this.searchParams.get(n)}getAll(n){return this.searchParams.getAll(n)}has(n){return this.searchParams.has(n)}empty(n){return!this.searchParams.get(n)}forEach(n,r){const l=new URLSearchParams(this.toString());this.searchParams.forEach((m,u)=>n.call(r,m,u,l))}notEmpty(n){return!!this.searchParams.get(n)}toString(){return this.searchParams.toString()}static#t=this.\u0275fac=function(r){return new(r||d)(g.LFG(e.K0))};static#e=this.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac})}return d})()},9163:(Y,C,t)=>{"use strict";t.d(C,{f:()=>B});var e=t(3252),g=t(4980),s=t(4683),d=t(3558),o=t(3699),n=t(9912),r=t(3246),l=t(9318),m=t(6143),u=t(7455),D=t(5616),w=t(3738),F=t(7047),I=t(9736),v=t(6360),E=t(8037),W=t(5267),c=t(339),a=t(2906),M=t(4776),T=t(6803),K=t(9039),X=t(8336),P=t(6480),y=t(777),_=t(7764),z=t(2800),$=t(9257);let B=(()=>{class O{constructor(f,x,U,A,j,p,h){this.store=f,this.http=x,this.domSanitization=U,this.envInfo=A,this.userAgentService=j,this.messageService=p,this.eventTracker=h,this.serverErrorRetryStrategy=({maxRetryAttempts:R=3}={})=>H=>H.pipe((0,n.z)((Z,J)=>J+1>R||Z.status>=400&&Z.status<500?(0,e._)(()=>Z):(0,g.of)())),this.event3PagesLoadedEmitted=!1,this.pagesLoaded=0}declineSigning(f,x,U){const A=this.generateApiUrl(`/${f}/requests/declines`),j={reason:x||"",message:U||"",data:{partyId:(0,c.kT)(this.store.getState()).id}};return this.http.post(A,j,{observe:"response"}).pipe((0,r.j)("status"))}cancelSigning(f,x,U){return this.getBinder(f,{fetchHistory:!1,fetchPages:!1,saveStore:!0},null).pipe((0,l.V)(A=>{if("REVIEW_AND_SHARE"===A.status||"SIGN_IN_PROGRESS"===A.status){const j=this.generateApiUrl(`/${f}/requests/cancellations`);return this.http.post(j,{reason:x||"",message:U||""},{observe:"response"}).pipe((0,m.a)(this.serverErrorRetryStrategy()),(0,r.j)("status"))}return(0,e._)(()=>A.status)}))}getFullDocument(f,x,U){const A=new o.WM({Accept:"application/pdf"}),j=new URL(this.generateApiUrl(`/${f}`));return this.http.get(`${j.href}?pdf`,{headers:A,responseType:"blob"}).pipe((0,u.d)())}downloadDocumentAsDocx(f,x,U){let A=this.generateApiUrl(`/${f}/documents/${x}`);A+=U?"?unsigned&docx":"?docx";const j=new o.WM({Accept:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});return this.http.get(`${A}`,{headers:j,responseType:"blob"}).pipe((0,u.d)())}seqGetBinderPages(f,x=[],U){return(0,s.D)(f.documents).pipe((0,D.b)(A=>this.seqGetDocPages(f,A,x,U))).subscribe()}seqGetDocPages(f,x,U=[],A){if(!x.pages)return(0,g.of)(null);const p=x.pages.map(h=>(0,d.P)(()=>{const R=-1!==U.indexOf(h.id);if(0===U.length||R)return this.getDocPage(f,x,h);if(!R){const Z=A.documents.find(J=>J.id===x.id).pages.find(J=>J.id===h.id);return(0,g.of)(Z.src).pipe((0,w.b)(J=>{h.src=J,h.loaded=!0}))}}));return(0,s.D)(p).pipe((0,F.J)(5))}getDocPage(f,x,U){return this.getPngData(f.id,x.id,U.id).pipe((0,I.U)(A=>URL.createObjectURL(A)),(0,I.U)(A=>this.domSanitization.bypassSecurityTrustUrl(A)),(0,w.b)(A=>{U.src=A,U.loaded=!0,this.pagesLoaded+=1,(3===this.pagesLoaded||this.pagesLoaded===f.documents[0].pages.length)&&!this.event3PagesLoadedEmitted&&(this.messageService.sendEvent("NDM_FIRST_3_PAGES_LOADED"),this.event3PagesLoadedEmitted=!0)}))}getPngData(f,x,U){const A=this.generateApiUrl(`/${f}/documents/${x}/pages/${U}`);let j=new o.WM;return j=j.set("Accept","image/png").set("Cache-Control","no-cache, no-store, must-revalidate").set("Pragma","no-cache").set("Expires","0"),this.http.get(A,{headers:j,responseType:"blob"}).pipe((0,v.X)(5))}getBinder(f,{fetchPages:x=!1,pagesSelectedToFetch:U=[],fetchHistory:A=!0,saveStore:j=!0},p){return this.fetchBinder(f).pipe((0,I.U)(h=>(this.messageService.sendEvent({binderData:h}),x&&0===U.length&&this.seqGetBinderPages(h),x&&0!==U.length&&p&&this.seqGetBinderPages(h,U,p),x||this.assignOldDocPages(h),A&&this.getDocumentEvents(f).subscribe(),j&&this.store.dispatch((0,M.yf)(h)),h)))}fetchBinder(f){const x=this.generateApiUrl(`/${f}`),U=new o.WM({Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"});return this.http.get(x,{headers:U}).pipe((0,I.U)(O.formatBinderFromAPI),(0,w.b)(A=>{A&&0!==A.documents.length&&A.documents.find(j=>!j.pages||0===j.pages.length)?this.store.dispatch((0,T.Yi)(!1)):this.store.dispatch((0,T.Yi)(!0))}))}fetchHtmlDocument(f,x){const U=new o.WM({Accept:"text/html"}),A=this.generateApiUrl(`/${f}/documents/${x}`);return this.http.get(A,{headers:U,responseType:"text"})}assignOldDocPages(f){const x=this.store.getState().binder.documents;f.documents=a.r.copyPagesFromDocuments(x,f.documents)}getDocumentEvents(f){const x=this.generateApiUrl(`/${f}/events`);return this.http.get(x).pipe((0,w.b)(U=>{this.store.dispatch((0,M._Q)(U))}))}submitSignatures(f){const U=this.generateApiUrl(`/${f.id}/requests/signatures`),A=this.buildBody(f.documents),j=O.buildHeaders();return this.http.post(U,A,{headers:j}).pipe((0,E.h)(void 0))}sendReminder(f,x,U){const j=this.generateApiUrl(`/${x}/requests/reminders`),p=O.buildHeaders(),h=f.map(Q=>({partyId:Q.id}));let H="This is to remind you that you have one document awaiting for your signature";return f[0].roles.find(Q=>"VIEWER"===Q)&&(H="This is to remind you that you have one document waiting to be reviewed"),this.http.post(j,{message:U||H,recipients:h},{headers:p}).pipe((0,E.h)(void 0))}sendNewViewer({legalName:f,email:x},U,A){const p=this.generateApiUrl(`/${U}/requests/viewers`),h=O.buildHeaders();return this.http.post(p,{notification:!0,message:A,party:{reference:`viewer-${x}`,legalName:f,email:x}},{headers:h}).pipe((0,E.h)(void 0))}removeViewer(f,x){const A=this.generateApiUrl(`/${x}/parties/${f}`),j=O.buildHeaders();return this.http.delete(A,{headers:j}).pipe((0,E.h)(void 0))}sendInvitations(f,x){const A=this.generateApiUrl(`/${f}/requests/invitations`),j=O.buildHeaders();return this.http.post(A,{message:x||""},{headers:j}).pipe((0,E.h)(void 0))}sendFinalisation(f,x){const A=this.generateApiUrl(`/${x.id}/requests/finalisations`),j=O.buildHeaders();return this.http.post(A,{message:f||""},{headers:j}).pipe((0,w.b)(()=>{const h={...x,status:"REVIEW_AND_SHARE"};this.messageService.sendEvent({eventName:"BINDER_FINALISED",binder:h,category:"SignEvent"})}))}editParties(f,x){const A=this.generateApiUrl(`/${x}`),j=new o.WM({Accept:"application/json","Content-Type":"application/merge-patch+json"});return this.http.patch(A,{parties:f},{headers:j})}static formatPartyForAPI(f){return{id:f.isTemporary||f.emailChanged?null:f.id,reference:f.reference,legalName:f.legalName,jobTitle:f.jobTitle||"NO_JOB_TITLE_PROVIDED_BY_CLIENT",email:f.email,personId:f.personId,roles:f.roles,metaData:f.metaData}}static formatPartyFromAPI(f){return{...f,isTemporary:f.isTemporary??!1,emailChanged:!1}}static formatBinderFromAPI(f){return{...f,parties:f.parties.map(O.formatPartyFromAPI)}}updateBinder(f,x=!1){return void 0===f?this.updateBinder(this.store.getState().binder,!0):this.updateBinderPartial(f,x)}updateBinderPartial(f,x=!1){const A=this.generateApiUrl(`/${f.id}`),j=new o.WM({Accept:"application/json","Content-Type":"application/merge-patch+json"}),p=(0,c.CH)(f),h=(0,c.sG)({binder:f}),R={documents:f.documents&&f.documents.map(H=>a.r.format(H,h)),parties:p.map(H=>O.formatPartyForAPI(H)),metaData:f.metaData};return this.http.patch(A,R,{headers:j}).pipe((0,w.b)(H=>{if(x){this.assignOldDocPages(H);const Z=O.formatBinderFromAPI(H);this.store.dispatch((0,M.yf)(Z))}}))}updateParty(f,x){const A=this.generateApiUrl(`/${f}/parties/${x.id}`),j=new o.WM({Accept:"application/json","Content-Type":"application/merge-patch+json"}),p=O.formatPartyForAPI(x);return this.http.patch(A,p,{headers:j}).pipe((0,E.h)(void 0))}deleteParty(f,x){const j=this.generateApiUrl(`/${f}/parties/${"string"==typeof x?x:x.id}`),p=new o.WM({Accept:"application/json","Content-Type":"application/merge-patch+json"});return this.http.delete(j,{headers:p}).pipe((0,E.h)(void 0))}download(f,x){const U=new FileReader;this.messageService.sendEvent({eventName:"DOCUMENT_DOWNLOADED",binder:f,category:"SignEvent"});const A=".pdf"===x?this.getFullDocument(f.id,!1):this.downloadDocumentAsDocx(f.id,f.documents[0].id);return A.pipe((0,W.P)()).subscribe(p=>{const h=f.documents[0].name+x,H=new Blob([p]),Z={cause:"auto",linkURL:URL?.createObjectURL(p),fileName:h,fileExtension:x};if(URL?.revokeObjectURL(Z.linkURL),window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(H,h)&&this.eventTracker.fileDownload(Z);else{const J=function j(p){return window.webkitURL?window.webkitURL.createObjectURL(p):window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(p):null}(p),Q=document.createElement("a");Q.setAttribute("type","hidden"),Q.setAttribute("download",h),document.body.appendChild(Q),Q.href=J,Q.click(),this.eventTracker.fileDownload(Z)}U.addEventListener("loadend",J=>{this.messageService.sendEvent({downloadFullDoc:J.srcElement.result})}),U.readAsText(p),this.getDocumentEvents(f.id).subscribe()}),A}updateDocument(f,x,U,A=!1){const p=this.generateApiUrl(`/${f}/documents/${x}`);let h;h=new o.WM(A?{"Content-Type":"text/html"}:{Accept:"application/json","Content-Type":"application/merge-patch+json"});const R=U;return A?this.http.put(p,R,{headers:h}):this.http.patch(p,R,{headers:h})}buildBody(f){return{data:{signatures:f.filter(x=>x.signable&&x.inputs.length>0).reduce((x,U)=>x.concat(U.inputs),new Array).filter(x=>x.value&&("PENDING"===x.status||"DECLINED"===x.status)).map(x=>this.submitInputMapper(x))}}}submitInputMapper(f){const x={id:f.id,value:f.value,type:f.valueType,userAgent:this.userAgentService.getUserAgent(),host:"192.168.0.1"};return"TEXT"===f.valueType&&(x.font=f.font),x}generateApiUrl(f){return this.envInfo.getBindersBaseUrl()+f}static buildHeaders(){const f=new o.WM;return f.set("Accept","application/json"),f.set("Content-Type","application/json"),f}static#t=this.\u0275fac=function(x){return new(x||O)(K.LFG(X.y),K.LFG(o.eN),K.LFG(P.H7),K.LFG(y.e),K.LFG(_.V),K.LFG(z.e),K.LFG($.a))};static#e=this.\u0275prov=K.Yz7({token:O,factory:O.\u0275fac})}return O})()},304:(Y,C,t)=>{"use strict";t.d(C,{$:()=>n});var e=t(3699),g=t(9736),s=t(9912),d=t(9039),o=t(7865);let n=(()=>{class r{static#t=this.apiUrl="https://api.stripe.com/v1";constructor(m,u){this.http=m,this.payService=u}createIndividualAccountToken({first_name:m,last_name:u,ssn:D,dob_day:w,dob_month:F,dob_year:I}){return this.createAccountToken({"account[tos_shown_and_accepted]":"true","account[business_type]":"individual","account[individual][first_name]":m,"account[individual][last_name]":u,"account[individual][dob][day]":w,"account[individual][dob][month]":F,"account[individual][dob][year]":I,"account[individual][ssn_last_4]":D.slice(-4)})}createBusinessAccountToken({name:m,tax_id:u}){return this.createAccountToken({"account[tos_shown_and_accepted]":"true","account[business_type]":"company","account[company][name]":m,"account[company][tax_id]":u})}createAccountToken(m){return this.payService.getPaymentsConfig().pipe((0,g.U)(u=>u.stripePublishableKey),(0,s.z)(u=>this.createAccountTokenWithKey(m,u)))}createAccountTokenWithKey(m,u){let D=new e.WM({Authorization:"Bearer "+u,"Stripe-Version":"2020-03-02","Content-Type":"application/x-www-form-urlencoded"}),w=new e.LE({fromObject:m});return this.http.post(r.apiUrl+"/tokens",w,{headers:D})}static#e=this.\u0275fac=function(u){return new(u||r)(d.LFG(e.eN),d.LFG(o.T))};static#n=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})()},7897:(Y,C,t)=>{"use strict";t.d(C,{X:()=>d});var e=t(9039),g=t(777),s=t(3699);let d=(()=>{class o{constructor(r,l){this.http=l,this.baseURL=r.getPeerPaymentsBaseUrl()}createWalletTransactionIntent(r,l){return this.http.post(`${this.baseURL}/payment-agreements/${r}/party/${l}/wallet/transaction`,{})}static#t=this.\u0275fac=function(l){return new(l||o)(e.LFG(g.e),e.LFG(s.eN))};static#e=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})()},3966:(Y,C,t)=>{"use strict";t.d(C,{I:()=>d});var e=t(9039),g=t(8336),s=t(777);let d=(()=>{class o{constructor(r,l){this.store=r,this.envInfoService=l,this.initialized=!1}initialize(r){!this.initialized&&this.envInfoService.isPendoSnippetEnabled()&&(pendo.initialize({visitor:{id:r.authInfo.serviceData.upid},account:{id:"default-sign-app-account"}}),this.initialized=!0)}static#t=this.\u0275fac=function(l){return new(l||o)(e.LFG(g.y),e.LFG(s.e))};static#e=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})()},3925:(Y,C,t)=>{"use strict";function e(s,d){function o(...n){if(d){const r=d(...n);if(!r)throw new Error("prepareAction did not return an object");return{type:s,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:s,payload:n[0]}}return o.toString=()=>`${s}`,o.type=s,o.match=n=>n.type===s,o}function g(){return s=>({payload:s})}t.d(C,{P:()=>e,m:()=>g})},2950:(Y,C,t)=>{"use strict";t.d(C,{JU:()=>s,Kd:()=>d,V_:()=>g});var e=t(3925);const g=(0,e.P)("alerts/addAlert",(0,e.m)()),s=(0,e.P)("alerts/removeAlert",(0,e.m)()),d=(0,e.P)("alerts/clearAlerts")},3464:(Y,C,t)=>{"use strict";t.d(C,{Ak:()=>s,DA:()=>g,QK:()=>o,Rk:()=>d,eN:()=>n,zN:()=>l});var e=t(3925);const g=(0,e.P)("identityProfile/setPaymentMethods",(0,e.m)()),s=(0,e.P)("identityProfile/setPayoutMethods",(0,e.m)()),d=(0,e.P)("identityProfile/setAchPaymentMethod",(0,e.m)()),o=(0,e.P)("identityProfile/setCompanyData",(0,e.m)()),n=(0,e.P)("identityProfile/setPersonData",(0,e.m)()),l=((0,e.P)("identityProfile/setVerifications",(0,e.m)()),(0,e.P)("identityProfile/setProfile",(0,e.m)()))},2277:(Y,C,t)=>{"use strict";t.d(C,{Q:()=>s,Z:()=>g});var e=t(3925);const g=(0,e.P)("party-route/clearParty"),s=(0,e.P)("party-route/selectParty",(0,e.m)())},6539:(Y,C,t)=>{"use strict";t.d(C,{CE:()=>s,Q1:()=>g,mg:()=>r,rY:()=>o,sQ:()=>d});var e=t(3925);const g=(0,e.P)("party/addParty",(0,e.m)()),s=(0,e.P)("party/updateParty",(0,e.m)()),d=(0,e.P)("party/removeParty",(0,e.m)()),o=(0,e.P)("party/removeTemporaryParties"),r=((0,e.P)("party/ensurePartyRoleIntegrity"),(0,e.P)("party/swapPartyReferences",(0,e.m)()))},9823:(Y,C,t)=>{"use strict";t.d(C,{Z:()=>g,v:()=>s});var e=t(3925);const g=(0,e.P)("payAccount/clearPayAccount"),s=(0,e.P)("payAccount/updatePayAccount",(0,e.m)())},870:(Y,C,t)=>{"use strict";t.d(C,{OX:()=>o,kK:()=>d,o2:()=>g,xk:()=>s});var e=t(3925);const g=(0,e.P)("paymentAgreement/createAgreement",(0,e.m)()),s=(0,e.P)("paymentAgreement/updateAgreement",(0,e.m)()),d=(0,e.P)("paymentAgreement/clearAgreement"),o=(0,e.P)("paymentAgreement/markAsDeleted")},7505:(Y,C,t)=>{"use strict";t.d(C,{B:()=>s,O:()=>g});var e=t(3925);const g=(0,e.P)("paymentMethod/clearPaymentMethod"),s=(0,e.P)("paymentMethod/savePaymentMethod",(0,e.m)())},4776:(Y,C,t)=>{"use strict";t.d(C,{$M:()=>I,Ag:()=>F,QG:()=>m,QS:()=>g,TL:()=>v,Ww:()=>W,_Q:()=>o,aZ:()=>l,h_:()=>E,jq:()=>w,r2:()=>r,rd:()=>u,sW:()=>d,t7:()=>n,yM:()=>D,yf:()=>s});var e=t(3925);const g=(0,e.P)("sign/updateAuthInfo");function s(c){return{type:"UPDATE_BINDER",data:c}}function d(c){return{type:"UPDATE_DOCUMENT_NAME",data:c}}function o(c){return{type:"UPDATE_HISTORY",data:c}}const n=(0,e.P)("sign/recordSignature",(0,e.m)());function r(c){return{type:"RECORD_CUSTOM_TEXT",data:c}}function l(c){return{type:"RECORD_DATE",data:c}}function m(c){return{type:"REMOVE_SIGNATURES",data:c}}function u(c){return{type:"ADD_INPUT",data:c}}function D(c){return{type:"UPDATE_INPUT",data:c}}function w(c){return{type:"TOGGLE_INPUT_ACTIVENESS",data:c}}function F(c){return{type:"REMOVE_INPUT",data:c}}function I(c){return{type:"SET_INPUT_WARNING",data:c}}function v(){return{type:"REMOVE_INPUT_WARNING"}}const E=(0,e.P)("sign/storeMissingSignerInfo"),W=(0,e.P)("sign/inviteMessage")},9265:(Y,C,t)=>{"use strict";t.d(C,{IZ:()=>s,S$:()=>d,hQ:()=>g});var e=t(3925);const g=(0,e.P)("temporary-payment-agreement/clearAgreement"),s=(0,e.P)("temporary-payment-agreement/setPayee",(0,e.m)()),d=(0,e.P)("temporary-payment-agreement/setPayer",(0,e.m)())},6803:(Y,C,t)=>{"use strict";t.d(C,{BA:()=>n,Hj:()=>r,KI:()=>s,MI:()=>d,Yi:()=>m,ZU:()=>l,cD:()=>o,uI:()=>g});var e=t(3925);const g=(0,e.P)("uiProps/setReminderSentToAllViewers"),s=(0,e.P)("uiProps/setSignatureBuilderModeEnabled"),d=(0,e.P)("uiProps/setSignModeEnabled"),o=(0,e.P)("uiProps/setDocumentEditModeEnabled"),n=(0,e.P)("uiProps/setInputsNeedRepositioning"),r=(0,e.P)("uiProps/backToInterviewEnabled"),l=(0,e.P)("uiProps/setAdvancedEditEnabled"),m=(0,e.P)("uiProps/setBinderHasContent")},5248:(Y,C,t)=>{"use strict";t.d(C,{H:()=>g,J:()=>s});var e=t(3925);const g=(0,e.P)("user/setBrandConfig"),s=(0,e.P)("user/setGlobalBrandConfig")},2106:(Y,C,t)=>{"use strict";t.d(C,{Cv:()=>X,Or:()=>T,ro:()=>m});var e=t(292),g=t.n(e),s=t(9265),d=t(6539),o=t(339),n=t(4776);const r=null,l="#333333";function m(P,y){if("UPDATE_BINDER"==y.type){let{parties:_}=y.data;return _=T(y.data,_),_=function u(P){let y=1;return P.forEach(_=>{!_.legalName&&(0,o.jn)(_,"SIGNER")&&(_.missingLegalNameIndex=y),y++}),P}(_),_=_.map((z,$)=>{if(z?.metaData?.style?.background)return z;for(let B=0;B<M.length;B++)for(let O=0;O<y.data.parties.length&&y.data.parties.metaData?.style?.background!==M[B].background;O++)if(O==y.data.parties.length-1){const f={...z.metaData||{},style:0==B?M[$]:M[B]};return{...z,metaData:f}}}),{...y.data,parties:_}}if(y.type===n.t7.type||"RECORD_DATE"==y.type||"RECORD_CUSTOM_TEXT"==y.type||"UPDATE_DOCUMENT_NAME"==y.type||"REMOVE_SIGNATURES"==y.type)return{...P,documents:P.documents.map(_=>D(P,_,y))};if("ADD_INPUT"==y.type||"UPDATE_INPUT"==y.type||"SET_INPUT_WARNING"==y.type||"REMOVE_INPUT_WARNING"==y.type||"REMOVE_INPUT"==y.type||"TOGGLE_INPUT_ACTIVENESS"===y.type)return{...P,documents:P.documents.map(_=>D(P,_,y))};if(d.Q1.match(y)){const _=M.find(z=>!P.parties.some($=>z.background===$.metaData.style.background));return{...P,parties:[...P.parties,{...y.payload,isTemporary:!0,emailChanged:!1,isCurrentUser:!1,metaData:{style:_}}]}}return d.CE.match(y)||d.mg.match(y)?{...P,parties:P.parties.map(_=>function F(P,y){switch(y.type){case d.CE.type:return P.reference===y.payload.reference?{...P,...y.payload,emailChanged:"email"in y.payload?P.email!==y.payload.email:P.emailChanged}:P;case d.mg.type:if(y.payload.some(_=>_.id===P.id)){const _=y.payload.find(z=>z.id!==P.id);return{...P,reference:_.reference,metaData:_.metaData}}return P;default:return P}}(_,y))}:d.sQ.match(y)?"string"==typeof y.payload?{...P,parties:P.parties.filter(_=>_.id!==y.payload),documents:P.documents.map(_=>D(P,_,y))}:"id"in y.payload?m(P,(0,d.sQ)(y.payload.id)):{...P,parties:P.parties.filter(_=>_.reference!==y.payload.reference),documents:P.documents.map(_=>D(P,_,y))}:d.rY.match(y)?P.parties.filter(_=>_.isTemporary).map(_=>(0,d.sQ)(_)).reduce((_,z)=>m(_,z),P):y.type===s.hQ.type?m(P,(0,d.rY)()):P||r}function D(P,y,_){if("ADD_INPUT"===_.type)return y.pages.find($=>$.id===_.data.position.pageId)?{...y,inputs:[...y.inputs,_.data]}:{...y};if("UPDATE_INPUT"==_.type||d.sQ.match(_)||"SET_INPUT_WARNING"==_.type||"REMOVE_INPUT_WARNING"==_.type||"TOGGLE_INPUT_ACTIVENESS"===_.type)return{...y,inputs:y.inputs.map(z=>function I(P,y,_){if("UPDATE_INPUT"==_.type&&_.data.id==y.id)return{..._.data};if("TOGGLE_INPUT_ACTIVENESS"==_.type)return _.data.id==y.id?{...y,active:!y.active}:{...y,active:!1};if("SET_INPUT_WARNING"==_.type)return _.data.id==y.id?{...y,warning:!0}:{...y,warning:!1};if("REMOVE_INPUT_WARNING"==_.type)return{...y,warning:!1};if("UPDATE_BINDER"==_.type){const z=P.parties.find($=>y.partyReference==$.reference)||P.parties.find($=>(0,o.jn)($,"OWNER"));return{...y,partyReference:z.reference,position:v(y.position,_)}}if(d.sQ.match(_)){const z=_.payload.reference??P.parties.find(({id:$})=>_.payload===$)?.reference;if(y.id===_.payload||y.partyReference===z||y.id===_.payload.id){const $=(0,o.oJ)(P,"OWNER");return{...y,position:{...y.position},configuration:{...y.configuration},font:{...y.font},svgData:{...y.svgData},partyReference:$.reference}}}return y}(P,z,_))};if("REMOVE_INPUT"==_.type)return{...y,inputs:y.inputs.filter(z=>z.id!=_.data.id)};if("UPDATE_DOCUMENT_NAME"==_.type&&_.data.id==y.id)return{...y,name:_.data.name};if(n.t7.match(_)){const z=y.inputs.find(k=>k.id===_.payload.id),$=z?z.partyReference:null,B=y.inputs.filter(k=>"DATE_SIGNED"===k.type).filter(k=>null==k.value).find(k=>k.partyReference===$),O=y.inputs.map(k=>k.partyReference!==_.payload.partyReference?k:k===B?function a(P,y,_){const z=g()().format(_.toUpperCase());return y.payload.font?{...P,position:{...P.position},configuration:{...P.configuration},font:W(y.payload.font.color),svgData:{...P.svgData},value:z}:{...P,position:{...P.position},configuration:{...P.configuration},font:{...P.font},svgData:{...P.svgData},value:z}}(k,_,P.dateFormat):"DATE_SIGNED"!==k.type&&"CUSTOM_TEXT"!==k.type?function E(P,y){if(n.t7.match(y)){if(y.payload.id===P.id)return{...P,position:{...P.position},configuration:{...P.configuration},font:{...P.font},svgData:{...P.svgData},...y.payload};if(P.value&&y.payload.type===P.type)return{...P,position:{...P.position},configuration:{...P.configuration},svgData:{...P.svgData},font:{...y.payload.font},value:y.payload.value,valueType:y.payload.valueType}}return P}(k,_):"DATE_SIGNED"===k.type?c(k,_):k);return{...y,inputs:O}}if("REMOVE_SIGNATURES"==_.type){const z=y.inputs.map($=>$.partyReference!=_.data?$:{...$,value:null,valueType:null,svgData:null});return{...y,inputs:z}}if("RECORD_CUSTOM_TEXT"==_.type){const z=y.inputs.map(function($){return $.id==_.data.id?function w(P,y){return{...P,...y.data}}($,_):$});return{...y,inputs:z}}if("RECORD_DATE"==_.type){const z=y.inputs.map(function($){return $.id==_.data.id?c($,_):$});return{...y,inputs:z}}return y}function v(P,y){if("UPDATE_BINDER"==y.type)return{...P,hAlignment:P.hAlignment||"CENTER",vAlignment:P.vAlignment||"MIDDLE"}}function W(P){return{color:P,type:"OPEN_SANS"}}function c(P,y){if(n.t7.match(y)){if(y.payload.font){const _=W(y.payload.font.color);return{...P,position:{...P.position},configuration:{...P.configuration},svgData:{...P.svgData},font:_}}return P}if("RECORD_DATE"===y.type&&y.data.id===P.id){const _=P.font||W(l);return{...P,...y.data,font:_}}return P}const M=[{background:"#FFB26A"},{background:"#FF758E"},{background:"#43D5CC"},{background:"#8997FF"},{background:"#FA6767"},{background:"#C164D7"},{background:"#F18D6C"},{background:"#24B59E"},{background:"#8E57E0"},{background:"#3DB0F2"},{background:"#EF423F"},{background:"#E34E9E"},{background:"#FBD2DD"},{background:"#FCCB2B"},{background:"#FBF0B1"},{background:"#CBA1D2"},{background:"#9692DA"},{background:"#9DCF49"},{background:"#2DB146"},{background:"#43D4CC"},{background:"#ffb36c"},{background:"#ff768f"},{background:"#44d5cc"},{background:"#8a98ff"},{background:"#fa6868"},{background:"#c165d7"},{background:"#f18e6d"},{background:"#24b69f"},{background:"#8f58e0"},{background:"#3eb0f2"},{background:"#ef4340"},{background:"#e34f9e"},{background:"#fbd3de"},{background:"#fccb2c"},{background:"#fbf0b2"},{background:"#cba2d2"},{background:"#9793da"},{background:"#9dcf4a"},{background:"#2db246"},{background:"#44d4cc"},{background:"#ffb46e"},{background:"#ff7891"},{background:"#46d5cc"},{background:"#8c9aff"},{background:"#fa6a6a"},{background:"#c267d7"},{background:"#f18f6f"},{background:"#24b8a0"},{background:"#905ae0"},{background:"#40b1f2"},{background:"#ef4542"},{background:"#e3519f"},{background:"#fbd5df"},{background:"#fccb2e"},{background:"#fbf0b4"},{background:"#cca3d3"},{background:"#9894db"},{background:"#9ecf4c"},{background:"#2db447"},{background:"#46d4cc"},{background:"#ffb570"},{background:"#ff7a92"},{background:"#47d6cd"},{background:"#8e9cff"},{background:"#fa6c6c"},{background:"#c268d8"},{background:"#f19171"},{background:"#24baa2"},{background:"#915ce0"},{background:"#42b2f2"},{background:"#ef4744"},{background:"#e353a0"},{background:"#fbd7e1"},{background:"#fccc30"},{background:"#fbf1b6"},{background:"#cda5d3"},{background:"#9a96db"},{background:"#9fd04d"},{background:"#2eb547"},{background:"#47d5cd"},{background:"#ffb672"},{background:"#ff7d94"},{background:"#49d6cd"},{background:"#909eff"},{background:"#fa6e6e"},{background:"#c36ad8"},{background:"#f19273"},{background:"#25bba3"},{background:"#925de1"},{background:"#44b3f2"},{background:"#ef4946"},{background:"#e454a1"},{background:"#fbd9e2"},{background:"#fccc32"},{background:"#fbf1b8"},{background:"#cda6d4"},{background:"#9b97dc"},{background:"#a0d04f"},{background:"#2eb748"},{background:"#49d5cd"}];function T(P,y){const z=P.documents.reduce(K,[]).sort(($,B)=>(0,o._H)($,B,P));return y.sort(($,B)=>{const O=z.findIndex(f=>f.partyReference==$.reference),k=z.findIndex(f=>f.partyReference==B.reference);return-1==O&&-1==k?0:-1==O?1:-1==k?-1:O-k})}function K(P,y){return P.concat(y.inputs)}function X({binder:P}){const _=(0,n.yf)({...P,parties:[...P.parties,{isTemporary:!0,roles:[]}]}),{parties:z}=m(P,{..._,payload:void 0});return z[z.length-1].metaData.style.background}},339:(Y,C,t)=>{"use strict";function e({binder:p,historyInfo:h}){const R=h||[];return p.parties.map(Z=>{const J=function H(Z){let J,Q;R.forEach(L=>{"BINDER_CANCELED"==L.type&&(!J||new Date(J.occurredAt)<new Date(L.occurredAt))&&(J=L)}),Q=J?R.filter(L=>new Date(J.occurredAt)<new Date(L.occurredAt)):R;let nt=Q.filter(L=>L.partyId==Z.id),N=p.parties.find(L=>Z.id==L.id);return nt.find(L=>"BINDER_SIGNED"==L.type)?"SIGNED":nt.find(L=>"SIGNER_DECLINED_TO_SIGN"==L.type&&N.id==L.partyId)?"DECLINED":nt.find(L=>"BINDER_VIEWED"==L.type&&N.id==L.partyId)?"VIEWED":"INVITED"}(Z);return{...Z,status:J}})}function g({authInfo:p,binder:h}){if(!p)return;const R=p.serviceData.partyId||p.serviceData.upid;return h?.parties.find(H=>H.id==R)}function s(p,h){return p&&p.roles.includes(h)||!1}function d(p,...h){return h.length>0?h.some(R=>s(p,R)):p.roles.length>0}function n(p,h){return Array.isArray(p)?p.find(R=>s(R,h)):n(p.parties,h)}function l(p,...h){return Array.isArray(p)?p.filter(R=>d(R,...h)):l(p.parties,...h)}function u(p,...h){return Array.isArray(p)?p.filter(h&&h.length>0?H=>h.some(Z=>!s(H,Z)):H=>0===H.roles.length):u(p.parties,...h)}function D(p){const h=g(p);return h&&h.reference||""}function F(p){return function w(p,h){return s(g(p),h)}(p,"OWNER")}function v(p){const h=g(p);return h&&h.legalName||""}function E({binder:p}){return p.documents.reduce((h,R)=>[...h,...R.inputs],[])}function W(p){return E(p).sort((h,R)=>f(h,R,p.binder))}function c(p){const h=D(p);return E(p).filter(R=>R.partyReference==h).filter(R=>null!=R.position.xOffset).filter(R=>"PENDING"==R.status||"DECLINED"==R.status)}function a(p,h){return E(p).filter(R=>R.position.pageId==h)}function M(p,h){return E(p).filter(R=>R.position).filter(R=>R.position.pageId==h).filter(R=>"PENDING"==R.status||"DECLINED"==R.status)}function T(p,h){return c(p).filter(R=>R.position).filter(R=>R.position.pageId==h)}function P(p){return function K(p){return E(p).filter(h=>"COMPLETED"==h.status)}(p).map(h=>h.position.pageId)}function y(p){return function X(p){return E(p).filter(h=>!!h.value)}(p).map(h=>h.position.pageId)}function _({binder:p},h){let R=p.parties.find(Z=>Z.reference==h.partyReference),H=p.parties.find(Z=>s(Z,"OWNER"));return R||H}function z(p,h){return!!E(h).find(H=>H.partyReference==p)}function $(p){return E(p).find(h=>h.active)||null}function B(p,h){return E(p).find(R=>R.id===h)||null}function O(p){return p.binder.parties.filter(h=>!s(h,"NOTARY")).some(h=>!h.legalName||!h.email)}function k(p){return p.binder.parties.some(h=>s(h,"NOTARY"))}function f(p,h,R){const H=R.documents[0].pages.findIndex(nt=>nt.id==p.position.pageId),Z=R.documents[0].pages.findIndex(nt=>nt.id==h.position.pageId),J=p.position.yOffset,Q=h.position.yOffset;return H<Z?-1:H>Z?1:J<Q?-1:J>Q?1:0}function x(p){return null!==p.missingSignerInfo?p.missingSignerInfo.form:null}function U(p,h){return E(p).filter(R=>!R.optional).some(R=>R.partyReference!=h)}function A(p,h){return E(p).filter(R=>R.partyReference==h).filter(R=>!R.optional)}function j(p,h){return E(p).filter(R=>R.partyReference==h).filter(R=>!R.optional).filter(R=>"COMPLETED"==R.status)}t.d(C,{$o:()=>T,$z:()=>B,CH:()=>l,DC:()=>a,Df:()=>d,Dn:()=>M,IB:()=>P,Kt:()=>z,L2:()=>U,NL:()=>u,OH:()=>k,SA:()=>A,_H:()=>f,cm:()=>F,eY:()=>W,gk:()=>D,gt:()=>_,jn:()=>s,kT:()=>g,oJ:()=>n,sG:()=>E,s_:()=>v,uM:()=>$,wk:()=>y,wm:()=>O,xR:()=>x,yZ:()=>e,zR:()=>j,zw:()=>c})},8336:(Y,C,t)=>{"use strict";t.d(C,{y:()=>nt});var e=t(5697),g=t(2106),o=t(870),n=t(6539);const m=(N,L)=>{switch(L.type){case o.kK.type:return null;case o.o2.type:return{...L.payload};case o.xk.type:return{...N||{firstPayment:"",lastPayment:"",brand:"",paymentPeriod:"",payments:[]},...N,...L.payload};case o.OX.type:return null===N?null:m(N,(0,o.xk)({status:"deletedNotPushed"}));case n.sQ.type:{if(null===N)return null;const V="string"==typeof L.payload?L.payload:L.payload.id;return V&&((N,L)=>L.payments.some(V=>V.ins.some(q=>q.partyId===N)||V.outs.some(q=>q.partyId===N)||V.fees.some(q=>q.breakdown.some(tt=>tt.partyId===N))))(V,N)?{...N,status:"deletedNotPushed",payments:[]}:N}default:return N||null}},u=m;var D=t(9823),v=t(2277);const E=Object.freeze({returnRoute:null});var c=t(9265);const a=Object.freeze({});var T=t(2950);const K=Object.freeze({alerts:Object.freeze([])});var P=t(3464);const y=Object.freeze({verifications:null,paymentMethods:null,payoutMethods:null,personData:null,companyData:null,achPaymentMethod:null});var $=t(5248),B=t(6803),O=t(4776),k=t(7505);function A(N){return(L,V)=>V.type===N.type?V.payload:L||null}function j(N){return this[N]}const h=(0,e.UY)({get:function p(){return j},alerts:(N,L)=>{switch(L.type){case T.V_.type:return{...N,alerts:[...N.alerts,L.payload]};case T.JU.type:return{...N,alerts:N.alerts.filter(V=>V!==L.payload)};case T.Kd.type:return{...N,alerts:K.alerts};default:return N||K}},binder:g.ro,historyInfo:function s(N,L){return"UPDATE_HISTORY"==L.type?function d(N){return N.reverse().reduce((V,q,tt,at)=>function L(V,q){if(!V)return!1;var tt=new Date(V.occurredAt),at=new Date(q.occurredAt),rt=new Date(tt.getTime()+9e5);return!(V.partyId!=q.partyId||V.type!=q.type||"BINDER_DOCUMENT_CHANGED"===V.type||(V.details&&V.details.email)!=(q.details&&q.details.email)||rt<=at)}(V[V.length-1],q)?V:V.concat(q),[N[0]]).reverse()}(L.data):N||[]},identityProfile:(N,L)=>{switch(L.type){case P.zN.type:return{...L.payload,paymentMethods:(N.paymentMethods?N:L.payload).paymentMethods,achPaymentMethod:(N.paymentMethods?N:L.payload).achPaymentMethod};case P.DA.type:return{...N,paymentMethods:L.payload};case P.Rk.type:return{...N,achPaymentMethod:L.payload};case P.Ak.type:return{...N,payoutMethods:L.payload};case P.QK.type:return{...N,companyData:L.payload};case P.eN.type:return{...N,personData:L.payload};default:return N||y}},partyRoute:(N,L)=>{switch(L.type){case v.Z.type:return{...E};case v.Q.type:return{...N,party:L.payload.party,returnRoute:L.payload.returnRoute};default:return N||E}},paymentAgreement:u,paymentAgreementTemp:(N,L)=>{switch(L.type){case c.hQ.type:return a;case c.IZ.type:return{...N,payeeID:L.payload};case c.S$.type:return{...N,payerID:L.payload};default:return N||a}},paymentAccount:(N,L)=>{switch(L.type){case D.Z.type:return null;case D.v.type:return{...N,...L.payload};default:return N||null}},paymentMethod:(N,L)=>{switch(L.type){case k.O.type:return null;case k.B.type:return{...L.payload};default:return N||null}},authInfo:A(O.QS),lastSavedInput:A(O.t7),brandConfig:A($.H),globalBrandConfig:A($.J),reminderSentToAllViewers:A(B.uI),signatureBuilderModeEnabled:A(B.KI),signModeEnabled:A(B.MI),documentEditorModeEnabled:A(B.cD),inputsNeedRepositioningAfterDocumentEdit:A(B.BA),backToInterviewOptionEnabled:A(B.Hj),advancedEditorOptionEnabled:A(B.ZU),binderHasContent:A(B.Yi),missingSignerInfo:A(O.h_),inviteMessage:A(O.Ww)});var R=t(5400),H=t(7474),Z=t(1977),J=t(9039);class Q{constructor(L){this.store=(0,e.MT)(L,(0,Z.Uo)())}getState(){return this.store.getState()}getState$(){const L=new R.t(1),V=this.store.subscribe(()=>{L.next(this.getState())});return L.next(this.getState()),L.pipe((0,H.x)(()=>V()))}dispatch(L){return this.store.dispatch(L)}subscribe(L){return this.store.subscribe(()=>L(this.store.getState()))}}let nt=(()=>{class N extends Q{constructor(){super(h)}static#t=this.\u0275fac=function(q){return new(q||N)};static#e=this.\u0275prov=J.Yz7({token:N,factory:N.\u0275fac})}return N})()},258:(Y,C,t)=>{"use strict";var e=t(9039),g=t(6480),s=t(3699),d=t(1423),o=t(8849),n=t(6575),r=t(9671),l=t(5939),m=t(2868),u=t(4683);let D=t(7716);function w(i,ot,b){var G=window.location.href.match(/\/([a-z]{2})\/([a-z]{2})\/app\//);return G&&-1!==D.locales.indexOf(G[2])?"gb"===G[1]?"en_uk":G[1]:D.locales[0]}function I(){return new v}class v{getTranslation(ot){return(0,u.D)(t(8834)(`./${ot}.json`))}}class E extends r.DJ{load(ot){return new Promise(b=>{this.locales=D.locales,this.prefix=D.prefix,this.init(ot).then(b)})}}function W(i,ot,b){return new E(i,ot,b)}var c=t(9163),a=t(465),M=t(8477),T=t(8336),K=t(777);let P=(()=>{class i extends e.qLn{constructor(b){super(),this.store=b,this.sumoLogger=new a({endpoint:"https://endpoint1.collection.eu.sumologic.com/receiver/v1/http/ZaVnC4dhaV0u_YDgIsIug1peS84UOrYeB0VkX5fnk2TPjVUheWqtu3oWNiPUP06UBsXfmLES7QbGtIDn_i5nuAM1J1045jkiZ_YxcyO6JTOymD4ubimbgQ==",returnPromise:!1,interval:1e4,batchSize:1e5,sendErrors:!0,sourceName:"document-manager-spa",sourceCategory:"RocketSign Frontend",hostName:"RocketSign CICD",graphite:!1})}handleError(b){const S=this.store.getState().binder?.id;this.sumoLogger.log((0,M.Z)(b),{url:`${window.location.origin}, UA: ${navigator.userAgent}`,sessionKey:S}),super.handleError(b)}flushLogs(){this.sumoLogger.flushLogs()}static#t=this.\u0275fac=function(S){return new(S||i)(e.LFG(T.y))};static#e=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();function y(i){const ot=i.get(K.e),b=i.get(T.y);return ot.shouldTrackClientSideErrors()?new P(b):new e.qLn}var _=t(1330);function z(i,ot){1&i&&e._UZ(0,"img",3)}function $(i,ot){if(1&i&&e.YNc(0,z,1,0,"img",2),2&i){const b=e.oxw();e.Q6J("ngIf",!b.pageLoaded)}}function B(i,ot){1&i&&(e.TgZ(0,"header"),e._UZ(1,"div",5),e.qZA())}function O(i,ot){if(1&i&&(e.TgZ(0,"div",4),e.YNc(1,B,2,0,"header"),e._UZ(2,"router-outlet"),e.qZA()),2&i){const b=e.oxw();e.Akn(b.brandingStyles),e.xp6(),e.um2(1,b.showHeader?1:-1)}}let k=(()=>{class i{constructor(b,S,G,et,it,Ht,Xt,Jt,Qt){this.sanitizer=b,this.router=S,this.activatedRoute=G,this.store=et,this.translateService=it,this.document=Ht,this.tokenAuthService=Xt,this.envInfo=Jt,this.errorHandlingService=Qt,this.loadWithoutBranding=!1,this.subscriptions=[],this.pageLoaded=!1;const Zt=this.store.subscribe(ft=>{this.refreshBrandConfig(ft.get("brandConfig")),this.setBinder(ft.get("binder")),this.setFeatureToggles()});this.subscriptions.push(Zt),i.listenForMessageEvents(),this.loadThemeForPartner()}flushLogs(){this.errorHandlingService.flushLogs()}ngOnInit(){this.router.events.subscribe(b=>{b instanceof d.OD&&(this.pageLoaded=!1),b instanceof d.m2&&(this.pageLoaded=!0),(b instanceof d.gk||b instanceof d.Q3)&&(this.pageLoaded=!0)})}ngOnDestroy(){this.subscriptions.forEach(b=>b())}getBrandingVars(){if(!this.brandConfig||!this.brandConfig.lookAndFeel)return null;const b=this.brandConfig.lookAndFeel,S=Object.keys(b).map(G=>`--${G}: ${b[G]}`).join(";");return this.sanitizer.bypassSecurityTrustStyle(S)}refreshBrandConfig(b){this.brandConfig=b,this.brandingStyles=this.getBrandingVars();const S=this.getLanguage();this.translateService.getTranslation(S),this.translateService.use(S),this.translateService.setDefaultLang(S)}getLanguage(){const b=this.store.getState().globalBrandConfig?.brandingLevel,S=new URLSearchParams(window.location.search).get("lang"),G=this.binder?.configuration?.locale?.language;return S||(1===b?"rlus":G||"en")}setBinder(b){this.binder=b}setFeatureToggles(){this.showHeader=this.binder&&this.brandConfig&&this.brandConfig.statusConfiguration?this.brandConfig.statusConfiguration[this.binder.status].showHeader:!(!this.brandConfig||!this.brandConfig.lookAndFeel.showHeader)&&this.brandConfig.lookAndFeel.showHeader}static listenForMessageEvents(){window.addEventListener("message",b=>{b.data.editDocument&&console.log("Received a call to edit the document. Open CKEditor.")})}generateEprsUrl(b){return this.envInfo.getEprsBaseUrl()+b}loadThemeForPartner(){const b=this.tokenAuthService.getBrandId(),S=this.generateEprsUrl(`/groups/${b}/styles/styles.css`);this.loadTheme(S)}loadTheme(b){const S=this.document.createElement("link");S.rel="stylesheet",S.type="text/css",S.href=b,this.document.getElementsByTagName("head")[0].appendChild(S)}static#t=this.\u0275fac=function(S){return new(S||i)(e.Y36(g.H7),e.Y36(d.F0),e.Y36(d.gz),e.Y36(T.y),e.Y36(l.sK),e.Y36(n.K0),e.Y36(_.Y),e.Y36(K.e),e.Y36(P))};static#e=this.\u0275cmp=e.Xpm({type:i,selectors:[["sign-app-root"]],hostBindings:function(S,G){1&S&&e.NdJ("beforeunload",function(){return G.flushLogs()},!1,e.Jf7)},features:[e._Bn([c.f,P])],decls:2,vars:2,consts:[["src","images/signapp/rolling.svg","width","200","height","200","alt","Loading","class","loading-spinner"],["class","branding-wrapper",3,"style"],["src","images/signapp/rolling.svg","width","200","height","200","alt","Loading","class","loading-spinner",4,"ngIf"],["src","images/signapp/rolling.svg","width","200","height","200","alt","Loading",1,"loading-spinner"],[1,"branding-wrapper"],[1,"logo"]],template:function(S,G){1&S&&e.YNc(0,$,1,1,"img",0)(1,O,3,3,"div",1),2&S&&(e.um2(0,G.pageLoaded?-1:0),e.xp6(),e.um2(1,G.pageLoaded?1:-1))},dependencies:[n.O5,d.lC],styles:['@font-face{font-family:rl-icon;src:url(/app/rl-icon.547ef24467982938.eot);src:url(/app/rl-icon.547ef24467982938.eot?#iefix) format("eot"),url(/app/rl-icon.432ba700d4980bee.woff) format("woff"),url(/app/rl-icon.6c25fb9a1f5af513.ttf) format("truetype"),url(/app/rl-icon.a1b1fee6c32cff3b.svg#rl-icon) format("svg")}.rl-icon{font-family:rl-icon!important;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-style:normal;font-variant:normal;font-weight:400;vertical-align:middle;text-decoration:none;text-transform:none}.rl-icon.aal-icon:before{content:"\\e001"}.rl-icon.action-edit:before{content:"\\e002"}.rl-icon.action:before{content:"\\e003"}.rl-icon.add-card-hover:before{content:"\\e004"}.rl-icon.add-card-plus:before{content:"\\e005"}.rl-icon.add:before{content:"\\e006"}.rl-icon.address-input:before{content:"\\e007"}.rl-icon.addsigner:before{content:"\\e008"}.rl-icon.adduser:before{content:"\\e009"}.rl-icon.alert-danger:before{content:"\\e00a"}.rl-icon.alert-info:before{content:"\\e00b"}.rl-icon.alert-success:before{content:"\\e00c"}.rl-icon.arrow-down:before{content:"\\e00d"}.rl-icon.arrow-forward-grey:before{content:"\\e00e"}.rl-icon.arrow-forward:before{content:"\\e00f"}.rl-icon.arrow:before{content:"\\e010"}.rl-icon.arrow_bidirectional:before{content:"\\e011"}.rl-icon.arrow_left:before{content:"\\e012"}.rl-icon.arrow_right:before{content:"\\e013"}.rl-icon.askalawyer:before{content:"\\e014"}.rl-icon.back-arrow:before{content:"\\e015"}.rl-icon.back:before{content:"\\e016"}.rl-icon.black-radio-checked:before{content:"\\e017"}.rl-icon.black-radio:before{content:"\\e018"}.rl-icon.blue-radio-checked:before{content:"\\e019"}.rl-icon.blue-radio:before{content:"\\e01a"}.rl-icon.bubble-pointer:before{content:"\\e01b"}.rl-icon.burger:before{content:"\\e01c"}.rl-icon.business:before{content:"\\e01d"}.rl-icon.calendar:before{content:"\\e01e"}.rl-icon.camera:before{content:"\\e01f"}.rl-icon.cancel-blue-hover:before{content:"\\e020"}.rl-icon.cancel-blue:before{content:"\\e021"}.rl-icon.canceled:before{content:"\\e022"}.rl-icon.card:before{content:"\\e023"}.rl-icon.checkbox-border:before{content:"\\e024"}.rl-icon.checkbox-check-slim:before{content:"\\e025"}.rl-icon.checkbox-check:before{content:"\\e026"}.rl-icon.checklist:before{content:"\\e027"}.rl-icon.checkmark:before{content:"\\e028"}.rl-icon.circle-check:before{content:"\\e029"}.rl-icon.circle-r-logo:before{content:"\\e02a"}.rl-icon.clock-waiting:before{content:"\\e02b"}.rl-icon.clock:before{content:"\\e02c"}.rl-icon.clock2:before{content:"\\e02d"}.rl-icon.close-circle:before{content:"\\e02e"}.rl-icon.close-x-hover:before{content:"\\e02f"}.rl-icon.close-x-white:before{content:"\\e030"}.rl-icon.close-x:before{content:"\\e031"}.rl-icon.close:before{content:"\\e032"}.rl-icon.cloud-download-blue-hover:before{content:"\\e033"}.rl-icon.cloud-download-blue:before{content:"\\e034"}.rl-icon.cloud-download:before{content:"\\e035"}.rl-icon.cloude:before{content:"\\e036"}.rl-icon.color-change:before{content:"\\e037"}.rl-icon.completed:before{content:"\\e038"}.rl-icon.copy-add-new:before{content:"\\e039"}.rl-icon.copy-squares:before{content:"\\e03a"}.rl-icon.created:before{content:"\\e03b"}.rl-icon.custom-text-icon:before{content:"\\e03c"}.rl-icon.date-icon-24px:before{content:"\\e03d"}.rl-icon.date:before{content:"\\e03e"}.rl-icon.declined-to-sign:before{content:"\\e03f"}.rl-icon.delete:before{content:"\\e040"}.rl-icon.dispute:before{content:"\\e041"}.rl-icon.doc-complete:before{content:"\\e042"}.rl-icon.doc-defense:before{content:"\\e043"}.rl-icon.doc-intelligence:before{content:"\\e044"}.rl-icon.doc-unviewed:before{content:"\\e045"}.rl-icon.doc-view:before{content:"\\e046"}.rl-icon.doc-viewed:before{content:"\\e047"}.rl-icon.document:before{content:"\\e048"}.rl-icon.dollar:before{content:"\\e049"}.rl-icon.download-document:before{content:"\\e04a"}.rl-icon.download:before{content:"\\e04b"}.rl-icon.easy:before{content:"\\e04c"}.rl-icon.edit-doc:before{content:"\\e04d"}.rl-icon.edit-input:before{content:"\\e04e"}.rl-icon.edit-signer:before{content:"\\e04f"}.rl-icon.edit:before{content:"\\e050"}.rl-icon.email-input:before{content:"\\e051"}.rl-icon.envelope-send:before{content:"\\e052"}.rl-icon.expert:before{content:"\\e053"}.rl-icon.explore:before{content:"\\e054"}.rl-icon.eye:before{content:"\\e055"}.rl-icon.facebook-white:before{content:"\\e056"}.rl-icon.finish-sign:before{content:"\\e057"}.rl-icon.font-change:before{content:"\\e058"}.rl-icon.forum:before{content:"\\e059"}.rl-icon.google-white:before{content:"\\e05a"}.rl-icon.green-circle-check:before{content:"\\e05b"}.rl-icon.green-pass:before{content:"\\e05c"}.rl-icon.grid-view:before{content:"\\e05d"}.rl-icon.help-global:before{content:"\\e05e"}.rl-icon.help-outline:before{content:"\\e05f"}.rl-icon.history-blue-hover:before{content:"\\e060"}.rl-icon.history:before{content:"\\e061"}.rl-icon.icon-action-copy:before{content:"\\e062"}.rl-icon.icon-pay:before{content:"\\e063"}.rl-icon.icon-swipe:before{content:"\\e064"}.rl-icon.icon-text:before{content:"\\e065"}.rl-icon.icon-tooltip:before{content:"\\e066"}.rl-icon.identity:before{content:"\\e067"}.rl-icon.img-edit-blue:before{content:"\\e068"}.rl-icon.incomplete:before{content:"\\e069"}.rl-icon.info-i:before{content:"\\e06a"}.rl-icon.legal-advice:before{content:"\\e06b"}.rl-icon.linkedin-white:before{content:"\\e06c"}.rl-icon.lock-input:before{content:"\\e06d"}.rl-icon.lock:before{content:"\\e06e"}.rl-icon.managesigners:before{content:"\\e06f"}.rl-icon.message:before{content:"\\e070"}.rl-icon.minimal_check:before{content:"\\e071"}.rl-icon.mobile-menu:before{content:"\\e072"}.rl-icon.more-icon:before{content:"\\e073"}.rl-icon.paid:before{content:"\\e074"}.rl-icon.pay:before{content:"\\e075"}.rl-icon.payment-details:before{content:"\\e076"}.rl-icon.payment-history:before{content:"\\e077"}.rl-icon.pdf-doc:before{content:"\\e078"}.rl-icon.pencil:before{content:"\\e079"}.rl-icon.phone:before{content:"\\e07a"}.rl-icon.pin:before{content:"\\e07b"}.rl-icon.pinchin:before{content:"\\e07c"}.rl-icon.pinchout:before{content:"\\e07d"}.rl-icon.plus-circle:before{content:"\\e07e"}.rl-icon.plus:before{content:"\\e07f"}.rl-icon.print-blue-hover:before{content:"\\e080"}.rl-icon.print-blue:before{content:"\\e081"}.rl-icon.print:before{content:"\\e082"}.rl-icon.profile:before{content:"\\e083"}.rl-icon.qa:before{content:"\\e084"}.rl-icon.quality-seal-orange:before{content:"\\e085"}.rl-icon.radio-off:before{content:"\\e086"}.rl-icon.radio-on:before{content:"\\e087"}.rl-icon.recycle-bin:before{content:"\\e088"}.rl-icon.red-cancel:before{content:"\\e089"}.rl-icon.reminder:before{content:"\\e08a"}.rl-icon.resize-icon:before{content:"\\e08b"}.rl-icon.review-invite:before{content:"\\e08c"}.rl-icon.rl-ask-a-lawyer:before{content:"\\e08d"}.rl-icon.rl-card:before{content:"\\e08e"}.rl-icon.rl-circle-arrow-down:before{content:"\\e08f"}.rl-icon.rl-circle-rlred:before{content:"\\e090"}.rl-icon.rl-dashboard:before{content:"\\e091"}.rl-icon.rl-doc-complete:before{content:"\\e092"}.rl-icon.rl-doc-question:before{content:"\\e093"}.rl-icon.rl-doc-signed:before{content:"\\e094"}.rl-icon.rl-doc-upload:before{content:"\\e095"}.rl-icon.rl-doc-waiting-sign:before{content:"\\e096"}.rl-icon.rl-doc-waiting:before{content:"\\e097"}.rl-icon.rl-document:before{content:"\\e098"}.rl-icon.rl-full-logo:before{content:"\\e099"}.rl-icon.rl-grid:before{content:"\\e09a"}.rl-icon.rl-home:before{content:"\\e09b"}.rl-icon.rl-qna:before{content:"\\e09c"}.rl-icon.rl-question:before{content:"\\e09d"}.rl-icon.rlinitials:before{content:"\\e09e"}.rl-icon.rocket:before{content:"\\e09f"}.rl-icon.rocketsign-logo:before{content:"\\e0a0"}.rl-icon.rolling:before{content:"\\e0a1"}.rl-icon.search-global:before{content:"\\e0a2"}.rl-icon.search:before{content:"\\e0a3"}.rl-icon.settings:before{content:"\\e0a4"}.rl-icon.share-action:before{content:"\\e0a5"}.rl-icon.share:before{content:"\\e0a6"}.rl-icon.sign-action:before{content:"\\e0a7"}.rl-icon.sign-out:before{content:"\\e0a8"}.rl-icon.signature:before{content:"\\e0a9"}.rl-icon.signature2:before{content:"\\e0aa"}.rl-icon.signed:before{content:"\\e0ab"}.rl-icon.start-again:before{content:"\\e0ac"}.rl-icon.success-filled:before{content:"\\e0ad"}.rl-icon.success:before{content:"\\e0ae"}.rl-icon.swivel-icon:before{content:"\\e0af"}.rl-icon.tempdoc:before{content:"\\e0b0"}.rl-icon.text:before{content:"\\e0b1"}.rl-icon.textbox-icon-24px:before{content:"\\e0b2"}.rl-icon.toolbar-calendar:before{content:"\\e0b3"}.rl-icon.toolbar-edit:before{content:"\\e0b4"}.rl-icon.toolbar-initial:before{content:"\\e0b5"}.rl-icon.toolbar-signature:before{content:"\\e0b6"}.rl-icon.toolbar-textbox:before{content:"\\e0b7"}.rl-icon.toolbar-trash:before{content:"\\e0b8"}.rl-icon.trash-bin:before{content:"\\e0b9"}.rl-icon.user-input:before{content:"\\e0ba"}.rl-icon.value-premium:before{content:"\\e0bb"}.rl-icon.verified-icon:before{content:"\\e0bc"}.rl-icon.white-check-mark-status:before{content:"\\e0bd"}.rl-icon.word-doc:before{content:"\\e0be"}\n','@import"//fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic|Caveat|Dancing+Script|Shadows+Into+Light+Two|Just+Me+Again+Down+Here|Libre+Baskerville";a,::ng-deep a{color:var(--rl-action-primary-default, #d68021)}.btn{display:inline-block;text-align:center;text-decoration:none;cursor:pointer;font-family:Open Sans;min-width:194px;-webkit-user-select:none;user-select:none}.btn:focus{outline:none}.btn.disabled{opacity:.6;pointer-events:none;cursor:default}.btn.disabled:hover{background-color:none}.btn-primary{border:0 none;border-radius:var(--rl-button-border-radius, 0px);font-size:16px;font-weight:400;line-height:20px;color:#fff;height:45px;min-height:45px;border-bottom:3px solid #8c5416;position:relative;transition:background-color .2s ease}.btn-secondary{position:relative;border-radius:var(--rl-button-border-radius, 0px);font-size:16px;line-height:20px;height:45px;min-height:45px;background-color:transparent;color:var(--rl-action-primary-default, #d68021);border:1px solid var(--rl-action-primary-default, #d68021);padding:10px 17px;text-align:center;display:block;font-weight:400}.btn-secondary .rl-icon{font-size:20px}.btn-secondary .rl-icon.delete{font-size:16px}.btn-secondary com{font-weight:400}.btn-secondary:hover{background-color:#f2f2f2}.btn-secondary:active{background-color:#d8d8d8}.btn-block{display:block;width:100%}.close-btn{background:url(/images/modal/close.svg) no-repeat;background-size:30px;width:30px;height:30px;position:absolute;top:12px;right:12px}.close-btn:hover{background:url(/images/modal/close-hover.svg) no-repeat;background-size:30px;cursor:pointer}.indicator-arrow{font-family:Open Sans,sans-serif;background-color:#ffe900;position:absolute;left:-15px;width:31px;height:28px;font-size:15px;font-weight:600;color:#666;display:flex;pointer-events:none;justify-content:center;align-items:center}.indicator-arrow .rl-icon.pencil{position:relative;left:5px}.indicator-arrow:after{content:" ";position:absolute;top:0;left:100%;width:0;height:0;border:solid transparent;border-width:14px;border-left-color:#ffe900}@media screen and (min-width: 480px){.indicator-arrow{width:45px;height:30px;font-size:17px}.indicator-arrow:after{border-width:15px}}@media screen and (min-width: 968px){.indicator-arrow{width:70px;height:45px;left:-30px;font-size:22px}.indicator-arrow:after{border-width:22.5px}}input[type=checkbox]{display:none}input[type=checkbox]+label .checkbox-check{width:22px;height:22px;font-size:14px;float:left;color:transparent;display:flex;align-items:center;justify-content:center;border:1px solid #cccccc}input[type=checkbox]:checked+label .checkbox-check{color:#fff;background-color:#d68021}input[type=checkbox]:checked+label .checkbox-check.doc-man-checkbox{background-color:var(--rl-action-primary-default, #d68021)}input[type=checkbox]+label .checkbox-check.show-error{border-color:#e62300}#tooltip,.tooltip-wrapper{position:fixed;background-color:#292929;top:0;left:0;box-sizing:border-box;padding:25px 10px;width:100%;height:100%;visibility:hidden;transition:opacity .5s}#tooltip p.tooltip-text,.tooltip-wrapper p.tooltip-text{display:block;margin-left:5px;color:#999;font-size:16px;font-style:italic;text-transform:none;font-weight:400;text-align:left}#tooltip .tooltip-close-btn,.tooltip-wrapper .tooltip-close-btn{background:url(/images/signapp/close-x-white.svg) no-repeat;background-size:28px;width:25px;height:25px;position:absolute;top:10px;right:10px}#tooltip.hide-tooltip,.tooltip-wrapper.hide-tooltip{opacity:0;visibility:hidden}#tooltip.show-tooltip,.tooltip-wrapper.show-tooltip{opacity:1;visibility:visible}@media screen and (min-width: 480px){#tooltip,.tooltip-wrapper{position:absolute;max-width:inherit;max-height:inherit;width:400px;height:auto;padding:20px 15px;border-radius:5px;top:-155px;left:-190px}#tooltip p,.tooltip-wrapper p{margin:0}#tooltip .tooltip-arrow,.tooltip-wrapper .tooltip-arrow{width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid #292929;position:absolute;bottom:-19px;margin-left:auto;margin-right:auto;left:0;right:0}#tooltip .tooltip-arrow.arrow-down,.tooltip-wrapper .tooltip-arrow.arrow-down{border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid #292929}#tooltip .tooltip-arrow.arrow-up,.tooltip-wrapper .tooltip-arrow.arrow-up{border-left:20px solid transparent;border-right:20px solid transparent;border-bottom:20px solid #292929;border-top:none}}@media only screen and (min-width: 481px){#tooltip,.tooltip-wrapper{left:-330px;padding:15px 20px}#tooltip .tooltip-arrow,.tooltip-wrapper .tooltip-arrow{left:279px}#tooltip .tooltip-close-btn,.tooltip-wrapper .tooltip-close-btn{display:block}}@media screen and (max-width: 700px){#tooltip,.tooltip-wrapper{position:fixed;width:100%;left:0;top:0;height:100%;padding:20px 15px;z-index:11}}@media screen and (min-width: 701px){#tooltip.right-aligned,.tooltip-wrapper.right-aligned{left:-50px}#tooltip.right-aligned .tooltip-arrow,.tooltip-wrapper.right-aligned .tooltip-arrow{left:-280px}}@media screen and (min-width: 769px){#tooltip .tooltip-close-btn,.tooltip-wrapper .tooltip-close-btn{display:none}}.simple-tooltip{position:absolute;background:#333;border-radius:8px;color:#fff;z-index:2}.simple-tooltip .tools{cursor:pointer;padding:0;list-style:none;display:flex;flex-direction:row;margin:0;text-align:center}.simple-tooltip .tools .single-tool{max-width:50px;max-height:50px;flex:1;font-size:22px;justify-content:center;line-height:48px;border-right:1px solid #b6b7bc}@media (hover){.simple-tooltip .tools .single-tool:hover{background-color:#000}.simple-tooltip .tools .single-tool:hover:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}.simple-tooltip .tools .single-tool:hover:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px}.simple-tooltip .tools .single-tool:last-child{border-right:none}}.simple-tooltip .tools .single-tool:last-child{border-right:none}.simple-tooltip .tools .single-tool .rl-icon.toolbar-signature{font-size:28px}.simple-tooltip .tools .single-tool .rl-icon.toolbar-textbox{font-size:32px;position:relative;top:1px;left:1px}.simple-tooltip .tools .single-tool .rl-icon.toolbar-calendar{font-size:30px;position:relative;top:1px}.simple-tooltip .tools .single-tool .rl-icon.toolbar-trash{font-size:26px;position:relative;bottom:1px}.simple-tooltip .tools .single-tool .rl-icon.toolbar-edit{font-size:27px;position:relative;left:1px}.simple-tooltip .tooltip-arrow{position:absolute;width:0;height:0;top:100%;transform:translate(-50%);border-left:14px solid transparent;border-right:14px solid transparent;border-top:18px solid #1A1A26}.error-message{color:#ed1c24;font-size:16px}.rl-typography{color:#3e3f4c;font-family:Open Sans,sans-serif;font-style:normal;font-weight:400;font-size:16px;line-height:normal}.rl-typography--variant-button{color:#fff}.rl-typography--variant-button,.rl-typography--variant-heading{font-size:18px}.rl-typography--variant-tooltip{color:#fff;font-size:14px;line-height:20px}.rl-typography--bold,.rl-typography--variant-heading{font-weight:600}.rl-typography--color-alert,.rl-typography--color-error{color:#e62300}.rl-typography--color-happy{color:#00a68a}.rl-typography--color-primary{color:#d68021}.rl-typography--size-small{font-size:14px}.rl-typography--size-large{font-size:18px}html{color:#333;background-color:#f2f2f2;cursor:default!important;height:100%}body{margin:0;padding:0;font-family:Open Sans,sans-serif;color:#333;background-color:#f2f2f2;position:relative}body.modal-open{overflow:hidden}@media (max-width: 768px){.sign-summary-container{padding:20px 15px}}@media (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait){.sign-summary-container{padding:15px 30px}}.bold-600{font-weight:600}.bold-700{font-weight:700}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.centered{margin:0 auto}.pull-left{float:left}.pull-right{float:right}ul.list-unstyled{list-style:none}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.enable-hardware-accel{backface-visibility:hidden;-ms-perspective:1000;perspective:1000}.branding-wrapper{--primaryBottomColor: #8c5416;--logoURL: url(/images/signapp/vanilla.svg);--logoImageSize: 100% 100%;--logoBoxMargins: 8px auto;--logoHeightValue: 52px;--logoWidthValue: 52px;--logoFloatPositioning: initial;--logoImagePosition: 0 0}body{background-color:#f2f2f2;color:#333}header{background-color:#900;overflow:hidden;width:100%;height:70px}header .logo{background:url(/images/signapp/vanilla.svg);background:var(--logoURL);margin:8px auto;margin:var(--logoBoxMargins);float:initial;float:var(--logoFloatPositioning);width:52px;width:var(--logoWidthValue);height:52px;height:var(--logoHeightValue);background-size:100% 100%;background-size:var(--logoImageSize);background-position:0 0;background-position:var(--logoImagePosition);background-repeat:no-repeat}.modal-default-icon-color{color:var(--rl-brand-primary)}.btn-primary{background-color:var(--rl-action-primary-default, #d68021);border-bottom:var(--primaryBottomRadius, 3px) solid var(--primaryBottomColor, #8c5416)!important}.btn-primary:hover{background-color:var(--primaryHoverColor, #e89338)}.btn-primary:active{background-color:var(--primaryPressedColor, #d68021, #d68021)}.btn-question-mark,input[type=checkbox]:checked+label .checkbox-check{background-color:var(--rl-action-primary-default, #d68021)}.btn-primary:hover{background-color:var(--rl-action-primary-hover, #e89338)}.btn-secondary{color:var(--rl-action-primary-default, #d68021);border:1px solid var(--rl-action-primary-default, #d68021)}.btn-secondary:hover{color:var(--rl-action-primary-hover, #e89338);border-color:var(--rl-action-primary-hover, #e89338)}.img-edit{color:var(--rl-action-primary-default, #d68021)!important}.page-count{color:#999}.doc-control{color:var(--rl-action-primary-default, #d68021)}.doc-control:hover{color:var(--rl-action-primary-hover, #e89338)}.hamburger-inner,.hamburger-inner:after{background:var(--rl-action-primary-default, #d68021)!important}span.avatar{color:var(--rl-action-primary-default, #d68021)}@media all and (max-device-width: 480px){html,body{-webkit-text-size-adjust:none}}\n'],encapsulation:2})}return i})();var f=t(5453),x=t(6321),U=t(405);let A=(()=>{class i{static#t=this.\u0275fac=function(S){return new(S||i)};static#e=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({providers:[f.o],imports:[n.ez,l.aw,r.fQ,U.d,x.j,l.aw,r.fQ,x.j,U.d]})}return i})();var j=t(8920),p=t(6239),h=t(385),R=t(9375),H=t(6411),Z=t(9706),J=t(782),Q=t(5278);const nt=[{path:":binderId/cancelled",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_sigining-cancelled_signing-cancelled_module_ts")]).then(t.bind(t,7612)).then(i=>i.SigningCancelledModule),resolve:{binderOrError:J.b,branding:Q.y}},{path:"cancelled",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_sigining-cancelled_signing-cancelled_module_ts")]).then(t.bind(t,7612)).then(i=>i.SigningCancelledModule)},{path:":binderId/access-revoked",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_access-revoked_access-revoked_module_ts")]).then(t.bind(t,3289)).then(i=>i.AccessRevokedModule),resolve:{binderOrError:J.b,branding:Q.y}},{path:"access-revoked",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_access-revoked_access-revoked_module_ts")]).then(t.bind(t,3289)).then(i=>i.AccessRevokedModule)},{path:":binderId/service-down",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_service-down_service-down_module_ts")]).then(t.bind(t,1917)).then(i=>i.ServiceDownModule),resolve:{binderOrError:J.b,branding:Q.y}},{path:"service-down",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_service-down_service-down_module_ts")]).then(t.bind(t,1917)).then(i=>i.ServiceDownModule)},{path:":binderId/not-found",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_binder-not-found_not-found_module_ts")]).then(t.bind(t,3453)).then(i=>i.BinderNotFoundModule),resolve:{binderOrError:J.b,branding:Q.y}},{path:"not-found",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_binder-not-found_not-found_module_ts")]).then(t.bind(t,3453)).then(i=>i.BinderNotFoundModule)},{path:":binderId",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_sign-app-dashboard_dashboard_module_ts")]).then(t.bind(t,7802)).then(i=>i.DashboardModule),resolve:{binderOrError:J.b,branding:Q.y}},{path:"",loadChildren:()=>Promise.all([t.e("common"),t.e("src_app_modules_sign-app_sign-app-dashboard_dashboard_module_ts")]).then(t.bind(t,7802)).then(i=>i.DashboardModule),resolve:{binderOrError:J.b,branding:Q.y}},{path:"**",redirectTo:"not-found"}];var N=t(2906),L=t(7865),V=t(304),q=t(2800),tt=t(913),at=t(7764),rt=t(4997),dt=t(9912);let ut=(()=>{class i{constructor(b,S,G){this.tokenAuth=b,this.brandingService=S,this.envInfo=G}intercept(b,S){const{headers:G}=b;return G.get("skipAuth")||G.get("authorization")||this.isPublicApi(b)?S.handle(b):this.tokenAuth.getAccessToken().pipe((0,dt.z)(et=>(b=b.clone({setHeaders:{Authorization:`Bearer ${et}`}}),S.handle(b))))}isPublicApi(b){return b.url.startsWith(this.envInfo.getEprsBaseUrl())}static#t=this.\u0275fac=function(S){return new(S||i)(e.LFG(_.Y),e.LFG(Q.y),e.LFG(K.e))};static#e=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})(),gt=(()=>{class i{constructor(){}static forRoot(){return{ngModule:i}}static#t=this.\u0275fac=function(S){return new(S||i)};static#e=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[A,n.ez,r.fQ,A,n.ez,r.fQ]})}return i})();var ht=t(3966);let mt=(()=>{class i{constructor(b){this.featureFlagService=b}intercept(b,S){return this.featureFlagService.flags.force_binders_service&&(b=b.clone({setHeaders:{"Skip-Maintenance":"true"}})),S.handle(b)}static#t=this.\u0275fac=function(S){return new(S||i)(e.LFG(j.e))};static#e=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var yt=t(6036),Et=t(263),Pt=t(7897),bt=t(6315),vt=t(9257);let _t=(()=>{class i{static forRoot(b){return{ngModule:i,providers:[{provide:bt.v,useValue:b},vt.a]}}static#t=this.\u0275fac=function(S){return new(S||i)};static#e=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[n.ez]})}return i})();var lt=t(274),pt=t(3317),st=t(4520),ct=t(9877);function Dt(i){return 0===i.type&&i.parameters.id?.length>0}function Mt(i){return 1===i.type&&i.parameters.type?.length>0&&i.parameters.fullText?.length>0&&i.parameters.closeType?.length>0}function At(i){return 2===i.type&&i.parameters.type?.length>0&&i.parameters.fullText?.length>0}function Ot(i){return 3===i.type&&i.parameters.linkURL?.length>0&&i.parameters.cause?.length>0}function It(i){return 5===i.type&&"basic"===i.parameters.type}function xt(i){return 6===i.type&&"basic"===i.parameters.type}function Ct(i){return 7===i.type&&i.parameters.methodID?.length>0&&i.parameters.methodType?.length>0&&i.parameters.currency?.length>0&&i.parameters.transactionID?.length>0&&i.parameters.value?.length>0}function Tt(i){return 8===i.type&&i.parameters.paymentAgreementID?.length>0&&i.parameters.source?.length>0}function Rt(i){return 9===i.type&&i.parameters.paymentAgreementID?.length>0}function Ut(i){return 10===i.type}function Bt(i){return 11===i.type&&i.parameters.location?.length>0}let St=(()=>{class i{constructor(b,S){this.destroy=new ct.x,S?.gtmID?.length>0&&function Lt(i,ot,b){i.dataLayer=i.dataLayer||[],i.gtag=function(){i.dataLayer.push(arguments)};const S=ot.createElement("script");S.async=!0,S.src=`https://www.googletagmanager.com/gtm.js?id=${b}`,S.onload=function(){i.dataLayer.push({"gtm.start":(new Date).getTime(),event:"gtm.js"})},ot.body.appendChild(S)}(window,document,S.gtmID);const G=b.events$.pipe((0,lt.R)(this.destroy));G.pipe((0,pt.x)((et,it)=>et===it||et.binderID===it.binderID&&et.partyID===it.partyID&&et.partyEmailAddress===it.partyEmailAddress&&et.paymentAgreementID===it.paymentAgreementID)).subscribe(i.updateCommonParameters),G.pipe((0,st.h)(Dt)).subscribe(i.action),G.pipe((0,st.h)(Mt)).subscribe(i.alertDismissed),G.pipe((0,st.h)(At)).subscribe(i.alertShown),G.pipe((0,st.h)(Ot)).subscribe(i.fileDownload),G.pipe((0,st.h)(It)).subscribe(i.kycStarted),G.pipe((0,st.h)(xt)).subscribe(i.kycSubmitted),G.pipe((0,st.h)(Ct)).subscribe(i.pay),G.pipe((0,st.h)(Tt)).subscribe(i.paymentAgreementCreated),G.pipe((0,st.h)(Rt)).subscribe(i.paymentAgreementDeleted),G.pipe((0,st.h)(Ut)).subscribe(i.userClosedModal),G.pipe((0,st.h)(Bt)).subscribe(i.virtualPageView)}ngOnDestroy(){this.destroy.next()}static removeParameters(b,...S){const G={...b};return S.forEach(et=>{delete G[et]}),G}static action(b){window.gtag("event","action_selected",{...b.parameters,text:b.parameters.text||""})}static alertDismissed(b){const S=i.removeParameters(b.parameters,"fullText","type");window.gtag("event","notification_dismiss",{...S,label:b.parameters.fullText})}static alertShown(b){const S=i.removeParameters(b.parameters,"fullText");window.gtag("event","notification_open",{...S,label:b.parameters.fullText})}static fileDownload(b){if("manual"===b.parameters.cause)return;const S=new URL(b.parameters.linkURL),G=i.removeParameters(b.parameters,"fileExtension","fileName","linkURL","linkText","cause");window.gtag("event","file_download",{...G,file_extension:b.parameters.fileExtension,file_name:b.parameters.fileName,link_text:b.parameters.linkText,link_url:S.toString(),link_domain:S.hostname})}static kycStarted(b){window.gtag("event","kyc_started",b.parameters)}static kycSubmitted(b){window.gtag("event","kyc_submitted",b.parameters)}static pay(b){const S=parseFloat(b.parameters.value);if(Number.isNaN(S))return;const G=i.removeParameters(b.parameters,"transactionID");window.gtag("event","purchase",{...G,transaction_id:b.parameters.transactionID,value:S,items:[{item_id:b.paymentAgreementID,quantity:1}]})}static paymentAgreementCreated(b){window.gtag("event","payment_agreement_created",{...b.parameters,creatorRole:b.parameters.creatorRole||""})}static paymentAgreementDeleted(b){window.gtag("event","payment_agreement_deleted",b.parameters)}static updateCommonParameters(b){window.gtag("set",{binderID:b.binderID,partyID:b.partyID||"",partyEmailAddress:b.partyEmailAddress||"",paymentAgreementID:b.paymentAgreementID||""})}static userClosedModal(b){const S=i.removeParameters(b.parameters,"location");window.gtag("event","modal_close",{...S,page_title:b.pageTitle||"",page_location:b.parameters.location||""})}static virtualPageView(b){const S=i.removeParameters(b.parameters,"location","pageTitle");window.gtag("event","page_view",{...S,page_title:b.pageTitle||"",page_location:b.parameters.location})}static#t=this.\u0275fac=function(S){e.$Z()};static#e=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var wt=t(3609),Wt=t(2389),Ft=t(5616),kt=t(8071),Kt=t(9736);let Nt=(()=>{class i{constructor(){this.challenge=new kt.X(void 0),this.result=new ct.x,this.destroy=new ct.x,this.cancelPending=new ct.x,this.cancelPending$=this.cancelPending.pipe((0,lt.R)(this.destroy)),this.result$=this.result.pipe((0,lt.R)(this.destroy)),this.result$.pipe((0,st.h)(b=>b)).subscribe({next:()=>{this.challenge.next(void 0)}}),this.challenge$=this.challenge.pipe((0,lt.R)(this.destroy)),this.visible$=this.challenge$.pipe((0,Kt.U)(b=>void 0!==b),(0,pt.x)())}ngOnDestroy(){this.cancelPendingChallenges(),this.destroy.next()}setupChallenge(b){return this.challenge.next(b),this.result$}challengeCompleted(b){this.result.next(b)}cancelPendingChallenges(){this.challenge.next(void 0),this.cancelPending.next()}static#t=this.\u0275fac=function(S){return new(S||i)};static#e=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Yt=(()=>{class i{constructor(b){this.service=b}intercept(b,S){return S.handle(b).pipe((0,Wt.K)((G,et)=>{if(function jt(i){return 403===i?.status&&"string"==typeof i?.error?.blockScript&&i.error.blockScript.length>0}(G))return this.service.setupChallenge(G.error).pipe((0,lt.R)(this.service.cancelPending$),(0,st.h)(it=>it),(0,Ft.b)(()=>et));throw G}))}static#t=this.\u0275fac=function(S){return new(S||i)(e.LFG(Nt))};static#e=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})(),zt=(()=>{class i{static#t=this.\u0275fac=function(S){return new(S||i)};static#e=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({providers:[{provide:s.TP,useClass:Yt,multi:!0}],imports:[n.ez,s.JF]})}return i})();var $t=t(3497);let Gt=(()=>{class i{static#t=this.\u0275fac=function(S){return new(S||i)};static#e=this.\u0275mod=e.oAB({type:i,bootstrap:[k]});static#n=this.\u0275inj=e.cJS({providers:[{provide:n.mr,useValue:"/"},{provide:s.TP,useClass:ut,multi:!0},{provide:s.TP,useClass:mt,multi:!0},{provide:e.qLn,deps:[e.zs3],useFactory:y,useClass:P},T.y,_.Y,K.e,j.e,l.sK,h.R,p.s,R.c,H.O,Z.F,n.uU,tt.U,c.f,N.r,L.T,V.$,q.e,rt.e,J.b,Q.y,at.V,ht.I,yt.p,Et.P,Pt.X,wt.l,$t.i],imports:[g.b2,s.JF,s.Ed,l.aw.forRoot({defaultLanguage:"en",loader:{provide:l.Zw,useFactory:I,deps:[s.eN]}}),d.Bz.forRoot(nt,{paramsInheritanceStrategy:"always"}),r.fQ.forRoot(nt,{parser:{provide:r.DJ,useFactory:W,deps:[l.sK,n.Ye,r.uh]},defaultLangFunction:w,alwaysSetPrefix:!1}),A,o.u5,o.UX,s.JF,s.Ed,m.PW,x.j,gt,_t.forRoot({subscribers:[{constructor:St,args:[{gtmID:"GTM-5JLWHWB"}]}]}),zt]})}return i})();(0,e.G48)(),(window.parent||window).postMessage("NDM_LOAD_STARTED","*"),(0,g.q6)().bootstrapModule(Gt).catch(i=>console.error(i))},4654:()=>{},3695:()=>{},7716:Y=>{"use strict";Y.exports=JSON.parse('{"locales":["en","es","fr","nl","de","gb"],"prefix":"routes_"}')}},Y=>{Y.O(0,["vendor"],()=>Y(Y.s=258)),Y.O()}]);
//# sourceMappingURL=main.e1aefb2372a8c865.js.map