import{i as t,h as i}from"./p-c295f2ff.js";function s(t,i,s=(()=>!0)){let e;for(let n=i;null!==n&&e!==n;n=n.getRootNode({composed:!1})){const a=n.querySelector(t);if(a&&s(a,n,i))return a;e=n}return null}function e(t,i){return function(i,s){let e=s.parentElement;for(;null!==e;){if(e.tagName.toLowerCase()===t)return e;e=e.parentElement}return e}(0,i)}var n,a,h,r,o,l,c=function(t,i){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return i.get(t)},u=function(t,i,s){if(!i.has(t))throw new TypeError("attempted to set private field on non-instance");return i.set(t,s),s};class d{constructor(t){this.observerOptions=t,this.element=null}cleanUp(){var t;this.showElement(),this.element=null,null===(t=this.observer)||void 0===t||t.disconnect(),this.observer=void 0}resumeObservation(){var t;this.element&&(null===(t=this.observer)||void 0===t||t.observe(this.element,this.observerOptions),this.hideElement())}startObservation(){this.resumeObservation()}stopObservation(){var t;null===(t=this.observer)||void 0===t||t.disconnect(),this.showElement()}setChangeCallback(i){var s;null===(s=this.observer)||void 0===s||s.disconnect(),t(i)&&"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver((()=>{i()})))}hideElement(){var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-hidden","true")}showElement(){var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-hidden","false")}}class v extends d{constructor(){super({attributes:!0,attributeFilter:["hidden"],characterData:!0,childList:!0,subtree:!0})}findElement(t,i){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.element=s(`#${i}`,t)}}class f extends d{constructor(){super({attributes:!1,characterData:!0,childList:!0,subtree:!0}),n.set(this,void 0),a.set(this,!1)}cleanUp(){var t;c(this,n)&&(null===(t=this.element)||void 0===t||t.removeEventListener("click",c(this,n))),super.cleanUp(),u(this,n,void 0)}findElement(i,h,r){var o;null===(o=this.observer)||void 0===o||o.disconnect();const l=e("label",i);l?(this.element=l,u(this,a,!0)):h&&(this.element=s(`label[for="${h}"]`,i),u(this,a,!1)),this.element&&t(r)?(u(this,n,(()=>{const t=r();null==t||t.click()})),this.element.addEventListener("click",c(this,n))):u(this,n,void 0)}hideElement(){c(this,a)||super.hideElement()}}n=new WeakMap,a=new WeakMap;class p{constructor(t){this.component=t,h.set(this,(()=>{this.component.ariaDescription=c(this,r).element.innerHTML})),r.set(this,new v)}ariaDescribedByIDChange(t,i){if(i&&(c(this,r).findElement(t,i),c(this,r).element))return c(this,h).call(this),void c(this,r).startObservation();c(this,r).stopObservation(),this.component.ariaDescription=void 0}connectedCallback(){c(this,r).setChangeCallback(c(this,h)),this.component.ariaDescribedByIDChange(this.component.ariaDescribedByID)}disconnectedCallback(){c(this,r).cleanUp()}}h=new WeakMap,r=new WeakMap;class b{constructor(t){this.component=t,o.set(this,(()=>{this.component.ariaLabel=c(this,l).element.innerText})),l.set(this,new f)}ariaLabelChange(t){void 0===t?c(this,l).resumeObservation():(c(this,l).stopObservation(),this.component.ariaLabel=t)}connectedCallback(){c(this,l).setChangeCallback(c(this,o)),this.component.ariaLabelChange&&this.component.ariaLabelChange(this.component.ariaLabelProp),this.component.idChange&&this.component.idChange(this.component.idProp)}disconnectedCallback(){c(this,l).cleanUp()}idChange(t,i,s){c(this,l).findElement(t,s,i),c(this,l).element?this.component.ariaLabelProp||(c(this,l).startObservation(),c(this,o).call(this)):c(this,l).stopObservation()}}function w(s,e){return async function(n){if(s.name){const t=await s.getValue();(!function(t){return!!t.type}(s)||"radio"!==s.type||s.checked)&&n.formData.append(s.name,t)}if(i(s.reportValidity)){const i=await s.reportValidity();if(t(e))return e(i,n)}}}function k(t){return"value"===t||"all"===t||"off"===t}o=new WeakMap,l=new WeakMap;export{p as D,b as L,e as a,s as c,k as i,w as m};